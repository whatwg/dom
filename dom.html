<!doctype html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  
  
  <title>DOM Standard</title>
  
  
  <link href="https://www.whatwg.org/style/specification" rel="stylesheet">
  
  
  <link href="https://resources.whatwg.org/bikeshed.css" rel="stylesheet">
  
  
  <link href="https://resources.whatwg.org/logo-dom.svg" rel="icon">
  

  <meta content="Bikeshed 1.0.0" name="generator">
  <style>/* http://prismjs.com/download.html?themes=prism&languages=clike */
/**
 * prism.js default theme for JavaScript, CSS and HTML
 * Based on dabblet (http://dabblet.com)
 * @author Lea Verou
 */

code[class*="language-"],
pre[class*="language-"] {
	color: black;
	text-shadow: 0 1px white;
	font-family: Consolas, Monaco, 'Andale Mono', monospace;
	direction: ltr;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
}

pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,
code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {
	text-shadow: none;
	background: #b3d4fc;
}

pre[class*="language-"]::selection, pre[class*="language-"] ::selection,
code[class*="language-"]::selection, code[class*="language-"] ::selection {
	text-shadow: none;
	background: #b3d4fc;
}

@media print {
	code[class*="language-"],
	pre[class*="language-"] {
		text-shadow: none;
	}
}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #f5f2f0;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: slategray;
}

.token.punctuation {
	color: #999;
}

.namespace {
	opacity: .7;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
	color: #905;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
	color: #690;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
	color: #a67f59;
	background: hsla(0, 0%, 100%, .5);
}

.token.atrule,
.token.attr-value,
.token.keyword {
	color: #07a;
}

.token.function {
	color: #DD4A68;
}

.token.regex,
.token.important,
.token.variable {
	color: #e90;
}

.token.important {
	font-weight: bold;
}

.token.entity {
	cursor: help;
}
</style>
 </head>
 <body class="h-entry status-LS">

  <div class="head">
  
   <p data-fill-with="logo"><a class="logo" href="https://whatwg.org/">
    <img alt="WHATWG" height="100" src="https://resources.whatwg.org/logo-dom.svg">
</a>
</p>
  
   <h1 class="p-name no-ref allcaps" id="title">DOM</h1>
  
   <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">Living Standard — Last Updated
    <time class="dt-updated" datetime="2015-05-08">8 May 2015</time></span></h2>
  
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>Participate:
     <dd><span><a href="https://github.com/whatwg/dom">GitHub whatwg/dom</a> (<a href="https://github.com/whatwg/dom/issues/new">new issue</a>, <a href="https://github.com/whatwg/dom/issues">open issues</a>, <a href="https://www.w3.org/Bugs/Public/buglist.cgi?component=DOM&amp;product=WebAppsWG&amp;resolution=---">legacy open bugs</a>)</span>
     <dd><span><a href="https://wiki.whatwg.org/wiki/IRC">IRC: #whatwg on Freenode</a></span>
     <dt>Commits:
     <dd><span><a href="https://github.com/whatwg/dom/commits">GitHub whatwg/dom/commits</a></span>
     <dd><span><a href="https://twitter.com/thedomstandard">@thedomstandard</a></span>
    </dl>
   </div>
  
   <div data-fill-with="warning"></div>
</div>
  


  <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
  

  <div class="p-summary" data-fill-with="abstract">
   <p>DOM defines a platform-neutral model for events and node trees.</p>

</div>
  

  <div data-fill-with="at-risk"></div>
  


  <h2 class="no-num no-toc no-ref heading settled" id="contents"><span class="content">Table of Contents</span></h2>
  

  <div data-fill-with="table-of-contents" role="navigation">
   <ul class="toc" role="directory">
    <li><a href="#goals"><span class="secno"></span> <span class="content">
Goals</span></a>
    <li><a href="#conformance"><span class="secno">1</span> <span class="content">
Conformance</span></a>
     <ul class="toc">
      <li><a href="#dependencies"><span class="secno">1.1</span> <span class="content">
Dependencies</span></a>
      <li><a href="#extensibility"><span class="secno">1.2</span> <span class="content">
Extensibility</span></a>
     </ul>
    <li><a href="#terminology"><span class="secno">2</span> <span class="content">
Terminology</span></a>
     <ul class="toc">
      <li><a href="#trees"><span class="secno">2.1</span> <span class="content">
Trees</span></a>
      <li><a href="#strings"><span class="secno">2.2</span> <span class="content">Strings</span></a>
      <li><a href="#ordered sets"><span class="secno">2.3</span> <span class="content">Ordered sets</span></a>
      <li><a href="#namespaces"><span class="secno">2.4</span> <span class="content">
Namespaces</span></a>
     </ul>
    <li><a href="#events"><span class="secno">3</span> <span class="content">
Events</span></a>
     <ul class="toc">
      <li><a href="#introduction-to-dom-events"><span class="secno">3.1</span> <span class="content">
Introduction to "DOM Events"</span></a>
      <li><a href="#interface-event"><span class="secno">3.2</span> <span class="content">
Interface <code class="idl"><span>Event</span></code></span></a>
      <li><a href="#interface-customevent"><span class="secno">3.3</span> <span class="content">
Interface <code class="idl"><span>CustomEvent</span></code></span></a>
      <li><a href="#constructing-events"><span class="secno">3.4</span> <span class="content">
Constructing events</span></a>
      <li><a href="#defining-event-interfaces"><span class="secno">3.5</span> <span class="content">
Defining event interfaces</span></a>
      <li><a href="#interface-eventtarget"><span class="secno">3.6</span> <span class="content">
Interface <code class="idl"><span>EventTarget</span></code></span></a>
      <li><a href="#dispatching-events"><span class="secno">3.7</span> <span class="content">
Dispatching events</span></a>
      <li><a href="#firint-vents"><span class="secno">3.8</span> <span class="content">
Firing events</span></a>
     </ul>
    <li><a href="#nodes"><span class="secno">4</span> <span class="content">
Nodes</span></a>
     <ul class="toc">
      <li><a href="#introduction-to-the-dom"><span class="secno">4.1</span> <span class="content">
Introduction to "The DOM"</span></a>
      <li><a href="#node-trees"><span class="secno">4.2</span> <span class="content">
Node tree</span></a>
       <ul class="toc">
        <li><a href="#mutation-algorithms"><span class="secno">4.2.1</span> <span class="content">
Mutation algorithms</span></a>
        <li><a href="#interface-nonelementparentnode"><span class="secno">4.2.2</span> <span class="content">
Interface <code>NonElementParentNode</code></span></a>
        <li><a href="#interface-parentnode"><span class="secno">4.2.3</span> <span class="content">
Interface <code>ParentNode</code></span></a>
        <li><a href="#interface-nondocumenttypechildnode"><span class="secno">4.2.4</span> <span class="content">
Interface <code class="idl"><span>NonDocumentTypeChildNode</span></code></span></a>
        <li><a href="#interface-childnode"><span class="secno">4.2.5</span> <span class="content">
Interface <code class="idl"><span>ChildNode</span></code></span></a>
        <li><a href="#element-collections"><span class="secno">4.2.6</span> <span class="content">
Collections: <code class="idl"><span>Elements</span></code></span></a>
        <li><a href="#old-style-collections"><span class="secno">4.2.7</span> <span class="content">
Old-style collections: <code class="idl"><span>NodeList</span></code> and <code class="idl"><span>HTMLCollection</span></code></span></a>
         <ul class="toc">
          <li><a href="#interface-nodelist"><span class="secno">4.2.7.1</span> <span class="content">
Interface <code class="idl"><span>NodeList</span></code></span></a>
          <li><a href="#interface-htmlcollection"><span class="secno">4.2.7.2</span> <span class="content">
Interface <code class="idl"><span>HTMLCollection</span></code></span></a>
         </ul>
       </ul>
      <li><a href="#mutation-observers"><span class="secno">4.3</span> <span class="content">
Mutation observers</span></a>
       <ul class="toc">
        <li><a href="#interface-mutationobserver"><span class="secno">4.3.1</span> <span class="content">
Interface <code class="idl"><span>MutationObserver</span></code></span></a>
        <li><a href="#queueing-a-mutation-record"><span class="secno">4.3.2</span> <span class="content">
Queuing a mutation record</span></a>
        <li><a href="#interface-mutationrecord"><span class="secno">4.3.3</span> <span class="content">
Interface <code class="idl"><span>MutationRecord</span></code></span></a>
        <li><a href="#garbage-collection"><span class="secno">4.3.4</span> <span class="content">
Garbage collection</span></a>
       </ul>
      <li><a href="#interface-node"><span class="secno">4.4</span> <span class="content">
Interface <code class="idl"><span>Node</span></code></span></a>
      <li><a href="#interface-document"><span class="secno">4.5</span> <span class="content">
Interface <code class="idl"><span>Document</span></code></span></a>
       <ul class="toc">
        <li><a href="#interface=domimplementation"><span class="secno">4.5.1</span> <span class="content">
Interface <code class="idl"><span>DOMImplementation</span></code></span></a>
       </ul>
      <li><a href="#interface-documentfragment"><span class="secno">4.6</span> <span class="content">Interface <code class="idl"><span>DocumentFragment</span></code></span></a>
      <li><a href="#interface-documenttype"><span class="secno">4.7</span> <span class="content">Interface <code class="idl"><span>DocumentType</span></code></span></a>
      <li><a href="#interface-element"><span class="secno">4.8</span> <span class="content">Interface <code class="idl"><span>Element</span></code></span></a>
       <ul class="toc">
        <li><a href="#interface-namednodemap"><span class="secno">4.8.1</span> <span class="content">Interface <code class="idl"><span>NamedNodeMap</span></code></span></a>
        <li><a href="#interface-attr"><span class="secno">4.8.2</span> <span class="content">Interface <code class="idl"><span>Attr</span></code></span></a>
       </ul>
      <li><a href="#interface-characterdata"><span class="secno">4.9</span> <span class="content">Interface <code class="idl"><span>CharacterData</span></code></span></a>
      <li><a href="#interface-text"><span class="secno">4.10</span> <span class="content">Interface <code class="idl"><span>Text</span></code></span></a>
      <li><a href="#interface-processinginstruction"><span class="secno">4.11</span> <span class="content">Interface <code class="idl"><span>ProcessingInstruction</span></code></span></a>
      <li><a href="#interface-comment"><span class="secno">4.12</span> <span class="content">Interface <code class="idl"><span>Comment</span></code></span></a>
     </ul>
    <li><a href="#ranges"><span class="secno">5</span> <span class="content">Ranges</span></a>
     <ul class="toc">
      <li><a href="#introduction-to-dom-ranges"><span class="secno">5.1</span> <span class="content">
Introduction to "DOM Ranges"</span></a>
      <li><a href="#interface-range"><span class="secno">5.2</span> <span class="content">
Interface <code class="idl"><span>Range</span></code></span></a>
     </ul>
    <li><a href="#traversal"><span class="secno">6</span> <span class="content">Traversal</span></a>
     <ul class="toc">
      <li><a href="#interface-nodeiterator"><span class="secno">6.1</span> <span class="content">Interface <code class="idl"><span>NodeIterator</span></code></span></a>
      <li><a href="#interface-treewalker"><span class="secno">6.2</span> <span class="content">Interface <code class="idl"><span>TreeWalker</span></code></span></a>
      <li><a href="#interface-nodefilter"><span class="secno">6.3</span> <span class="content">Interface <code class="idl"><span>NodeFilter</span></code></span></a>
     </ul>
    <li><a href="#sets"><span class="secno">7</span> <span class="content">Sets</span></a>
     <ul class="toc">
      <li><a href="#interface-domtokenlist"><span class="secno">7.1</span> <span class="content">Interface <code class="idl"><span>DOMTokenList</span></code></span></a>
      <li><a href="#interface-domsettabletokenlist"><span class="secno">7.2</span> <span class="content">Interface <code class="idl"><span>DOMSettableTokenList</span></code></span></a>
     </ul>
    <li><a href="#historical"><span class="secno">8</span> <span class="content">Historical</span></a>
     <ul class="toc">
      <li><a href="#dom-events-changes"><span class="secno">8.1</span> <span class="content">DOM Events</span></a>
      <li><a href="#dom-core-changes"><span class="secno">8.2</span> <span class="content">DOM Core</span></a>
      <li><a href="#dom-ranges-changes"><span class="secno">8.3</span> <span class="content">DOM Ranges</span></a>
      <li><a href="#dom-traversal-changes"><span class="secno">8.4</span> <span class="content">DOM Traversal</span></a>
     </ul>
    <li><a href="#acks"><span class="secno"></span> <span class="content">Acknowledgments</span></a>
    <li><a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ul class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ul>
    <li><a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ul class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ul>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
   </ul></div>
  

  <main>



   <p></p>


   <script async="" src="https://resources.whatwg.org/file-issue.js"></script>






   <h2 class="no-num heading settled" id="goals"><span class="content">
Goals</span></h2>


   <p>This specification standardizes the DOM. It does so as follows:</p>


   <ol>
 
    <li>
  By consolidating <cite>DOM Level 3 Core</cite>
  <a data-link-type="biblio" href="#biblio-dom-level-3-core">[DOM-Level-3-Core]</a>,
  <cite>Element Traversal</cite>
  <a data-link-type="biblio" href="#biblio-elementtraversal">[ELEMENTTRAVERSAL]</a>,
  <cite>Selectors API Level 2</cite>
  <a data-link-type="biblio" href="#biblio-selectors-api2">[SELECTORS-API2]</a>, the
  "DOM Event Architecture" and "Basic Event Interfaces" chapters of
  <cite>DOM Level 3 Events</cite>
  <a data-link-type="biblio" href="#biblio-uievents-20031107">[uievents-20031107]</a> (specific type
  of events do not belong in the base specification), and
  <cite>DOM Level 2 Traversal and Range</cite>
  <a data-link-type="biblio" href="#biblio-dom-level-2-traversal-range">[DOM-Level-2-Traversal-Range]</a>, and:

  
     <ul>
   
      <li>Aligning them with the needs of JavaScript where possible.
   
      <li>Aligning them with existing implementations.
   
      <li>Simplifying them as much as possible.
  
     </ul>
     

 
    <li>By moving features from the HTML standard that ought to be part of the DOM
 platform here. <a data-link-type="biblio" href="#biblio-html">[HTML]</a>

 
    <li>
  By defining a replacement for the "Mutation Events" and
  "Mutation Name Event Types" chapters of <cite>DOM Level 3 Events</cite>
  <a data-link-type="biblio" href="#biblio-uievents-20031107">[uievents-20031107]</a> as the old model
  was problematic.


     <p class="note" role="note">Note: The old model is expected to be removed from implementations
  in due course.</p>
     

 
    <li>By defining new features that simplify common DOM operations.
</ol>



   <h2 class="heading settled" data-level="1" id="conformance"><span class="secno">1. </span><span class="content">
Conformance</span><a class="self-link" href="#conformance"></a></h2>
All diagrams, examples, and notes in this specification are
non-normative, as are all sections explicitly marked non-normative.
Everything else in this specification is normative.


   <p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
"SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
"OPTIONAL" in this document are to be interpreted as described in RFC 2119.
For readability, these words do not appear in all uppercase letters in this
specification. <a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a></p>


   <p>Requirements phrased in the imperative as part of algorithms
(such as "strip any leading space characters" or "return false and
terminate these steps") are to be interpreted with the meaning of the
key word ("must", "should", "may", etc) used in introducing the
algorithm.</p>


   <p>Conformance requirements phrased as algorithms or specific steps
may be implemented in any manner, so long as the end result is
equivalent. (In particular, the algorithms defined in this
specification are intended to be easy to follow, and not intended to
be performant.)</p>


   <p id="hardwareLimitations">User agents may impose
implementation-specific limits on otherwise unconstrained inputs,
e.g. to prevent denial of service attacks, to guard against running
out of memory, or to work around platform-specific limitations.

</p>
   <p>When a method or an attribute is said to call another method or attribute, the user agent must invoke its internal API for that attribute or method so that e.g. the author can’t change the behavior by overriding attributes or methods with custom properties or functions in JavaScript.</p>


   <p>Unless otherwise stated, string comparisons are done in a <a data-link-type="dfn" href="#case_sensitive">case-sensitive</a> manner.</p>


   <h3 class="heading settled" data-level="1.1" id="dependencies"><span class="secno">1.1. </span><span class="content">
Dependencies</span><a class="self-link" href="#dependencies"></a></h3>


   <p>The IDL fragments in this specification must be interpreted as
required for conforming IDL fragments, as described in the Web IDL
specification. <a data-link-type="biblio" href="#biblio-webidl">[WEBIDL]</a></p>


   <p>Some of the terms used in this specification are defined in
<cite>Encoding</cite>, <cite>Selectors</cite>, <cite>Web IDL</cite>, <cite>XML</cite>, and
<cite>Namespaces in XML</cite>.
<a data-link-type="biblio" href="#biblio-encoding">[ENCODING]</a>
<a data-link-type="biblio" href="#biblio-selectors4">[SELECTORS4]</a>
<a data-link-type="biblio" href="#biblio-webidl">[WEBIDL]</a>
<a data-link-type="biblio" href="#biblio-xml">[XML]</a>
<a data-link-type="biblio" href="#biblio-xml-names">[XML-NAMES]</a></p>


   <h3 class="heading settled" data-level="1.2" id="extensibility"><span class="secno">1.2. </span><span class="content">
Extensibility</span><a class="self-link" href="#extensibility"></a></h3>


   <p>Vendor-specific proprietary extensions to this specification are
strongly discouraged. Authors must not use such extensions, as
doing so reduces interoperability and fragments the user base,
allowing only users of specific user agents to access the content in
question.</p>


   <p>If vendor-specific extensions are needed, the members should be
prefixed by vendor-specific strings to prevent clashes with future
versions of this specification. Extensions must be defined so that
the use of extensions neither contradicts nor causes the
non-conformance of functionality defined in the specification.</p>



   <p>When vendor-neutral extensions to this specification are needed,
either this specification can be updated accordingly, or an
extension specification can be written that overrides the
requirements in this specification. When someone applying this
specification to their activities decides that they will recognize
the requirements of such an extension specification, it becomes an
<dfn data-dfn-type="dfn" data-export="" data-lt="other applicable specifications" id="other-applicable-specifications">applicable specification<a class="self-link" href="#other-applicable-specifications"></a></dfn>
for the purposes of conformance requirements in
this specification.</p>




   <h2 class="heading settled" data-level="2" id="terminology"><span class="secno">2. </span><span class="content">
Terminology</span><a class="self-link" href="#terminology"></a></h2>


   <p>The term <dfn data-dfn-type="dfn" data-export="" id="context-object">context object<a class="self-link" href="#context-object"></a></dfn> means the object on which the algorithm,
attribute getter, attribute setter, or method being discussed was called. When the
<a data-link-type="dfn" href="#context-object">context object</a> is unambiguous, the term can be omitted.</p>




   <h3 class="heading settled" data-level="2.1" id="trees"><span class="secno">2.1. </span><span class="content">
Trees</span><a class="self-link" href="#trees"></a></h3> 


   <p>A <dfn data-dfn-type="dfn" data-export="" id="concept-tree">tree<a class="self-link" href="#concept-tree"></a></dfn> is a finite hierarchical tree structure. In
<dfn data-dfn-type="dfn" data-export="" id="concept-tree-order">tree order<a class="self-link" href="#concept-tree-order"></a></dfn> is preorder, depth-first
traversal of a <a data-link-type="dfn" href="#concept-tree">tree</a>.</p>



   <p>An object that <dfn data-dfn-for="tree" data-dfn-type="dfn" data-export="" data-lt="participate" id="concept-tree-participate">participates<a class="self-link" href="#concept-tree-participate"></a></dfn> in
a <a data-link-type="dfn" href="#concept-tree">tree</a> has a
<dfn data-dfn-for="tree" data-dfn-type="dfn" data-export="" id="concept-tree-parent">parent<a class="self-link" href="#concept-tree-parent"></a></dfn>, which is either another object
or null, and an ordered list of zero or more
<dfn data-dfn-for="tree" data-dfn-type="dfn" data-export="" data-lt="child|children" id="concept-tree-child">child<a class="self-link" href="#concept-tree-child"></a></dfn> objects. An object <var>A</var> whose
<a data-link-type="dfn" href="#concept-tree-parent">parent</a> is object <var>B</var> is a
<a data-link-type="dfn" href="#concept-tree-child">child</a> of <var>B</var>.</p>


   <p>The <dfn data-dfn-for="tree" data-dfn-type="dfn" data-export="" id="concept-tree-root">root<a class="self-link" href="#concept-tree-root"></a></dfn> of an object is itself, if its
<a data-link-type="dfn" href="#concept-tree-parent">parent</a> is null, or else it is the
<a data-link-type="dfn" href="#concept-tree-root">root</a> of its
<a data-link-type="dfn" href="#concept-tree-parent">parent</a>.</p>


   <p>An object <var>A</var> is called a
<dfn data-dfn-for="tree" data-dfn-type="dfn" data-export="" id="concept-tree-descendant">descendant<a class="self-link" href="#concept-tree-descendant"></a></dfn> of an object
<var>B</var>, if either <var>A</var> is a
<a data-link-type="dfn" href="#concept-tree-child">child</a> of <var>B</var> or
<var>A</var> is a <a data-link-type="dfn" href="#concept-tree-child">child</a> of an
object <var>C</var> that is a
<a data-link-type="dfn" href="#concept-tree-descendant">descendant</a> of <var>B</var>.</p>


   <p>An
<dfn data-dfn-for="tree" data-dfn-type="dfn" data-export="" id="concept-tree-inclusive-descendant">inclusive descendant<a class="self-link" href="#concept-tree-inclusive-descendant"></a></dfn> is
an object or one of its
<a data-link-type="dfn" href="#concept-tree-descendant">descendants</a>.</p>


   <p>An object <var>A</var> is called an
<dfn data-dfn-for="tree" data-dfn-type="dfn" data-export="" id="concept-tree-ancestor">ancestor<a class="self-link" href="#concept-tree-ancestor"></a></dfn> of an object
<var>B</var> if and only if <var>B</var> is a
<a data-link-type="dfn" href="#concept-tree-descendant">descendant</a> of
<var>A</var>.</p>


   <p>An <dfn data-dfn-for="tree" data-dfn-type="dfn" data-export="" id="concept-tree-inclusive-ancestor">inclusive ancestor<a class="self-link" href="#concept-tree-inclusive-ancestor"></a></dfn> is
an object or one of its <a data-link-type="dfn" href="#concept-tree-ancestor">ancestors</a>.</p>


   <p>An object <var>A</var> is called a
<dfn data-dfn-for="tree" data-dfn-type="dfn" data-export="" id="concept-tree-sibling">sibling<a class="self-link" href="#concept-tree-sibling"></a></dfn> of an object
<var>B</var>, if and only if <var>B</var> and <var>A</var>
share the same non-null <a data-link-type="dfn" href="#concept-tree-parent">parent</a>.</p>


   <p>An object <var>A</var> is
<dfn data-dfn-for="tree" data-dfn-type="dfn" data-export="" id="concept-tree-preceding">preceding<a class="self-link" href="#concept-tree-preceding"></a></dfn> an object
<var>B</var> if <var>A</var> and <var>B</var> are in the
same <a data-link-type="dfn" href="#concept-tree">tree</a> and <var>A</var> comes
before <var>B</var> in
<a data-link-type="dfn" href="#concept-tree-order">tree order</a>.</p>


   <p>An object <var>A</var> is
<dfn data-dfn-for="tree" data-dfn-type="dfn" data-export="" id="concept-tree-following">following<a class="self-link" href="#concept-tree-following"></a></dfn> an object
<var>B</var> if <var>A</var> and <var>B</var> are in the
same <a data-link-type="dfn" href="#concept-tree">tree</a> and <var>A</var> comes
after <var>B</var> in
<a data-link-type="dfn" href="#concept-tree-order">tree order</a>.</p>


   <p>The <dfn data-dfn-for="tree" data-dfn-type="dfn" data-export="" id="concept-tree-first-child">first child<a class="self-link" href="#concept-tree-first-child"></a></dfn> of an object is
its first <a data-link-type="dfn" href="#concept-tree-child">child</a> or null if it has no
<a data-link-type="dfn" href="#concept-tree-child">child</a>.</p>


   <p>The <dfn data-dfn-for="tree" data-dfn-type="dfn" data-export="" id="concept-tree-last-child">last child<a class="self-link" href="#concept-tree-last-child"></a></dfn> of an object is
its last <a data-link-type="dfn" href="#concept-tree-child">child</a> or null if it has no
<a data-link-type="dfn" href="#concept-tree-child">child</a>.</p>


   <p>The <dfn data-dfn-for="tree" data-dfn-type="dfn" data-export="" id="concept-tree-previous-sibling">previous sibling<a class="self-link" href="#concept-tree-previous-sibling"></a></dfn> of an
object is its first <a data-link-type="dfn" href="#concept-tree-preceding">preceding</a>
<a data-link-type="dfn" href="#concept-tree-sibling">sibling</a> or null if it has no
<a data-link-type="dfn" href="#concept-tree-preceding">preceding</a>
<a data-link-type="dfn" href="#concept-tree-sibling">sibling</a>.</p>


   <p>The <dfn data-dfn-for="tree" data-dfn-type="dfn" data-export="" id="concept-tree-next-sibling">next sibling<a class="self-link" href="#concept-tree-next-sibling"></a></dfn> of an
object is its first <a data-link-type="dfn" href="#concept-tree-following">following</a>
<a data-link-type="dfn" href="#concept-tree-sibling">sibling</a> or null if it has no
<a data-link-type="dfn" href="#concept-tree-following">following</a>
<a data-link-type="dfn" href="#concept-tree-sibling">sibling</a>.</p>


   <p>The <dfn data-dfn-for="tree" data-dfn-type="dfn" data-export="" id="concept-tree-index">index<a class="self-link" href="#concept-tree-index"></a></dfn> of an object is its number
of <a data-link-type="dfn" href="#concept-tree-preceding">preceding</a>
<a data-link-type="dfn" href="#concept-tree-sibling">siblings</a>.</p>



   <h3 class="heading settled" data-level="2.2" id="strings"><span class="secno">2.2. </span><span class="content">Strings</span><a class="self-link" href="#strings"></a></h3>


   <p>Comparing two strings in a
<dfn data-dfn-type="dfn" data-export="" data-lt="case-sensitive|case-sensitively" id="case_sensitive">case-sensitive<a class="self-link" href="#case_sensitive"></a></dfn> manner means
comparing them exactly, code point for code point.</p>


   <p>Comparing two strings in a
<dfn data-dfn-type="dfn" data-export="" data-lt="ASCII case-insensitive|ASCII case-insensitively" id="ascii-case_insensitive">ASCII case-insensitive<a class="self-link" href="#ascii-case_insensitive"></a></dfn>
manner means comparing them exactly, code point for code point, except that the characters
in the range U+0041 to U+005A (i.e. LATIN CAPITAL LETTER A to LATIN CAPITAL LETTER Z),
inclusive, and the corresponding characters in the range U+0061 to U+007A (i.e.
LATIN SMALL LETTER A to LATIN SMALL LETTER Z), inclusive, are considered to also match.</p>


   <p><dfn data-dfn-type="dfn" data-export="" data-lt="converted to ASCII uppercase" id="converted-to-ascii-uppercase">Converting a string to ASCII uppercase<a class="self-link" href="#converted-to-ascii-uppercase"></a></dfn>
means replacing all characters in the range U+0061 to U+007A, inclusive, with the
corresponding characters in the range U+0041 to U+005A, inclusive.</p>


   <p><dfn data-dfn-type="dfn" data-export="" data-lt="converted to ASCII lowercase" id="converted-to-ascii-lowercase">Converting a string to ASCII lowercase<a class="self-link" href="#converted-to-ascii-lowercase"></a></dfn>
means replacing all characters in the range U+0041 to U+005A, inclusive, with the
corresponding characters in the range U+0061 to U+007A, inclusive.</p>


   <p>A string <var>pattern</var> is a <dfn data-dfn-type="dfn" data-export="" id="prefix-match">prefix match<a class="self-link" href="#prefix-match"></a></dfn> for a string <var>s</var>
when <var>pattern</var> is not longer than <var>s</var> and truncating <var>s</var> to
<var>pattern</var>’s length leaves the two strings as matches of each other.</p>



   <h3 class="heading settled" data-level="2.3" id="ordered sets"><span class="secno">2.3. </span><span class="content">Ordered sets</span><a class="self-link" href="#ordered%20sets"></a></h3>


   <p>The <dfn data-dfn-type="dfn" data-export="" id="concept-ordered-set-parser">ordered set parser<a class="self-link" href="#concept-ordered-set-parser"></a></dfn> takes a string
<var>input</var> and then runs these steps:</p>


   <ol>
 
    <li>Let <var>position</var> be a pointer into <var>input</var>,
 initially pointing at the start of the string.

 
    <li>Let <var>tokens</var> be an ordered set of tokens, initially empty.

 
    <li><a data-link-type="dfn" href="#skip-ascii-whitespace">Skip ASCII whitespace</a>.

 
    <li>While <var>position</var> is not past the end of
 <var>input</var>:

  
     <ol>
   
      <li><a data-link-type="dfn" href="#collect-a-code-point-sequence">Collect a code point sequence</a> of code points that are
   not <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#ascii-whitespace">ASCII whitespace</a>.

   
      <li>If the collected string is not in <var>tokens</var>, append the
   collected string to <var>tokens</var>.

   
      <li><a data-link-type="dfn" href="#skip-ascii-whitespace">Skip ASCII whitespace</a>.
  
     </ol>
     

 
    <li>Return <var>tokens</var>.
</ol>


   <p>To <dfn data-dfn-type="dfn" data-export="" id="collect-a-code-point-sequence">collect a code point sequence<a class="self-link" href="#collect-a-code-point-sequence"></a></dfn> of
<var>code points</var>, run these steps:</p>


   <ol>
 
    <li>Let <var>input</var> and <var>position</var> be the same
 variables as those of the same name in the algorithm that invoked these
 steps.

 
    <li>Let <var>result</var> be the empty string.

 
    <li>While <var>position</var> does not point past the end of
 <var>input</var> and the code point at <var>position</var> is
 one of <var>code points</var>, append that code point to the end
 of <var>result</var> and advance <var>position</var> to the
 next code point in <var>input</var>.

 
    <li>Return <var>result</var>.
</ol>


   <p>To <dfn data-dfn-type="dfn" data-export="" id="skip-ascii-whitespace">skip ASCII whitespace<a class="self-link" href="#skip-ascii-whitespace"></a></dfn> means to
<a data-link-type="dfn" href="#collect-a-code-point-sequence">collect a code point sequence</a> of
<a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#ascii-whitespace">ASCII whitespace</a> and discard the
return value.</p>


   <p>The <dfn data-dfn-type="dfn" data-export="" id="concept-ordered-set-serializer">ordered set serializer<a class="self-link" href="#concept-ordered-set-serializer"></a></dfn> takes a
<var>set</var> and returns the concatenation of the strings in
<var>set</var>, separated from each other by U+0020.</p>



   <h3 class="heading settled" data-level="2.4" id="namespaces"><span class="secno">2.4. </span><span class="content">
Namespaces</span><a class="self-link" href="#namespaces"></a></h3>


   <p>The <dfn data-dfn-type="dfn" data-export="" id="html-namespace">HTML namespace<a class="self-link" href="#html-namespace"></a></dfn> is
<code>http://www.w3.org/1999/xhtml</code>.</p>


   <p>The <dfn data-dfn-type="dfn" data-export="" id="xml-namespace">XML namespace<a class="self-link" href="#xml-namespace"></a></dfn> is
<code>http://www.w3.org/XML/1998/namespace</code>.</p>


   <p>The <dfn data-dfn-type="dfn" data-export="" id="xmlns-namespace">XMLNS namespace<a class="self-link" href="#xmlns-namespace"></a></dfn> is
<code>http://www.w3.org/2000/xmlns/</code>.</p>


   <p>To <dfn data-dfn-type="dfn" data-export="" id="validate">validate<a class="self-link" href="#validate"></a></dfn> a <var>qualifiedName</var>, run these steps:</p>


   <ol>
 
    <li>If <var>qualifiedName</var> does not match the
 <code><a class="css" data-link-type="type" href="http://www.w3.org/TR/xml/#NT-name">Name</a></code> production, <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a>
 an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidcharactererror">InvalidCharacterError</a></code> exception.

 
    <li>If <var>qualifiedName</var> does not match the
 <code><a class="css" data-link-type="type" href="http://www.w3.org/TR/xml-names/#NT-qname">QName</a></code> production,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#namespaceerror">NamespaceError</a></code> exception.
</ol>


   <p>To <dfn data-dfn-type="dfn" data-export="" id="validate-and-extract">validate and extract<a class="self-link" href="#validate-and-extract"></a></dfn> a <var>namespace</var> and <var>qualifiedName</var>,
run these steps:</p>


   <ol>
 
    <li>If <var>namespace</var> is the empty string, set it to null.

 
    <li><a data-link-type="dfn" href="#validate">Validate</a> <var>qualifiedName</var>. Rethrow any exceptions.

 
    <li>Let <var>prefix</var> be null.

 
    <li>Let <var>localName</var> be <var>qualifiedName</var>.

 
    <li>If <var>qualifiedName</var> contains a "<code>:</code>" (U+003E), then split the
 string on it and set <var>prefix</var> to the part before and <var>localName</var> to
 the part after.

 
    <li>If <var>prefix</var> is non-null and <var>namespace</var> is null,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#namespaceerror">NamespaceError</a></code> exception.

 
    <li>If <var>prefix</var> is "<code>xml</code>" and <var>namespace</var> is
 not the <a data-link-type="dfn" href="#xml-namespace">XML namespace</a>, <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#namespaceerror">NamespaceError</a></code> exception.

 
    <li>If either <var>qualifiedName</var> or <var>prefix</var> is
 "<code>xmlns</code>" and <var>namespace</var> is not the
 <a data-link-type="dfn" href="#xmlns-namespace">XMLNS namespace</a>, <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#namespaceerror">NamespaceError</a></code> exception.

 
    <li>If <var>namespace</var> is the <a data-link-type="dfn" href="#xmlns-namespace">XMLNS namespace</a> and neither
 <var>qualifiedName</var> nor <var>prefix</var> is "<code>xmlns</code>",
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#namespaceerror">NamespaceError</a></code> exception.

 
    <li>Return <var>namespace</var>, <var>prefix</var>, <var>localName</var>, and
 <var>qualifiedName</var>.
</ol>




   <h2 class="heading settled" data-level="3" id="events"><span class="secno">3. </span><span class="content">
Events</span><a class="self-link" href="#events"></a></h2>


   <h3 class="heading settled" data-level="3.1" id="introduction-to-dom-events"><span class="secno">3.1. </span><span class="content">
Introduction to "DOM Events"</span><a class="self-link" href="#introduction-to-dom-events"></a></h3>


   <p>Throughout the web platform <a data-link-type="dfn" href="#concept-event">events</a> are
<a data-link-type="dfn" href="#concept-event-dispatch">dispatched</a> to objects to signal an
occurrence, such as network activity or user interaction. These objects
implement the <code class="idl"><a data-link-type="idl" href="#eventtarget">EventTarget</a></code> interface and can therefore add
<a data-link-type="dfn" href="#concept-event-listener">event listeners</a> to observe
<a data-link-type="dfn" href="#concept-event">events</a>:</p>


   <pre class="lang-javascript">obj.addEventListener("load", imgFetched)

function imgFetched(ev) {
  // great success
  …
}
</pre>


   <p><a data-link-type="dfn" href="#concept-event-listener">Event listeners</a> can be removed
by utilizing the
<code class="idl"><a data-link-type="idl" href="#dom-eventtarget-removeeventlistenertype-callback-capture">removeEventListener()</a></code>
method, passing the same arguments.</p>


   <p><a data-link-type="dfn" href="#concept-event">Events</a> are objects too and implement the
<code class="idl"><a data-link-type="idl" href="#event">Event</a></code> interface (or a derived interface). In the example above
<var>ev</var> is the <a data-link-type="dfn" href="#concept-event">event</a>. It is
passed as argument to
<a data-link-type="dfn" href="#concept-event-listener">event listener</a>’s <b>callback</b>
(typically a JavaScript Function as shown above).
<a data-link-type="dfn" href="#concept-event-listener">Event listeners</a> key off the
<a data-link-type="dfn" href="#concept-event">event</a>’s
<code class="idl"><a data-link-type="idl" href="#dom-event-type">type</a></code> attribute value
("<code>load</code>" in the above example). The
<a data-link-type="dfn" href="#concept-event">event</a>’s
<code class="idl"><a data-link-type="idl" href="#dom-event-target">target</a></code> attribute value returns the
object to which the <a data-link-type="dfn" href="#concept-event">event</a> was
<a data-link-type="dfn" href="#concept-event-dispatch">dispatched</a>
(<var>obj</var> above).</p>


   <p>Now while typically <a data-link-type="dfn" href="#concept-event">events</a> are
<a data-link-type="dfn" href="#concept-event-dispatch">dispatched</a> by the user agent as
the result of user interaction or the completion of some task, applications
can <a data-link-type="dfn" href="#concept-event-dispatch">dispatch</a>
<a data-link-type="dfn" href="#concept-event">events</a> themselves, commonly known as
synthetic events:</p>


   <pre class="lang-javascript">// add an appropriate event listener
obj.addEventListener("cat", function(e) { process(e.detail) })

// create and dispatch the event
var event = new CustomEvent("cat", {"detail":{"hazcheeseburger":true}})
obj.dispatchEvent(event)
</pre>


   <p>Apart from signaling, <a data-link-type="dfn" href="#concept-event">events</a> are
sometimes also used to let an application control what happens next in an
operation. For instance as part of form submission an
<a data-link-type="dfn" href="#concept-event">event</a> whose
<code class="idl"><a data-link-type="idl" href="#dom-event-type">type</a></code> attribute value is
"<code>submit</code>" is
<a data-link-type="dfn" href="#concept-event-dispatch">dispatched</a>. If this
<a data-link-type="dfn" href="#concept-event">event</a>’s
<code class="idl"><a data-link-type="idl" href="#dom-event-preventdefault">preventDefault()</a></code> method is
invoked, form submission will be terminated. Applications who wish to make
use of this functionality through <a data-link-type="dfn" href="#concept-event">events</a>
<a data-link-type="dfn" href="#concept-event-dispatch">dispatched</a> by the application
(synthetic events) can make use of the return value of the
<code class="idl"><a data-link-type="idl" href="#dom-eventtarget-dispatcheventevent">dispatchEvent()</a></code> method:</p>


   <pre class="lang-javascript">if(obj.dispatchEvent(event)) {
  // event was not canceled, time for some magic
  …
}
</pre>


   <p>When an <a data-link-type="dfn" href="#concept-event">event</a> is
<a data-link-type="dfn" href="#concept-event-dispatch">dispatched</a> to an object that
<a data-link-type="dfn" href="#concept-tree-participate">participates</a> in a
<a data-link-type="dfn" href="#concept-tree">tree</a> (e.g. an
<a data-link-type="dfn" href="#concept-element">element</a>), it can reach
<a data-link-type="dfn" href="#concept-event-listener">event listeners</a> on that object’s
<a data-link-type="dfn" href="#concept-tree-ancestor">ancestors</a> too. First all object’s
<a data-link-type="dfn" href="#concept-tree-ancestor">ancestor</a>
<a data-link-type="dfn" href="#concept-event-listener">event listeners</a> whose
<b>capture</b> variable is set to true are invoked, in
<a data-link-type="dfn" href="#concept-tree-order">tree order</a>. Second, object’s own
<a data-link-type="dfn" href="#concept-event-listener">event listeners</a> are invoked. And
finally, and only if <a data-link-type="dfn" href="#concept-event">event</a>’s
<code class="idl"><a data-link-type="idl" href="#dom-event-bubbles">bubbles</a></code> attribute value is true,
object’s  <a data-link-type="dfn" href="#concept-tree-ancestor">ancestor</a>
<a data-link-type="dfn" href="#concept-event-listener">event listeners</a> are invoked again,
but now in reverse <a data-link-type="dfn" href="#concept-tree-order">tree order</a>.</p>


   <p>Lets look at an example on how <a data-link-type="dfn" href="#concept-event">events</a>
work in a <a data-link-type="dfn" href="#concept-tree">tree</a>:</p>


   <pre class="lang-markup">&lt;!doctype html>
&lt;html>
 &lt;head>
  &lt;title>Boring example&lt;/title>
 &lt;/head>
 &lt;body>
  &lt;p>Hello &lt;span id=x>world&lt;/span>!&lt;/p>
  &lt;script>
   function test(e) {
     debug(e.target, e.currentTarget, e.eventPhase)
   }
   document.addEventListener("hey", test, true)
   document.body.addEventListener("hey", test)
   var ev = new Event("hey", {bubbles:true})
   document.getElementById("x").dispatchEvent(ev)
  &lt;/script>
 &lt;/body>
&lt;/html>
</pre>


   <p>The <code>debug</code> function will be invoked twice. Each time
the <a data-link-type="dfn" href="#concept-event">events</a>’s
<code class="idl"><a data-link-type="idl" href="#dom-event-target">target</a></code> attribute value will be the
<code>span</code> <a data-link-type="dfn" href="#concept-element">element</a>. The
first time <code class="idl"><a data-link-type="idl" href="#dom-event-currenttarget">currentTarget</a></code> attribute’s
value will be the <a data-link-type="dfn" href="#concept-document">document</a>, the second
time the <code>body</code> <a data-link-type="dfn" href="#concept-element">element</a>.
<code class="idl"><a data-link-type="idl" href="#dom-event-eventphase">eventPhase</a></code> attribute’s value
switches from <code class="idl"><a data-link-type="idl" href="#dom-event-capturing_phase">CAPTURING_PHASE</a></code>
to <code class="idl"><a data-link-type="idl" href="#dom-event-bubbling_phase">BUBBLING_PHASE</a></code>. If an
<a data-link-type="dfn" href="#concept-event-listener">event listener</a> was registered for
the <code>span</code> <a data-link-type="dfn" href="#concept-element">element</a>,
<code class="idl"><a data-link-type="idl" href="#dom-event-eventphase">eventPhase</a></code> attribute’s value
would have been <code class="idl"><a data-link-type="idl" href="#dom-event-at_target">AT_TARGET</a></code>.</p>



   <h3 class="heading settled" data-level="3.2" id="interface-event"><span class="secno">3.2. </span><span class="content">
Interface <code class="idl"><a data-link-type="idl" href="#event">Event</a></code></span><a class="self-link" href="#interface-event"></a></h3>


   <pre class="idl">[<dfn class="idl-code" data-dfn-for="Event" data-dfn-type="constructor" data-export="" data-global-name="Event<interface>/Event(type, eventInitDict)<constructor>" data-lt="Event(type, eventInitDict)" id="dom-event-eventtype-eventinitdict">Constructor<a class="self-link" href="#dom-event-eventtype-eventinitdict"></a></dfn>(DOMString <dfn class="idl-code" data-dfn-for="Event/Event(type, eventInitDict)" data-dfn-type="argument" data-export="" data-global-name="Event<interface>/Event(type, eventInitDict)<method>/type<argument>" id="dom-event-eventtype-eventinitdict-type">type<a class="self-link" href="#dom-event-eventtype-eventinitdict-type"></a></dfn>, optional <a data-link-type="idl-name" href="#dictdef-eventinit">EventInit</a> <dfn class="idl-code" data-dfn-for="Event/Event(type, eventInitDict)" data-dfn-type="argument" data-export="" data-global-name="Event<interface>/Event(type, eventInitDict)<method>/eventInitDict<argument>" id="dom-event-eventtype-eventinitdict-eventinitdict">eventInitDict<a class="self-link" href="#dom-event-eventtype-eventinitdict-eventinitdict"></a></dfn>),
 Exposed=(Window,Worker)]
interface <dfn class="idl-code" data-dfn-type="interface" data-export="" data-global-name="" id="event">Event<a class="self-link" href="#event"></a></dfn> {
  readonly attribute DOMString <a class="idl-code" data-global-name="Event<interface>/type<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-event-type">type</a>;
  readonly attribute <a data-link-type="idl-name" href="#eventtarget">EventTarget</a>? <a class="idl-code" data-global-name="Event<interface>/target<attribute>" data-link-type="attribute" data-readonly="" data-type="EventTarget? " href="#dom-event-target">target</a>;
  readonly attribute <a data-link-type="idl-name" href="#eventtarget">EventTarget</a>? <a class="idl-code" data-global-name="Event<interface>/currentTarget<attribute>" data-link-type="attribute" data-readonly="" data-type="EventTarget? " href="#dom-event-currenttarget">currentTarget</a>;

  const unsigned short <a class="idl-code" data-global-name="Event<interface>/NONE<const>" data-link-type="const" href="#dom-event-none">NONE</a> = 0;
  const unsigned short <a class="idl-code" data-global-name="Event<interface>/CAPTURING_PHASE<const>" data-link-type="const" href="#dom-event-capturing_phase">CAPTURING_PHASE</a> = 1;
  const unsigned short <a class="idl-code" data-global-name="Event<interface>/AT_TARGET<const>" data-link-type="const" href="#dom-event-at_target">AT_TARGET</a> = 2;
  const unsigned short <a class="idl-code" data-global-name="Event<interface>/BUBBLING_PHASE<const>" data-link-type="const" href="#dom-event-bubbling_phase">BUBBLING_PHASE</a> = 3;
  readonly attribute unsigned short <a class="idl-code" data-global-name="Event<interface>/eventPhase<attribute>" data-link-type="attribute" data-readonly="" data-type="unsigned short " href="#dom-event-eventphase">eventPhase</a>;

  void <a class="idl-code" data-global-name="Event<interface>/stopPropagation()<method>" data-link-type="method" href="#dom-event-stoppropagation">stopPropagation</a>();
  void <a class="idl-code" data-global-name="Event<interface>/stopImmediatePropagation()<method>" data-link-type="method" href="#dom-event-stopimmediatepropagation">stopImmediatePropagation</a>();

  readonly attribute boolean <a class="idl-code" data-global-name="Event<interface>/bubbles<attribute>" data-link-type="attribute" data-readonly="" data-type="boolean " href="#dom-event-bubbles">bubbles</a>;
  readonly attribute boolean <a class="idl-code" data-global-name="Event<interface>/cancelable<attribute>" data-link-type="attribute" data-readonly="" data-type="boolean " href="#dom-event-cancelable">cancelable</a>;
  void <a class="idl-code" data-global-name="Event<interface>/preventDefault()<method>" data-link-type="method" href="#dom-event-preventdefault">preventDefault</a>();
  readonly attribute boolean <a class="idl-code" data-global-name="Event<interface>/defaultPrevented<attribute>" data-link-type="attribute" data-readonly="" data-type="boolean " href="#dom-event-defaultprevented">defaultPrevented</a>;

  [Unforgeable] readonly attribute boolean <a class="idl-code" data-global-name="Event<interface>/isTrusted<attribute>" data-link-type="attribute" data-readonly="" data-type="boolean " href="#dom-event-istrusted">isTrusted</a>;
  readonly attribute <a data-link-type="idl-name" href="https://heycam.github.io/webidl/#common-domtimestamp">DOMTimeStamp</a> <a class="idl-code" data-global-name="Event<interface>/timeStamp<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMTimeStamp " href="#dom-event-timestamp">timeStamp</a>;

  void <a class="idl-code" data-global-name="Event<interface>/initEvent(type, bubbles, cancelable)<method>" data-link-type="method" href="#dom-event-initeventtype-bubbles-cancelable">initEvent</a>(DOMString <dfn class="idl-code" data-dfn-for="Event/initEvent(type, bubbles, cancelable)" data-dfn-type="argument" data-export="" data-global-name="Event<interface>/initEvent(type, bubbles, cancelable)<method>/type<argument>" id="dom-event-initeventtype-bubbles-cancelable-type">type<a class="self-link" href="#dom-event-initeventtype-bubbles-cancelable-type"></a></dfn>, boolean <dfn class="idl-code" data-dfn-for="Event/initEvent(type, bubbles, cancelable)" data-dfn-type="argument" data-export="" data-global-name="Event<interface>/initEvent(type, bubbles, cancelable)<method>/bubbles<argument>" id="dom-event-initeventtype-bubbles-cancelable-bubbles">bubbles<a class="self-link" href="#dom-event-initeventtype-bubbles-cancelable-bubbles"></a></dfn>, boolean <dfn class="idl-code" data-dfn-for="Event/initEvent(type, bubbles, cancelable)" data-dfn-type="argument" data-export="" data-global-name="Event<interface>/initEvent(type, bubbles, cancelable)<method>/cancelable<argument>" id="dom-event-initeventtype-bubbles-cancelable-cancelable">cancelable<a class="self-link" href="#dom-event-initeventtype-bubbles-cancelable-cancelable"></a></dfn>);
};

dictionary <dfn class="idl-code" data-dfn-type="dictionary" data-export="" data-global-name="" id="dictdef-eventinit">EventInit<a class="self-link" href="#dictdef-eventinit"></a></dfn> {
  boolean <dfn class="idl-code" data-default="false" data-dfn-for="EventInit" data-dfn-type="dict-member" data-export="" data-global-name="EventInit<dictionary>/bubbles<dict-member>" data-type="boolean " id="dom-eventinit-bubbles">bubbles<a class="self-link" href="#dom-eventinit-bubbles"></a></dfn> = false;
  boolean <dfn class="idl-code" data-default="false" data-dfn-for="EventInit" data-dfn-type="dict-member" data-export="" data-global-name="EventInit<dictionary>/cancelable<dict-member>" data-type="boolean " id="dom-eventinit-cancelable">cancelable<a class="self-link" href="#dom-eventinit-cancelable"></a></dfn> = false;
};
</pre>


   <p>An <dfn data-dfn-type="dfn" data-export="" id="concept-event">event<a class="self-link" href="#concept-event"></a></dfn> allows for signaling that
something has occurred. E.g. that an image has completed downloading. It is
represented by the <code class="idl"><a data-link-type="idl" href="#event">Event</a></code> interface or an interface that
inherits from the <code class="idl"><a data-link-type="idl" href="#event">Event</a></code> interface.</p>


   <dl class="domintro">
 
    <dt><code><var>event</var> = new <a class="idl-code" data-link-type="constructor" href="#dom-event-eventtype-eventinitdict">Event</a>(<var>type</var> [, <var>eventInitDict</var>])</code>
 
    <dd>Returns a new <var>event</var> whose
 <code class="idl"><a data-link-type="idl" href="#dom-event-type">type</a></code> attribute value is set to
 <var>type</var>. The optional <code class="idl"><a class="idl-code" data-link-type="argument" href="#dom-event-eventtype-eventinitdict">eventInitDict</a></code> argument
 allows for setting the <code class="idl"><a data-link-type="idl" href="#dom-event-bubbles">bubbles</a></code> and
 <code class="idl"><a data-link-type="idl" href="#dom-event-cancelable">cancelable</a></code> attributes via object
 members of the same name.

 
    <dt><code><var>event</var> . <code class="idl"><a data-link-type="idl" href="#dom-event-type">type</a></code></code>
 
    <dd>Returns the type of <var>event</var>, e.g.
 "<code>click</code>", "<code>hashchange</code>", or
 "<code>submit</code>".

 
    <dt><code><var>event</var> . <code class="idl"><a data-link-type="idl" href="#dom-event-target">target</a></code></code>
 
    <dd>Returns the object <var>event</var> is
 <a data-link-type="dfn" href="#concept-event-dispatch">dispatched</a> to.

 
    <dt><code><var>event</var> . <code class="idl"><a data-link-type="idl" href="#dom-event-currenttarget">currentTarget</a></code></code>
 
    <dd>Returns the object whose
 <a data-link-type="dfn" href="#concept-event-listener">event listener</a>’s <b>callback</b>
 is invoked.

 
    <dt><code><var>event</var> . <code class="idl"><a data-link-type="idl" href="#dom-event-eventphase">eventPhase</a></code></code>
 
    <dd>Returns the <a data-link-type="dfn" href="#concept-event">event</a>’s phase, which is
 one of <code class="idl"><a data-link-type="idl" href="#dom-event-none">NONE</a></code>,
 <code class="idl"><a data-link-type="idl" href="#dom-event-capturing_phase">CAPTURING_PHASE</a></code>,
 <code class="idl"><a data-link-type="idl" href="#dom-event-at_target">AT_TARGET</a></code>, and
 <code class="idl"><a data-link-type="idl" href="#dom-event-bubbling_phase">BUBBLING_PHASE</a></code>.

 
    <dt><code><var>event</var> . <a class="idl-code" data-link-type="method" href="#dom-event-stoppropagation">stopPropagation</a>()</code>
 
    <dd>When <a data-link-type="dfn" href="#concept-event-dispatch">dispatched</a> in a
 <a data-link-type="dfn" href="#concept-tree">tree</a>, invoking this method prevents
 <var>event</var> from reaching any other objects than the current.

 
    <dt><code><var>event</var> . <a class="idl-code" data-link-type="method" href="#dom-event-stopimmediatepropagation">stopImmediatePropagation</a>()</code>
 
    <dd>Invoking this method prevents <var>event</var> from reaching
 any <a data-link-type="dfn" href="#concept-event-listener">event listeners</a> registered
 after the current one and when
 <a data-link-type="dfn" href="#concept-event-dispatch">dispatched</a> in a
 <a data-link-type="dfn" href="#concept-tree">tree</a> also prevents
 <var>event</var> from reaching any other objects.

 
    <dt><code><var>event</var> . <code class="idl"><a data-link-type="idl" href="#dom-event-bubbles">bubbles</a></code></code>
 
    <dd>Returns true if <var>event</var>’s goes through its <code class="idl"><a data-link-type="idl" href="#dom-event-target">target</a></code> attribute value’s <a data-link-type="dfn" href="#concept-tree-ancestor">ancestors</a> in reverse <a data-link-type="dfn" href="#concept-tree-order">tree order</a>, and false otherwise.

 
    <dt><code><var>event</var> . <code class="idl"><a data-link-type="idl" href="#dom-event-cancelable">cancelable</a></code></code>
 
    <dd>Returns true or false depending on how <var>event</var> was
 initialized. Its return value does not always carry meaning, but true can
 indicate that part of the operation during which <var>event</var> was
 <a data-link-type="dfn" href="#concept-event-dispatch">dispatched</a>, can be canceled by
 invoking the <code class="idl"><a data-link-type="idl" href="#dom-event-preventdefault">preventDefault()</a></code>
 method.

 
    <dt><code><var>event</var> . <a class="idl-code" data-link-type="method" href="#dom-event-preventdefault">preventDefault</a>()</code>
 
    <dd>If invoked when the
 <code class="idl"><a data-link-type="idl" href="#dom-event-cancelable">cancelable</a></code> attribute value is true,
 signals to the operation that caused <var>event</var> to be
 <a data-link-type="dfn" href="#concept-event-dispatch">dispatched</a> that it needs to be
 canceled.

 
    <dt><code><var>event</var> . <code class="idl"><a data-link-type="idl" href="#dom-event-defaultprevented">defaultPrevented</a></code></code>
 
    <dd>Returns true if
 <code class="idl"><a data-link-type="idl" href="#dom-event-preventdefault">preventDefault()</a></code> was invoked
 while the <code class="idl"><a data-link-type="idl" href="#dom-event-cancelable">cancelable</a></code> attribute
 value is true, and false otherwise.

 
    <dt><code><var>event</var> . <code class="idl"><a data-link-type="idl" href="#dom-event-istrusted">isTrusted</a></code></code>
 
    <dd>Returns true if <var>event</var> was
 <a data-link-type="dfn" href="#concept-event-dispatch">dispatched</a> by the user agent, and
 false otherwise.

 
    <dt><code><var>event</var> . <code class="idl"><a data-link-type="idl" href="#dom-event-timestamp">timeStamp</a></code></code>
 
    <dd>Returns the creation time of <var>event</var> in the number of
 milliseconds that passed since 00:00:00 UTC on 1 January 1970.

 
</dl>


   <p>The <dfn class="idl-code" data-dfn-for="Event" data-dfn-type="attribute" data-export="" id="dom-event-type">type<a class="self-link" href="#dom-event-type"></a></dfn> attribute must
return the value it was initialized to. When an
<a data-link-type="dfn" href="#concept-event">event</a> is created the attribute must be
initialized to the empty string.</p>


   <p>The <dfn class="idl-code" data-dfn-for="Event" data-dfn-type="attribute" data-export="" id="dom-event-target">target<a class="self-link" href="#dom-event-target"></a></dfn> and
<dfn class="idl-code" data-dfn-for="Event" data-dfn-type="attribute" data-export="" id="dom-event-currenttarget">currentTarget<a class="self-link" href="#dom-event-currenttarget"></a></dfn>
attributes must return the values they were initialized to. When an
<a data-link-type="dfn" href="#concept-event">event</a> is created the attributes must be
initialized to null.</p>


   <p>The <dfn class="idl-code" data-dfn-for="Event" data-dfn-type="attribute" data-export="" id="dom-event-eventphase">eventPhase<a class="self-link" href="#dom-event-eventphase"></a></dfn>
attribute must return the value it was initialized to, which must be one of
the following:</p>

   <dl>
 
    <dt><dfn class="idl-code" data-dfn-for="Event" data-dfn-type="const" data-export="" id="dom-event-none">NONE<a class="self-link" href="#dom-event-none"></a></dfn> (numeric value 0)
 
    <dd><a data-link-type="dfn" href="#concept-event">Events</a> not currently
 <a data-link-type="dfn" href="#concept-event-dispatch">dispatched</a> are in this phase.
 
    <dt><dfn class="idl-code" data-dfn-for="Event" data-dfn-type="const" data-export="" id="dom-event-capturing_phase">CAPTURING_PHASE<a class="self-link" href="#dom-event-capturing_phase"></a></dfn> (numeric value 1)
 
    <dd>When an <a data-link-type="dfn" href="#concept-event">event</a> is
 <a data-link-type="dfn" href="#concept-event-dispatch">dispatched</a> to an object that
 <a data-link-type="dfn" href="#concept-tree-participate">participates</a> in a
 <a data-link-type="dfn" href="#concept-tree">tree</a> it will be in this phase before it
 reaches its <code class="idl"><a data-link-type="idl" href="#dom-event-target">target</a></code> attribute value.
 
    <dt><dfn class="idl-code" data-dfn-for="Event" data-dfn-type="const" data-export="" id="dom-event-at_target">AT_TARGET<a class="self-link" href="#dom-event-at_target"></a></dfn> (numeric value 2)
 
    <dd>When an <a data-link-type="dfn" href="#concept-event">event</a> is
 <a data-link-type="dfn" href="#concept-event-dispatch">dispatched</a> it will be in this
 phase on its <code class="idl"><a data-link-type="idl" href="#dom-event-target">target</a></code> attribute value.
 
    <dt><dfn class="idl-code" data-dfn-for="Event" data-dfn-type="const" data-export="" id="dom-event-bubbling_phase">BUBBLING_PHASE<a class="self-link" href="#dom-event-bubbling_phase"></a></dfn> (numeric value 3)
 
    <dd>When an <a data-link-type="dfn" href="#concept-event">event</a> is
 <a data-link-type="dfn" href="#concept-event-dispatch">dispatched</a> to an object that
 <a data-link-type="dfn" href="#concept-tree-participate">participates</a> in a
 <a data-link-type="dfn" href="#concept-tree">tree</a> it will be in this phase after it
 reaches its <code class="idl"><a data-link-type="idl" href="#dom-event-target">target</a></code> attribute value.
</dl>
Initially the attribute must be initialized to
<code class="idl"><a data-link-type="idl" href="#dom-event-none">NONE</a></code>.


   <hr>


   <p>Each <a data-link-type="dfn" href="#concept-event">event</a> has the following associated
flags that are all initially unset:</p>

   <ul>
 
    <li><dfn data-dfn-for="Event" data-dfn-type="dfn" data-export="" id="stop-propagation-flag">stop propagation flag<a class="self-link" href="#stop-propagation-flag"></a></dfn>
 
    <li><dfn data-dfn-for="Event" data-dfn-type="dfn" data-export="" id="stop-immediate-propagation-flag">stop immediate propagation flag<a class="self-link" href="#stop-immediate-propagation-flag"></a></dfn>
 
    <li><dfn data-dfn-for="Event" data-dfn-type="dfn" data-export="" id="canceled-flag">canceled flag<a class="self-link" href="#canceled-flag"></a></dfn>
 
    <li><dfn data-dfn-for="Event" data-dfn-type="dfn" data-export="" id="initialized-flag">initialized flag<a class="self-link" href="#initialized-flag"></a></dfn>
 
    <li><dfn data-dfn-for="Event" data-dfn-type="dfn" data-export="" id="dispatch-flag">dispatch flag<a class="self-link" href="#dispatch-flag"></a></dfn>
</ul>


   <p>The
<dfn class="idl-code" data-dfn-for="Event" data-dfn-type="method" data-export="" id="dom-event-stoppropagation">stopPropagation()<a class="self-link" href="#dom-event-stoppropagation"></a></dfn>
method must set the <a data-link-type="dfn" href="#stop-propagation-flag">stop propagation flag</a>.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="Event" data-dfn-type="method" data-export="" id="dom-event-stopimmediatepropagation">stopImmediatePropagation()<a class="self-link" href="#dom-event-stopimmediatepropagation"></a></dfn>
method must set both the <a data-link-type="dfn" href="#stop-propagation-flag">stop propagation flag</a> and
<a data-link-type="dfn" href="#stop-immediate-propagation-flag">stop immediate propagation flag</a>.</p>


   <p>The <dfn class="idl-code" data-dfn-for="Event" data-dfn-type="attribute" data-export="" id="dom-event-bubbles">bubbles<a class="self-link" href="#dom-event-bubbles"></a></dfn> and
<dfn class="idl-code" data-dfn-for="Event" data-dfn-type="attribute" data-export="" id="dom-event-cancelable">cancelable<a class="self-link" href="#dom-event-cancelable"></a></dfn> attributes
must return the values they were initialized to.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="Event" data-dfn-type="method" data-export="" id="dom-event-preventdefault">preventDefault()<a class="self-link" href="#dom-event-preventdefault"></a></dfn>
method must set the <a data-link-type="dfn" href="#canceled-flag">canceled flag</a> if the
<code class="idl"><a data-link-type="idl" href="#dom-event-cancelable">cancelable</a></code> attribute value is true.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="Event" data-dfn-type="attribute" data-export="" id="dom-event-defaultprevented">defaultPrevented<a class="self-link" href="#dom-event-defaultprevented"></a></dfn>
attribute must return true if the <a data-link-type="dfn" href="#canceled-flag">canceled flag</a> is set and
false otherwise.</p>


   <hr>


   <p>The <dfn class="idl-code" data-dfn-for="Event" data-dfn-type="attribute" data-export="" id="dom-event-istrusted">isTrusted<a class="self-link" href="#dom-event-istrusted"></a></dfn> attribute
must return the value it was initialized to. When an
<a data-link-type="dfn" href="#concept-event">event</a> is created the attribute must be
initialized to false.</p>


   <p>The <dfn class="idl-code" data-dfn-for="Event" data-dfn-type="attribute" data-export="" id="dom-event-timestamp">timeStamp<a class="self-link" href="#dom-event-timestamp"></a></dfn> attribute
must return the value it was initialized to. When an
<a data-link-type="dfn" href="#concept-event">event</a> is created the attribute must be
initialized to the number of milliseconds that have passed since
00:00:00 UTC on 1 January 1970, ignoring leap seconds.</p>



   <hr>


   <p>To <dfn data-dfn-for="Event" data-dfn-type="dfn" data-export="" id="concept-event-initialize">initialize<a class="self-link" href="#concept-event-initialize"></a></dfn> an
<var>event</var>, with <var>type</var>,
<var>bubbles</var>, and <var>cancelable</var>, run these steps:</p>


   <ol>
 
    <li>Set the <a data-link-type="dfn" href="#initialized-flag">initialized flag</a>.
 
    <li>Unset the <a data-link-type="dfn" href="#stop-propagation-flag">stop propagation flag</a>,
 <a data-link-type="dfn" href="#stop-immediate-propagation-flag">stop immediate propagation flag</a>, and
 <a data-link-type="dfn" href="#canceled-flag">canceled flag</a>.
 
    <li>Set the <code class="idl"><a data-link-type="idl" href="#dom-event-istrusted">isTrusted</a></code> attribute
 to false.
 
    <li>Set the <code class="idl"><a data-link-type="idl" href="#dom-event-target">target</a></code> attribute to
 null.
 
    <li>Set the <code class="idl"><a data-link-type="idl" href="#dom-event-type">type</a></code> attribute to
 <var>type</var>.
 
    <li>Set the <code class="idl"><a data-link-type="idl" href="#dom-event-bubbles">bubbles</a></code> attribute to
 <var>bubbles</var>.
 
    <li>Set the <code class="idl"><a data-link-type="idl" href="#dom-event-cancelable">cancelable</a></code> attribute
 to <var>cancelable</var>.
</ol>


   <p>The
<dfn class="idl-code" data-dfn-for="Event" data-dfn-type="method" data-export="" id="dom-event-initeventtype-bubbles-cancelable">initEvent(<var>type</var>, <var>bubbles</var>, <var>cancelable</var>)<a class="self-link" href="#dom-event-initeventtype-bubbles-cancelable"></a></dfn>
method, when invoked, must run these steps:</p>


   <ol>
 
    <li>If <a data-link-type="dfn" href="#context-object">context object</a>’s <a data-link-type="dfn" href="#dispatch-flag">dispatch flag</a> is set, terminate
 these steps.

 
    <li><a data-link-type="dfn" href="#concept-event-initialize">Initialize</a> the
 <a data-link-type="dfn" href="#context-object">context object</a> with <var>type</var>, <var>bubbles</var>, and
 <var>cancelable</var>.
</ol>


   <p class="note" role="note">Note: As <a data-link-type="dfn" href="#concept-event">events</a> have constructors
<code class="idl"><a data-link-type="idl" href="#dom-event-initeventtype-bubbles-cancelable">initEvent()</a></code> is superfluous. However,
it has to be supported for legacy content.</p>



   <h3 class="heading settled" data-level="3.3" id="interface-customevent"><span class="secno">3.3. </span><span class="content">
Interface <code class="idl"><a data-link-type="idl" href="#customevent">CustomEvent</a></code></span><a class="self-link" href="#interface-customevent"></a></h3>


   <pre class="idl">[<dfn class="idl-code" data-dfn-for="CustomEvent" data-dfn-type="constructor" data-export="" data-global-name="CustomEvent<interface>/CustomEvent(type, eventInitDict)<constructor>" data-lt="CustomEvent(type, eventInitDict)" id="dom-customevent-customeventtype-eventinitdict">Constructor<a class="self-link" href="#dom-customevent-customeventtype-eventinitdict"></a></dfn>(DOMString <dfn class="idl-code" data-dfn-for="CustomEvent/CustomEvent(type, eventInitDict)" data-dfn-type="argument" data-export="" data-global-name="CustomEvent<interface>/CustomEvent(type, eventInitDict)<method>/type<argument>" id="dom-customevent-customeventtype-eventinitdict-type">type<a class="self-link" href="#dom-customevent-customeventtype-eventinitdict-type"></a></dfn>, optional <a data-link-type="idl-name" href="#dictdef-customeventinit">CustomEventInit</a> <dfn class="idl-code" data-dfn-for="CustomEvent/CustomEvent(type, eventInitDict)" data-dfn-type="argument" data-export="" data-global-name="CustomEvent<interface>/CustomEvent(type, eventInitDict)<method>/eventInitDict<argument>" id="dom-customevent-customeventtype-eventinitdict-eventinitdict">eventInitDict<a class="self-link" href="#dom-customevent-customeventtype-eventinitdict-eventinitdict"></a></dfn>),
 Exposed=(Window,Worker)]
interface <dfn class="idl-code" data-dfn-type="interface" data-export="" data-global-name="" id="customevent">CustomEvent<a class="self-link" href="#customevent"></a></dfn> : <a data-link-type="idl-name" href="#event">Event</a> {
  readonly attribute any <a class="idl-code" data-global-name="CustomEvent<interface>/detail<attribute>" data-link-type="attribute" data-readonly="" data-type="any " href="#dom-customevent-detail">detail</a>;

  void <a class="idl-code" data-global-name="CustomEvent<interface>/initCustomEvent(type, bubbles, cancelable, detail)<method>" data-link-type="method" href="#dom-customevent-initcustomeventtype-bubbles-cancelable-detail">initCustomEvent</a>(DOMString <dfn class="idl-code" data-dfn-for="CustomEvent/initCustomEvent(type, bubbles, cancelable, detail)" data-dfn-type="argument" data-export="" data-global-name="CustomEvent<interface>/initCustomEvent(type, bubbles, cancelable, detail)<method>/type<argument>" id="dom-customevent-initcustomeventtype-bubbles-cancelable-detail-type">type<a class="self-link" href="#dom-customevent-initcustomeventtype-bubbles-cancelable-detail-type"></a></dfn>, boolean <dfn class="idl-code" data-dfn-for="CustomEvent/initCustomEvent(type, bubbles, cancelable, detail)" data-dfn-type="argument" data-export="" data-global-name="CustomEvent<interface>/initCustomEvent(type, bubbles, cancelable, detail)<method>/bubbles<argument>" id="dom-customevent-initcustomeventtype-bubbles-cancelable-detail-bubbles">bubbles<a class="self-link" href="#dom-customevent-initcustomeventtype-bubbles-cancelable-detail-bubbles"></a></dfn>, boolean <dfn class="idl-code" data-dfn-for="CustomEvent/initCustomEvent(type, bubbles, cancelable, detail)" data-dfn-type="argument" data-export="" data-global-name="CustomEvent<interface>/initCustomEvent(type, bubbles, cancelable, detail)<method>/cancelable<argument>" id="dom-customevent-initcustomeventtype-bubbles-cancelable-detail-cancelable">cancelable<a class="self-link" href="#dom-customevent-initcustomeventtype-bubbles-cancelable-detail-cancelable"></a></dfn>, any <dfn class="idl-code" data-dfn-for="CustomEvent/initCustomEvent(type, bubbles, cancelable, detail)" data-dfn-type="argument" data-export="" data-global-name="CustomEvent<interface>/initCustomEvent(type, bubbles, cancelable, detail)<method>/detail<argument>" id="dom-customevent-initcustomeventtype-bubbles-cancelable-detail-detail">detail<a class="self-link" href="#dom-customevent-initcustomeventtype-bubbles-cancelable-detail-detail"></a></dfn>);
};

dictionary <dfn class="idl-code" data-dfn-type="dictionary" data-export="" data-global-name="" id="dictdef-customeventinit">CustomEventInit<a class="self-link" href="#dictdef-customeventinit"></a></dfn> : <a data-link-type="idl-name" href="#dictdef-eventinit">EventInit</a> {
  any <dfn class="idl-code" data-default="null" data-dfn-for="CustomEventInit" data-dfn-type="dict-member" data-export="" data-global-name="CustomEventInit<dictionary>/detail<dict-member>" data-type="any " id="dom-customeventinit-detail">detail<a class="self-link" href="#dom-customeventinit-detail"></a></dfn> = null;
};
</pre>


   <p><a data-link-type="dfn" href="#concept-event">Events</a> using the
<code class="idl"><a data-link-type="idl" href="#customevent">CustomEvent</a></code> interface can be used to carry custom data.</p>


   <dl class="domintro">
 
    <dt><code><var>event</var> = new <a class="idl-code" data-link-type="constructor" href="#dom-customevent-customeventtype-eventinitdict">CustomEvent</a>(<var>type</var> [, <var>eventInitDict</var>])</code>
 
    <dd>Works analogously to the constructor for <code class="idl"><a data-link-type="idl" href="#event">Event</a></code> except
 that the optional <var>eventInitDict</var> argument now
 allows for setting the <code class="idl"><a data-link-type="idl" href="#dom-customevent-detail">detail</a></code> attribute
 too.IDL

 
    <dt><code><var>event</var> . <code class="idl"><a data-link-type="idl" href="#dom-customevent-detail">detail</a></code></code>
 
    <dd>Returns any custom data <var>event</var> was created with.
 Typically used for synthetic events.

 
</dl>


   <p>The <dfn class="idl-code" data-dfn-for="CustomEvent" data-dfn-type="attribute" data-export="" id="dom-customevent-detail">detail<a class="self-link" href="#dom-customevent-detail"></a></dfn> attribute
must return the value it was initialized to.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="CustomEvent" data-dfn-type="method" data-export="" id="dom-customevent-initcustomeventtype-bubbles-cancelable-detail">initCustomEvent(<var>type</var>, <var>bubbles</var>, <var>cancelable</var>, <var>detail</var>)<a class="self-link" href="#dom-customevent-initcustomeventtype-bubbles-cancelable-detail"></a></dfn>
method must, when invoked, run these steps:</p>


   <ol>
 
    <li>If <a data-link-type="dfn" href="#context-object">context object</a>’s <a data-link-type="dfn" href="#dispatch-flag">dispatch flag</a> is set, terminate
 these steps.

 
    <li><a data-link-type="dfn" href="#concept-event-initialize">Initialize</a> the
 <a data-link-type="dfn" href="#context-object">context object</a> with <var>type</var>, <var>bubbles</var>, and
 <var>cancelable</var>.

 
    <li>Set <a data-link-type="dfn" href="#context-object">context object</a>’s <code class="idl"><a data-link-type="idl" href="#dom-customevent-detail">detail</a></code>
 attribute to <var>detail</var>.
</ol>



   <h3 class="heading settled" data-level="3.4" id="constructing-events"><span class="secno">3.4. </span><span class="content">
Constructing events</span><a class="self-link" href="#constructing-events"></a></h3>


   <p>When a <dfn data-dfn-for="Event" data-dfn-type="dfn" data-export="" id="concept-event-constructor">constructor<a class="self-link" href="#concept-event-constructor"></a></dfn> of the <code class="idl"><a data-link-type="idl" href="#event">Event</a></code>
interface, or of an interface that inherits from the <code class="idl"><a data-link-type="idl" href="#event">Event</a></code> interface, is
invoked, these steps must be run:</p>


   <ol>
 
    <li>Create an <a data-link-type="dfn" href="#concept-event">event</a> that uses the
 interface the constructor was invoked upon.

 
    <li>Set its <a data-link-type="dfn" href="#initialized-flag">initialized flag</a>.

 
    <li>Initialize the <code class="idl"><a data-link-type="idl" href="#dom-event-type">type</a></code> attribute to
 the <var>type</var> argument.

 
    <li>If there is an <var>eventInitDict</var> argument then for each
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-dictionary-member">dictionary member</a> defined therein find
 the attribute on <a data-link-type="dfn" href="#concept-event">event</a> whose
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-identifier">identifier</a> matches the key of
 the <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-dictionary-member">dictionary member</a> and then
 set the attribute to the value of that
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-dictionary-member">dictionary member</a>.

 
    <li>Return the <a data-link-type="dfn" href="#concept-event">event</a>.
</ol>



   <h3 class="heading settled" data-level="3.5" id="defining-event-interfaces"><span class="secno">3.5. </span><span class="content">
Defining event interfaces</span><a class="self-link" href="#defining-event-interfaces"></a></h3>


   <p>In general, when defining a new interface that inherits from
<code class="idl"><a data-link-type="idl" href="#event">Event</a></code> please always ask feedback from the WHATWG or the
W3C WebApps WG community.</p>


   <p>The <code class="idl"><a data-link-type="idl" href="#customevent">CustomEvent</a></code> interface can be used as starting point.
However, do not introduce any <code>init<var>*</var>Event()</code>
methods as they are redundant with constructors. Interfaces that inherit
from the <code class="idl"><a data-link-type="idl" href="#event">Event</a></code> interface that have such a method only have it
for historical reasons.</p>



   <h3 class="heading settled" data-level="3.6" id="interface-eventtarget"><span class="secno">3.6. </span><span class="content">
Interface <code class="idl"><a data-link-type="idl" href="#eventtarget">EventTarget</a></code></span><a class="self-link" href="#interface-eventtarget"></a></h3>


   <pre class="idl">[Exposed=(Window,Worker)]
interface <dfn class="idl-code" data-dfn-type="interface" data-export="" data-global-name="" id="eventtarget">EventTarget<a class="self-link" href="#eventtarget"></a></dfn> {
  void <a class="idl-code" data-global-name="EventTarget<interface>/addEventListener(type, callback, capture)<method>/addEventListener(type, callback)<method>" data-link-type="method" href="#dom-eventtarget-addeventlistenertype-callback-capture">addEventListener</a>(DOMString <dfn class="idl-code" data-dfn-for="EventTarget/addEventListener(type, callback, capture)" data-dfn-type="argument" data-export="" data-global-name="EventTarget<interface>/addEventListener(type, callback, capture)<method>/type<argument>" id="dom-eventtarget-addeventlistenertype-callback-capture-type">type<a class="self-link" href="#dom-eventtarget-addeventlistenertype-callback-capture-type"></a></dfn>, <a data-link-type="idl-name" href="#callbackdef-eventlistener">EventListener</a>? callback, optional boolean <dfn class="idl-code" data-dfn-for="EventTarget/addEventListener(type, callback, capture)" data-dfn-type="argument" data-export="" data-global-name="EventTarget<interface>/addEventListener(type, callback, capture)<method>/capture<argument>" id="dom-eventtarget-addeventlistenertype-callback-capture-capture">capture<a class="self-link" href="#dom-eventtarget-addeventlistenertype-callback-capture-capture"></a></dfn> = false);
  void <a class="idl-code" data-global-name="EventTarget<interface>/removeEventListener(type, callback, capture)<method>/removeEventListener(type, callback)<method>" data-link-type="method" href="#dom-eventtarget-removeeventlistenertype-callback-capture">removeEventListener</a>(DOMString <dfn class="idl-code" data-dfn-for="EventTarget/removeEventListener(type, callback, capture)" data-dfn-type="argument" data-export="" data-global-name="EventTarget<interface>/removeEventListener(type, callback, capture)<method>/type<argument>" id="dom-eventtarget-removeeventlistenertype-callback-capture-type">type<a class="self-link" href="#dom-eventtarget-removeeventlistenertype-callback-capture-type"></a></dfn>, <a data-link-type="idl-name" href="#callbackdef-eventlistener">EventListener</a>? callback, optional boolean <dfn class="idl-code" data-dfn-for="EventTarget/removeEventListener(type, callback, capture)" data-dfn-type="argument" data-export="" data-global-name="EventTarget<interface>/removeEventListener(type, callback, capture)<method>/capture<argument>" id="dom-eventtarget-removeeventlistenertype-callback-capture-capture">capture<a class="self-link" href="#dom-eventtarget-removeeventlistenertype-callback-capture-capture"></a></dfn> = false);
  boolean <a class="idl-code" data-global-name="EventTarget<interface>/dispatchEvent(event)<method>" data-link-type="method" href="#dom-eventtarget-dispatcheventevent">dispatchEvent</a>(<a data-link-type="idl-name" href="#event">Event</a> <dfn class="idl-code" data-dfn-for="EventTarget/dispatchEvent(event)" data-dfn-type="argument" data-export="" data-global-name="EventTarget<interface>/dispatchEvent(event)<method>/event<argument>" id="dom-eventtarget-dispatcheventevent-event">event<a class="self-link" href="#dom-eventtarget-dispatcheventevent-event"></a></dfn>);
};

callback interface <dfn class="idl-code" data-dfn-type="callback" data-export="" data-global-name="" id="callbackdef-eventlistener">EventListener<a class="self-link" href="#callbackdef-eventlistener"></a></dfn> {
  void <dfn class="idl-code" data-dfn-for="EventListener" data-dfn-type="method" data-export="" data-global-name="EventListener<interface>/handleEvent(event)<method>" data-lt="handleEvent(event)" id="dom-eventlistener-handleeventevent">handleEvent<a class="self-link" href="#dom-eventlistener-handleeventevent"></a></dfn>(<a data-link-type="idl-name" href="#event">Event</a> <dfn class="idl-code" data-dfn-for="EventListener/handleEvent(event)" data-dfn-type="argument" data-export="" data-global-name="EventListener<interface>/handleEvent(event)<method>/event<argument>" id="dom-eventlistener-handleeventevent-event">event<a class="self-link" href="#dom-eventlistener-handleeventevent-event"></a></dfn>);
};
</pre>


   <p><code class="idl"><a data-link-type="idl" href="#eventtarget">EventTarget</a></code> is an object to which an
<a data-link-type="dfn" href="#concept-event">event</a> is
<a data-link-type="dfn" href="#concept-event-dispatch">dispatched</a> when something has
occurred. Each <code class="idl"><a data-link-type="idl" href="#eventtarget">EventTarget</a></code> has an associated list of
<a data-link-type="dfn" href="#concept-event-listener">event listeners</a>.</p>


   <p>An <dfn data-dfn-type="dfn" data-export="" id="concept-event-listener">event listener<a class="self-link" href="#concept-event-listener"></a></dfn> associates a
callback with a specific <a data-link-type="dfn" href="#concept-event">event</a>. Each
<a data-link-type="dfn" href="#concept-event-listener">event listener</a> consists of a
<b>type</b> (of the <a data-link-type="dfn" href="#concept-event">event</a>),
<b>callback</b>, and <b>capture</b> variable.</p>


   <p class="note" role="note">Note: The <b>callback</b> is named <code class="idl"><a data-link-type="idl" href="#callbackdef-eventlistener">EventListener</a></code> for
historical reasons. As can be seen from the definition above, an
<a data-link-type="dfn" href="#concept-event-listener">event listener</a> is a more broad
concept.</p>


   <dl class="domintro">
 
    <dt><code><var>target</var> . <a class="idl-code" data-link-type="method" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-eventtarget-addeventlistener">addEventListener</a>(<var>type</var>, <var>callback</var> [, <var>capture</var> = false])</code>
 
    <dd>
  Appends an <a data-link-type="dfn" href="#concept-event-listener">event listener</a>
  for <a data-link-type="dfn" href="#concept-event">events</a> whose
  <code class="idl"><a data-link-type="idl" href="#dom-event-type">type</a></code> attribute value is
  <var>type</var>. The <var>callback</var> argument sets the
  <b>callback</b> that will be invoked when the
  <a data-link-type="dfn" href="#concept-event">event</a> is
  <a data-link-type="dfn" href="#concept-event-dispatch">dispatched</a>. When set to true,
  the <var>capture</var> argument prevents <b>callback</b> from being invoked when
  the <a data-link-type="dfn" href="#concept-event">event</a>’s
  <code class="idl"><a data-link-type="idl" href="#dom-event-eventphase">eventPhase</a></code> attribute value is
  <code class="idl"><a data-link-type="idl" href="#dom-event-bubbling_phase">BUBBLING_PHASE</a></code>. When false, <b>callback</b>
  will not be invoked when <a data-link-type="dfn" href="#concept-event">event</a>’s
  <code class="idl"><a data-link-type="idl" href="#dom-event-eventphase">eventPhase</a></code> attribute value is
  <code class="idl"><a data-link-type="idl" href="#dom-event-capturing_phase">CAPTURING_PHASE</a></code>. Either way,
  <b>callback</b> will be invoked when <a data-link-type="dfn" href="#concept-event">event</a>’s
  <code class="idl"><a data-link-type="idl" href="#dom-event-eventphase">eventPhase</a></code> attribute value is
  <code class="idl"><a data-link-type="idl" href="#dom-event-at_target">AT_TARGET</a></code>.


     <p>The <a data-link-type="dfn" href="#concept-event-listener">event listener</a> is
  appended to <var>target</var>’s list of
  <a data-link-type="dfn" href="#concept-event-listener">event listeners</a> and is not
  appended if it is a duplicate (the
  <a data-link-type="dfn" href="#concept-event-listener">event listeners</a> in the list are
  unique).</p>
     

 
    <dt><code><var>target</var> . <a class="idl-code" data-link-type="method" href="#dom-eventtarget-removeeventlistenertype-callback-capture">removeEventListener</a>(<var>type</var>, <var>callback</var> [, <var>capture</var> = false])</code>
 
    <dd>Remove the <a data-link-type="dfn" href="#concept-event-listener">event listener</a>
 in <var>target</var>’s list of
 <a data-link-type="dfn" href="#concept-event-listener">event listeners</a> with the same
 <var>type</var>, <var>callback</var>, and
 <var>capture</var>.

 
    <dt><code><var>target</var> . <a class="idl-code" data-link-type="method" href="#dom-eventtarget-dispatcheventevent">dispatchEvent</a>(<var>event</var>)</code>
 
    <dd><a data-link-type="dfn" href="#concept-event-dispatch">Dispatches</a> a synthetic
 event <var>event</var> to <var>target</var> and returns true
 if either <var>event</var>’s
 <code class="idl"><a data-link-type="idl" href="#dom-event-cancelable">cancelable</a></code> attribute value is false
 or it’s <code class="idl"><a data-link-type="idl" href="#dom-event-preventdefault">preventDefault()</a></code> method
 was not invoked, and false otherwise.
</dl>


   <p>The
<dfn class="idl-code" data-dfn-for="EventTarget" data-dfn-type="method" data-export="" data-lt="addEventListener(type, callback, capture)|addEventListener(type, callback)" id="dom-eventtarget-addeventlistenertype-callback-capture">addEventListener(<var>type</var>, <var>callback</var>, <var>capture</var>)<a class="self-link" href="#dom-eventtarget-addeventlistenertype-callback-capture"></a></dfn>
method must run these steps:</p>

   <ol>
 
    <li>If <var>callback</var> is null, terminate these steps.
 
    <li>Append an <a data-link-type="dfn" href="#concept-event-listener">event listener</a>
 to the associated list of
 <a data-link-type="dfn" href="#concept-event-listener">event listeners</a> with <b>type</b>
 set to <var>type</var>, <b>callback</b> set to <var>callback</var>, and
 <b>capture</b> set to <var>capture</var>, unless there
 already is an <a data-link-type="dfn" href="#concept-event-listener">event listener</a> in
 that list with the same <b>type</b>, <b>callback</b>, and <b>capture</b>.
</ol>


   <p>The
<dfn class="idl-code" data-dfn-for="EventTarget" data-dfn-type="method" data-export="" data-lt="removeEventListener(type, callback, capture)|removeEventListener(type, callback)" id="dom-eventtarget-removeeventlistenertype-callback-capture">removeEventListener(<var>type</var>, <var>callback</var>, <var>capture</var>)<a class="self-link" href="#dom-eventtarget-removeeventlistenertype-callback-capture"></a></dfn>
method must run these steps:</p>

   <ol>
 
    <li>Remove an <a data-link-type="dfn" href="#concept-event-listener">event listener</a>
 from the associated list of
 <a data-link-type="dfn" href="#concept-event-listener">event listeners</a>, whose
 <b>type</b> is <var>name</var>, <b>callback</b> is <var>callback</var>, and
 <b>capture</b> is <var>capture</var>.
</ol>


   <p>The
<dfn class="idl-code" data-dfn-for="EventTarget" data-dfn-type="method" data-export="" id="dom-eventtarget-dispatcheventevent">dispatchEvent(<var>event</var>)<a class="self-link" href="#dom-eventtarget-dispatcheventevent"></a></dfn>
method must run these steps:</p>

   <ol>
 
    <li>If <var>event</var>’s <a data-link-type="dfn" href="#dispatch-flag">dispatch flag</a> is set, or if
 its <a data-link-type="dfn" href="#initialized-flag">initialized flag</a> is not set,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> an
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror">InvalidStateError</a></code> exception.
 
    <li>Initialize <var>event</var>’s
 <code class="idl"><a data-link-type="idl" href="#dom-event-istrusted">isTrusted</a></code> attribute to false.
 
    <li><a data-link-type="dfn" href="#concept-event-dispatch">Dispatch</a> the
 <var>event</var> and return the value that returns.
</ol>



   <h3 class="heading settled" data-level="3.7" id="dispatching-events"><span class="secno">3.7. </span><span class="content">
Dispatching events</span><a class="self-link" href="#dispatching-events"></a></h3>


   <p>To <dfn data-dfn-for="Event" data-dfn-type="dfn" data-export="" id="concept-event-dispatch">dispatch<a class="self-link" href="#concept-event-dispatch"></a></dfn> an
<a data-link-type="dfn" href="#concept-event">event</a> to a given object, optionally with
a <var>target override</var>, run these steps:</p>


   <ol>
 
    <li>Let <var>event</var> be the
 <a data-link-type="dfn" href="#concept-event">event</a> that is dispatched.

 
    <li>Set <var>event</var>’s <a data-link-type="dfn" href="#dispatch-flag">dispatch flag</a>.

 
    <li>Initialize <var>event</var>’s
 <code class="idl"><a data-link-type="idl" href="#dom-event-target">target</a></code> attribute to
 <var>target override</var>, if it is given, or the object to which
 <var>event</var> is dispatched otherwise.

 
    <li>If <var>event</var>’s
 <code class="idl"><a data-link-type="idl" href="#dom-event-target">target</a></code> attribute value is
 <a data-link-type="dfn" href="#concept-tree-participate">participating</a> in a
 <a data-link-type="dfn" href="#concept-tree">tree</a>, let <var>event path</var> be a
 static ordered list of all its
 <a data-link-type="dfn" href="#concept-tree-ancestor">ancestors</a> in
 <a data-link-type="dfn" href="#concept-tree-order">tree order</a>, and let
 <var>event path</var> be the empty list otherwise.

 
    <li>Initialize <var>event</var>’s
 <code class="idl"><a data-link-type="idl" href="#dom-event-eventphase">eventPhase</a></code> attribute to
 <code class="idl"><a data-link-type="idl" href="#dom-event-capturing_phase">CAPTURING_PHASE</a></code>.

 
    <li>For each object in <var>event path</var>,
 <a data-link-type="dfn" href="#concept-event-listener-invoke">invoke</a> its
 <a data-link-type="dfn" href="#concept-event-listener">event listeners</a> with event
 <var>event</var>, as long as <var>event</var>’s
 <a data-link-type="dfn" href="#stop-propagation-flag">stop propagation flag</a> is unset.

 
    <li>Initialize <var>event</var>’s
 <code class="idl"><a data-link-type="idl" href="#dom-event-eventphase">eventPhase</a></code> attribute to
 <code class="idl"><a data-link-type="idl" href="#dom-event-at_target">AT_TARGET</a></code>.

 
    <li><a data-link-type="dfn" href="#concept-event-listener-invoke">Invoke</a> the
 <a data-link-type="dfn" href="#concept-event-listener">event listeners</a> of
 <var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-event-target">target</a></code>
 attribute value with <var>event</var>, if <var>event</var>’s
 <a data-link-type="dfn" href="#stop-propagation-flag">stop propagation flag</a> is unset.

 
    <li>
  If <var>event</var>’s
  <code class="idl"><a data-link-type="idl" href="#dom-event-bubbles">bubbles</a></code> attribute value is true, run
  these substeps:

  
     <ol>
   
      <li>Reverse the order of <var>event path</var>.

   
      <li>Initialize <var>event</var>’s
   <code class="idl"><a data-link-type="idl" href="#dom-event-eventphase">eventPhase</a></code> attribute to
   <code class="idl"><a data-link-type="idl" href="#dom-event-bubbling_phase">BUBBLING_PHASE</a></code>.

   
      <li>For each object in <var>event path</var>,
   <a data-link-type="dfn" href="#concept-event-listener-invoke">invoke</a> its
   <a data-link-type="dfn" href="#concept-event-listener">event listeners</a>, with event
   <var>event</var> as long as <var>event</var>’s
   <a data-link-type="dfn" href="#stop-propagation-flag">stop propagation flag</a> is unset.
  
     </ol>
     

 
    <li>Unset <var>event</var>’s <a data-link-type="dfn" href="#dispatch-flag">dispatch flag</a>.

 
    <li>Initialize <var>event</var>’s
 <code class="idl"><a data-link-type="idl" href="#dom-event-eventphase">eventPhase</a></code> attribute to
 <code class="idl"><a data-link-type="idl" href="#dom-event-none">NONE</a></code>.

 
    <li>Initialize <var>event</var>’s
 <code class="idl"><a data-link-type="idl" href="#dom-event-currenttarget">currentTarget</a></code> attribute to null.

 
    <li>Return false if <var>event</var>’s <a data-link-type="dfn" href="#canceled-flag">canceled flag</a>
 is set, and true otherwise.
</ol>



   <p>To <dfn data-dfn-for="event listener" data-dfn-type="dfn" data-export="" id="concept-event-listener-invoke">invoke<a class="self-link" href="#concept-event-listener-invoke"></a></dfn> the
<a data-link-type="dfn" href="#concept-event-listener">event listeners</a> for an object with an
event run these steps:</p>

   <ol>
 
    <li>Let <var>event</var> be the
 <a data-link-type="dfn" href="#concept-event">event</a> for which the
 <a data-link-type="dfn" href="#concept-event-listener">event listeners</a> are invoked.
 
    <li>Let <var>listeners</var> be a copy of the
 <a data-link-type="dfn" href="#concept-event-listener">event listeners</a> associated with
 the object for which these steps are run.
 
    <li>Initialize <var>event</var>’s
 <code class="idl"><a data-link-type="idl" href="#dom-event-currenttarget">currentTarget</a></code> attribute to the
 object for which these steps are run.
 
    <li>
  Then run these substeps for each
  <a data-link-type="dfn" href="#concept-event-listener">event listener</a> in
  <var>listeners</var>:
  
     <ol>
   
      <li>If <var>event</var>’s
   <a data-link-type="dfn" href="#stop-immediate-propagation-flag">stop immediate propagation flag</a> is set, terminate the
   <a data-link-type="dfn" href="#concept-event-listener-invoke">invoke</a> algorithm.
   
      <li>Let <var>listener</var> be the
   <a data-link-type="dfn" href="#concept-event-listener">event listener</a>.
   
      <li>If <var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-event-type">type</a></code>
   attribute value is not <var>listener</var>’s <b>type</b>, terminate
   these substeps (and run them for the next
   <a data-link-type="dfn" href="#concept-event-listener">event listener</a>).
   
      <li>If <var>event</var>’s
   <code class="idl"><a data-link-type="idl" href="#dom-event-eventphase">eventPhase</a></code> attribute value is
   <code class="idl"><a data-link-type="idl" href="#dom-event-capturing_phase">CAPTURING_PHASE</a></code> and
   <var>listener</var>’s <b>capture</b> is false, terminate these
   substeps (and run them for the next
   <a data-link-type="dfn" href="#concept-event-listener">event listener</a>).
   
      <li>If <var>event</var>’s
   <code class="idl"><a data-link-type="idl" href="#dom-event-eventphase">eventPhase</a></code> attribute value is
   <code class="idl"><a data-link-type="idl" href="#dom-event-bubbling_phase">BUBBLING_PHASE</a></code> and
   <var>listener</var>’s <b>capture</b> is true, terminate these
   substeps (and run them for the next
   <a data-link-type="dfn" href="#concept-event-listener">event listener</a>).
   
      <li>Call <var>listener</var>’s <b>callback</b>’s
   <code class="idl"><a data-link-type="idl" href="#dom-eventlistener-handleeventevent">handleEvent()</a></code>, with the event passed to
   this algorithm as the first argument and <var>event</var>’s
   <code class="idl"><a data-link-type="idl" href="#dom-event-currenttarget">currentTarget</a></code> attribute value as
   <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-callback-this-value">callback this value</a>. If this throws any exception,
   <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#report-the-exception">report the exception</a>.
  
     </ol>
     

</ol>



   <h3 class="heading settled" data-level="3.8" id="firint-vents"><span class="secno">3.8. </span><span class="content">
Firing events</span><a class="self-link" href="#firint-vents"></a></h3>


   <p>To
<dfn data-dfn-type="dfn" data-export="" data-lt="fire an event" id="concept-event-fire">fire an event named <var>e</var><a class="self-link" href="#concept-event-fire"></a></dfn>
means that a new <a data-link-type="dfn" href="#concept-event">event</a> using the
<code class="idl"><a data-link-type="idl" href="#event">Event</a></code> interface, with its
<code class="idl"><a data-link-type="idl" href="#dom-event-type">type</a></code> attribute initialized to
<var>e</var>, and its <code class="idl"><a data-link-type="idl" href="#dom-event-istrusted">isTrusted</a></code>
attribute initialized to <code>true</code>, is to be
<a data-link-type="dfn" href="#concept-event-dispatch">dispatched</a> to the given object.</p>


   <p class="note" role="note">Note: Fire in the context of DOM is short for creating, initializing, and
<a data-link-type="dfn" href="#concept-event-dispatch">dispatching</a> an
<a data-link-type="dfn" href="#concept-event">event</a>.
<a data-link-type="dfn" href="#concept-event-fire">Fire an event</a> makes that process easier to write
down. If the <a data-link-type="dfn" href="#concept-event">event</a> needs its <code class="idl"><a data-link-type="idl" href="#dom-event-bubbles">bubbles</a></code> or
<code class="idl"><a data-link-type="idl" href="#dom-event-cancelable">cancelable</a></code> attribute initialized, one could write
"<a data-link-type="dfn" href="#concept-event-fire">fire an event</a> named
<code>submit</code> with its <code class="idl"><a data-link-type="idl" href="#dom-event-cancelable">cancelable</a></code> attribute
initialized to true".</p>




   <h2 class="heading settled" data-level="4" id="nodes"><span class="secno">4. </span><span class="content">
Nodes</span><a class="self-link" href="#nodes"></a></h2>


   <h3 class="heading settled" data-level="4.1" id="introduction-to-the-dom"><span class="secno">4.1. </span><span class="content">
Introduction to "The DOM"</span><a class="self-link" href="#introduction-to-the-dom"></a></h3>


   <p>In its original sense, "The DOM" is an API for
accessing and manipulating documents (in particular, HTML and XML
documents). In this specification, the term "document" is used for any
markup-based resource, ranging from short static documents to long essays or
reports with rich multimedia, as well as to fully-fledged interactive
applications.</p>


   <p>These documents are presented as a
<a data-link-type="dfn" href="#concept-node-tree">node tree</a>. Some of the
<a data-link-type="dfn" href="#concept-node">nodes</a> in the
<a data-link-type="dfn" href="#concept-tree">tree</a> can have
<a data-link-type="dfn" href="#concept-tree-child">children</a>, while others are leaves.</p>


   <p>To illustrate, consider this HTML document:</p>


   <pre class="lang-markup">&lt;!DOCTYPE html>
&lt;html class=e>
 &lt;head>&lt;title>Aliens?&lt;/title>&lt;/head>
 &lt;body>Why yes.&lt;/body>
&lt;/html>
</pre>


   <p>It is represented as follows:</p>


   <ul class="domTree">
 
    <li>
  <a data-link-type="dfn" href="#concept-document">Document</a>
  
     <ul>
   
      <li class="t10"><a data-link-type="dfn" href="#concept-doctype">Doctype</a>: <code>html</code>
   
      <li class="t1"><code class="idl"><a data-link-type="idl" href="#element">Element</a></code>: <code>html</code> <span class="t2"><code class="attribute name">class</code>="<code class="attribute value">e</code>"</span>
    
       <ul>
     
        <li class="t1">
      <code class="idl"><a data-link-type="idl" href="#element">Element</a></code>: <code>head</code>
      
         <ul>
       
          <li class="t1">
        <code class="idl"><a data-link-type="idl" href="#element">Element</a></code>: <code>title</code>
        
           <ul>
         
            <li class="t3"><code class="idl"><a data-link-type="idl" href="#text">Text</a></code>: <span>Aliens?</span>
        
           </ul>
           

      
         </ul>
         

     
        <li class="t3"><code class="idl"><a data-link-type="idl" href="#text">Text</a></code>: <span>⏎␣</span>
     
        <li class="t1">
      <code class="idl"><a data-link-type="idl" href="#element">Element</a></code>: <code>body</code>
      
         <ul>
       
          <li class="t3"><code class="idl"><a data-link-type="idl" href="#text">Text</a></code>: <span>Why yes.⏎</span>
      
         </ul>
         

    
       </ul>
       

  
     </ul>
     

</ul>




   <p>Note that, due to the magic that is
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/syntax.html#html-parser">HTML parsing</a>, not all
<a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#ascii-whitespace">ASCII whitespace</a> were turned into
<code class="idl"><a data-link-type="idl" href="#text">Text</a></code> <a data-link-type="dfn" href="#concept-node">nodes</a>, but the general
concept is clear. Markup goes in, a <a data-link-type="dfn" href="#concept-tree">tree</a> of
<a data-link-type="dfn" href="#concept-node">nodes</a> comes out.</p>



   <p class="note" role="note">Note: The most excellent
<a href="http://software.hixie.ch/utilities/js/live-dom-viewer/">Live DOM Viewer</a>
can be used to explore this matter in more detail.</p>



   <h3 class="heading settled" data-level="4.2" id="node-trees"><span class="secno">4.2. </span><span class="content">
Node tree</span><a class="self-link" href="#node-trees"></a></h3>


   <p>Objects implementing the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document">Document</a></code>,
<code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code>, <code class="idl"><a data-link-type="idl" href="#documenttype">DocumentType</a></code>,
<code class="idl"><a data-link-type="idl" href="#element">Element</a></code>, <code class="idl"><a data-link-type="idl" href="#text">Text</a></code>, <code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code>,
or <code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code> interfaces (simply called
<dfn data-dfn-type="dfn" data-export="" id="concept-node">nodes<a class="self-link" href="#concept-node"></a></dfn>)
<a data-link-type="dfn" href="#concept-tree-participate">participate</a> in a
<a data-link-type="dfn" href="#concept-tree">tree</a>, simply named the
<dfn data-dfn-type="dfn" data-export="" id="concept-node-tree">node tree<a class="self-link" href="#concept-node-tree"></a></dfn>.</p>


   <p>A <a data-link-type="dfn" href="#concept-node-tree">node tree</a> is constrained as
follows, expressed as a relationship between the type of
<a data-link-type="dfn" href="#concept-node">node</a> and its allowed
<a data-link-type="dfn" href="#concept-tree-child">children</a>:</p>

   <dl>
 
    <dt><code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document">Document</a></code>
 
    <dd>
  In <a data-link-type="dfn" href="#concept-tree-order">tree order</a>:
  
     <ol>
   
      <li>Zero or more nodes each of which is either
   <code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code> or <code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code>.
   
      <li>Optionally one <code class="idl"><a data-link-type="idl" href="#documenttype">DocumentType</a></code> node.
   
      <li>Zero or more nodes each of which is either
   <code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code> or <code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code>.
   
      <li>Optionally one <code class="idl"><a data-link-type="idl" href="#element">Element</a></code> node.
   
      <li>Zero or more nodes each of which is either
   <code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code> or <code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code>.
  
     </ol>
     
 
    <dt><code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code>
 
    <dt><code class="idl"><a data-link-type="idl" href="#element">Element</a></code>
 
    <dd>Zero or more nodes each of which is one of <code class="idl"><a data-link-type="idl" href="#element">Element</a></code>,
 <code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code>, <code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code>, or
 <code class="idl"><a data-link-type="idl" href="#text">Text</a></code>.
 
    <dt><code class="idl"><a data-link-type="idl" href="#documenttype">DocumentType</a></code>
 
    <dt><code class="idl"><a data-link-type="idl" href="#text">Text</a></code>
 
    <dt><code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code>
 
    <dt><code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code>
 
    <dd>None.
</dl>



   <p>The <dfn data-dfn-for="Node" data-dfn-type="dfn" data-export="" id="concept-node-length">length<a class="self-link" href="#concept-node-length"></a></dfn> of a
<a data-link-type="dfn" href="#concept-node">node</a> <var>node</var> depends on
<var>node</var>:</p>

   <dl class="switch">
 
    <dt><code class="idl"><a data-link-type="idl" href="#documenttype">DocumentType</a></code>
 
    <dd>Zero.

 
    <dt><code class="idl"><a data-link-type="idl" href="#text">Text</a></code>
 
    <dt><code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code>
 
    <dt><code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code>
 
    <dd>Its <code class="idl"><a data-link-type="idl" href="#dom-characterdata-length">length</a></code> attribute
 value.

 
    <dt>Any other node
 
    <dd>Its number of <a data-link-type="dfn" href="#concept-tree-child">children</a>.
</dl>


   <p>A <a data-link-type="dfn" href="#concept-node">node</a> is considered
<dfn data-dfn-for="Node" data-dfn-type="dfn" data-export="" id="concept-node-empty">empty<a class="self-link" href="#concept-node-empty"></a></dfn> if its
<a data-link-type="dfn" href="#concept-node-length">length</a> is zero.</p>



   <h4 class="heading settled" data-level="4.2.1" id="mutation-algorithms"><span class="secno">4.2.1. </span><span class="content">
Mutation algorithms</span><a class="self-link" href="#mutation-algorithms"></a></h4>


   <p>To <dfn data-dfn-for="Node" data-dfn-type="dfn" data-export="" id="concept-node-ensure-pre-insertion-validity">ensure pre-insertion validity<a class="self-link" href="#concept-node-ensure-pre-insertion-validity"></a></dfn>
of a <var>node</var> into a <var>parent</var> before a
<var>child</var>, run these steps:</p>


   <ol>
 
    <li>If <var>parent</var> is not a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document">Document</a></code>,
 <code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code>, or <code class="idl"><a data-link-type="idl" href="#element">Element</a></code>
 <a data-link-type="dfn" href="#concept-node">node</a>,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#hierarchyrequesterror">HierarchyRequestError</a></code>.

 
    <li>If <var>node</var> is a
 <a data-link-type="dfn" href="#concept-tree-host-including-inclusive-ancestor">host-including inclusive ancestor</a>
 of <var>parent</var>, <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#hierarchyrequesterror">HierarchyRequestError</a></code>.

 
    <li>If <var>child</var> is not null and its
 <a data-link-type="dfn" href="#concept-tree-parent">parent</a> is not
 <var>parent</var>, <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> exception.

 
    <li>If <var>node</var> is not a
 <code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code>, <code class="idl"><a data-link-type="idl" href="#documenttype">DocumentType</a></code>,
 <code class="idl"><a data-link-type="idl" href="#element">Element</a></code>, <code class="idl"><a data-link-type="idl" href="#text">Text</a></code>,
 <code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code>, or <code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code>
 <a data-link-type="dfn" href="#concept-node">node</a>,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#hierarchyrequesterror">HierarchyRequestError</a></code>.

 
    <li>If either <var>node</var> is a <code class="idl"><a data-link-type="idl" href="#text">Text</a></code>
 <a data-link-type="dfn" href="#concept-node">node</a> and <var>parent</var> is a
 <a data-link-type="dfn" href="#concept-document">document</a>, or <var>node</var> is a
 <a data-link-type="dfn" href="#concept-doctype">doctype</a> and <var>parent</var> is
 not a <a data-link-type="dfn" href="#concept-document">document</a>,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#hierarchyrequesterror">HierarchyRequestError</a></code>.

 
    <li>
  If <var>parent</var> is a
  <a data-link-type="dfn" href="#concept-document">document</a>, and any of the statements below, switched
  on <var>node</var>, are true, <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a
  <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#hierarchyrequesterror">HierarchyRequestError</a></code>.

  
     <dl class="switch">
   
      <dt><code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code> <a data-link-type="dfn" href="#concept-node">node</a>
   
      <dd>
    If <var>node</var> has more than one
    <a data-link-type="dfn" href="#concept-element">element</a> <a data-link-type="dfn" href="#concept-tree-child">child</a>
    or has a <code class="idl"><a data-link-type="idl" href="#text">Text</a></code> <a data-link-type="dfn" href="#concept-node">node</a>
    <a data-link-type="dfn" href="#concept-tree-child">child</a>.


       <p>Otherwise, if <var>node</var> has one
    <a data-link-type="dfn" href="#concept-element">element</a>
    <a data-link-type="dfn" href="#concept-tree-child">child</a> and either <var>parent</var> has an
    <a data-link-type="dfn" href="#concept-element">element</a>
    <a data-link-type="dfn" href="#concept-tree-child">child</a>, <var>child</var> is a
    <a data-link-type="dfn" href="#concept-doctype">doctype</a>, or <var>child</var> is not null and
    a <a data-link-type="dfn" href="#concept-doctype">doctype</a> is
    <a data-link-type="dfn" href="#concept-tree-following">following</a> <var>child</var>.</p>
       
    

   
      <dt><a data-link-type="dfn" href="#concept-element">element</a>
   
      <dd><var>parent</var> has an <a data-link-type="dfn" href="#concept-element">element</a>
   <a data-link-type="dfn" href="#concept-tree-child">child</a>, <var>child</var> is a
   <a data-link-type="dfn" href="#concept-doctype">doctype</a>, or <var>child</var> is not null and a
   <a data-link-type="dfn" href="#concept-doctype">doctype</a> is
   <a data-link-type="dfn" href="#concept-tree-following">following</a> <var>child</var>.
   

   
      <dt><a data-link-type="dfn" href="#concept-doctype">doctype</a>
   
      <dd><var>parent</var> has a <a data-link-type="dfn" href="#concept-doctype">doctype</a>
   <a data-link-type="dfn" href="#concept-tree-child">child</a>, an
   <a data-link-type="dfn" href="#concept-element">element</a> is
   <a data-link-type="dfn" href="#concept-tree-preceding">preceding</a> <var>child</var>, or
   <var>child</var> is null and <var>parent</var> has an
   <a data-link-type="dfn" href="#concept-element">element</a> <a data-link-type="dfn" href="#concept-tree-child">child</a>.
  
     </dl>
     
</ol>


   <p>To <dfn data-dfn-for="Node" data-dfn-type="dfn" data-export="" id="concept-node-pre-insert">pre-insert<a class="self-link" href="#concept-node-pre-insert"></a></dfn> a
<var>node</var> into a <var>parent</var> before a
<var>child</var>, run these steps:</p>


   <ol>
 
    <li><a data-link-type="dfn" href="#concept-node-ensure-pre-insertion-validity">Ensure pre-insertion validity</a>
 of <var>node</var> into <var>parent</var> before
 <var>child</var>.

 
    <li>Let <var>reference child</var> be <var>child</var>.

 
    <li>If <var>reference child</var> is <var>node</var>, set it
 to <var>node</var>’s
 <a data-link-type="dfn" href="#concept-tree-next-sibling">next sibling</a>.

 
    <li><a data-link-type="dfn" href="#concept-node-adopt">Adopt</a>
 <var>node</var> into <var>parent</var>’s
 <a data-link-type="dfn" href="#concept-node-document">node document</a>.

 
    <li><a data-link-type="dfn" href="#concept-node-insert">Insert</a> <var>node</var>
 into <var>parent</var> before <var>reference child</var>.

 
    <li>Return <var>node</var>.
 
</ol>


   <p><a data-link-type="dfn" href="#other-applicable-specifications">Specifications</a> may define
<dfn data-dfn-for="Node" data-dfn-type="dfn" data-export="" id="concept-node-insert-ext">insertion steps<a class="self-link" href="#concept-node-insert-ext"></a></dfn> for all or some
<a data-link-type="dfn" href="#concept-node">nodes</a>. The algorithm is passed <var>newNode</var> as
indicated in the <a data-link-type="dfn" href="#concept-node-insert">insert</a> algorithm below.</p>


   <p>To <dfn data-dfn-for="Node" data-dfn-type="dfn" data-export="" id="concept-node-insert">insert<a class="self-link" href="#concept-node-insert"></a></dfn> a <var>node</var>
into a <var>parent</var> before a <var>child</var>, optionally
with a <i>suppress observers flag</i>, run these steps:</p>


   <ol>
 
    <li>Let <var>count</var> be the number of
 <a data-link-type="dfn" href="#concept-tree-child">children</a> of <var>node</var> if
 it is a <code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code> <a data-link-type="dfn" href="#concept-node">node</a>,
 and one otherwise.

 
    <li>
  If <var>child</var> is non-null, run these substeps:

  
     <ol>
   
      <li>For each <a data-link-type="dfn" href="#concept-range">range</a> whose
   <a data-link-type="dfn" href="#concept-range-start-node">start node</a> is
   <var>parent</var> and
   <a data-link-type="dfn" href="#concept-range-start-offset">start offset</a> is greater than
   <var>child</var>’s <a data-link-type="dfn" href="#concept-tree-index">index</a>,
   increase its <a data-link-type="dfn" href="#concept-range-start-offset">start offset</a> by
   <var>count</var>.

   
      <li>For each <a data-link-type="dfn" href="#concept-range">range</a> whose
   <a data-link-type="dfn" href="#concept-range-end-node">end node</a> is
   <var>parent</var> and
   <a data-link-type="dfn" href="#concept-range-end-offset">end offset</a> is greater than
   <var>child</var>’s <a data-link-type="dfn" href="#concept-tree-index">index</a>,
   increase its <a data-link-type="dfn" href="#concept-range-end-offset">end offset</a> by
   <var>count</var>.
  
     </ol>
     

 
    <li>Let <var>nodes</var> be <var>node</var>’s
 <a data-link-type="dfn" href="#concept-tree-child">children</a> if <var>node</var> is
 a <code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code> <a data-link-type="dfn" href="#concept-node">node</a>, and a
 list containing solely <var>node</var> otherwise.

 
    <li>
  If <var>node</var> is a <code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code>
  <a data-link-type="dfn" href="#concept-node">node</a>, <a data-link-type="dfn" href="#queue-a-mutation-record">queue a mutation record</a>
  of "<code>childList</code>" for <var>node</var> with removedNodes
  <var>nodes</var>.


     <p class="note" role="note">Note: This step intentionally does not pay attention to the
  <i>suppress observers flag</i>.</p>
     

 
    <li>If <var>node</var> is a <code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code>
 <a data-link-type="dfn" href="#concept-node">node</a>,
 <a data-link-type="dfn" href="#concept-node-remove">remove</a> its
 <a data-link-type="dfn" href="#concept-tree-child">children</a> with the
 <i>suppress observers flag</i> set.

 
    <li>If <i>suppress observers flag</i> is unset,
 <a data-link-type="dfn" href="#queue-a-mutation-record">queue a mutation record</a> of "<code>childList</code>" for
 <var>parent</var> with addedNodes <var>nodes</var>,
 nextSibling <var>child</var>, and previousSibling
 <var>child</var>’s
 <a data-link-type="dfn" href="#concept-tree-previous-sibling">previous sibling</a>
 or <var>parent</var>’s
 <a data-link-type="dfn" href="#concept-tree-last-child">last child</a> if
 <var>child</var> is null.

 
    <li>
  For each <var>newNode</var> in <var>nodes</var>, in
  <a data-link-type="dfn" href="#concept-tree-order">tree order</a>, run these substeps:

  
     <ol>
   
      <li>Insert <var>newNode</var> into <var>parent</var> before
   <var>child</var> or at the end of <var>parent</var> if
   <var>child</var> is null.

   
      <li>Run the <a data-link-type="dfn" href="#concept-node-insert-ext">insertion steps</a> with
   <var>newNode</var>.
  
     </ol>
     
</ol>



   <p>To <dfn data-dfn-for="Node" data-dfn-type="dfn" data-export="" id="concept-node-append">append<a class="self-link" href="#concept-node-append"></a></dfn> a <var>node</var>
to a <var>parent</var>,
<a data-link-type="dfn" href="#concept-node-pre-insert">pre-insert</a> <var>node</var>
into <var>parent</var> before null.</p>



   <p>To <dfn data-dfn-for="Node" data-dfn-type="dfn" data-export="" id="concept-node-replace">replace<a class="self-link" href="#concept-node-replace"></a></dfn> a <var>child</var>
with <var>node</var> within a <var>parent</var>, run these
steps:</p>




   <ol>
 
    <li>If <var>parent</var> is not a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document">Document</a></code>,
 <code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code>, or <code class="idl"><a data-link-type="idl" href="#element">Element</a></code>
 <a data-link-type="dfn" href="#concept-node">node</a>,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#hierarchyrequesterror">HierarchyRequestError</a></code>.

 
    <li>If <var>node</var> is a
 <a data-link-type="dfn" href="#concept-tree-host-including-inclusive-ancestor">host-including inclusive ancestor</a>
 of <var>parent</var>, <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#hierarchyrequesterror">HierarchyRequestError</a></code>.

 
    <li>If <var>child</var>’s
 <a data-link-type="dfn" href="#concept-tree-parent">parent</a> is not
 <var>parent</var>, <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> exception.

 
    <li>If <var>node</var> is not a
 <code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code>, <code class="idl"><a data-link-type="idl" href="#documenttype">DocumentType</a></code>,
 <code class="idl"><a data-link-type="idl" href="#element">Element</a></code>, <code class="idl"><a data-link-type="idl" href="#text">Text</a></code>,
 <code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code>, or <code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code>
 <a data-link-type="dfn" href="#concept-node">node</a>,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#hierarchyrequesterror">HierarchyRequestError</a></code>.

 
    <li>If either <var>node</var> is a <code class="idl"><a data-link-type="idl" href="#text">Text</a></code>
 <a data-link-type="dfn" href="#concept-node">node</a> and <var>parent</var> is a
 <a data-link-type="dfn" href="#concept-document">document</a>, or <var>node</var> is a
 <a data-link-type="dfn" href="#concept-doctype">doctype</a> and <var>parent</var> is
 not a <a data-link-type="dfn" href="#concept-document">document</a>,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#hierarchyrequesterror">HierarchyRequestError</a></code>.

 
    <li>
  If <var>parent</var> is a
  <a data-link-type="dfn" href="#concept-document">document</a>, and any of the statements below, switched
  on <var>node</var>, are true, <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a
  <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#hierarchyrequesterror">HierarchyRequestError</a></code>.

  
     <dl class="switch">
   
      <dt><code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code> <a data-link-type="dfn" href="#concept-node">node</a>
   
      <dd>
    If <var>node</var> has more than one
    <a data-link-type="dfn" href="#concept-element">element</a> <a data-link-type="dfn" href="#concept-tree-child">child</a>
    or has a <code class="idl"><a data-link-type="idl" href="#text">Text</a></code> <a data-link-type="dfn" href="#concept-node">node</a>
    <a data-link-type="dfn" href="#concept-tree-child">child</a>.


       <p>Otherwise, if <var>node</var> has one
    <a data-link-type="dfn" href="#concept-element">element</a> <a data-link-type="dfn" href="#concept-tree-child">child</a>
    and either <var>parent</var> has an <a data-link-type="dfn" href="#concept-element">element</a>
    <a data-link-type="dfn" href="#concept-tree-child">child</a> that is not <var>child</var> or a
    <a data-link-type="dfn" href="#concept-doctype">doctype</a> is
    <a data-link-type="dfn" href="#concept-tree-following">following</a> <var>child</var>.</p>
       

   
      <dt><a data-link-type="dfn" href="#concept-element">element</a>
   
      <dd><var>parent</var> has an <a data-link-type="dfn" href="#concept-element">element</a>
   <a data-link-type="dfn" href="#concept-tree-child">child</a> that is not <var>child</var> or a
   <a data-link-type="dfn" href="#concept-doctype">doctype</a> is
   <a data-link-type="dfn" href="#concept-tree-following">following</a> <var>child</var>.

   
      <dt><a data-link-type="dfn" href="#concept-doctype">doctype</a>
   
      <dd><var>parent</var> has a <a data-link-type="dfn" href="#concept-doctype">doctype</a>
   <a data-link-type="dfn" href="#concept-tree-child">child</a> that is not <var>child</var>, or an
   <a data-link-type="dfn" href="#concept-element">element</a> is
   <a data-link-type="dfn" href="#concept-tree-preceding">preceding</a> <var>child</var>.
  
     </dl>
     


     <p class="note" role="note">Note: The above statements differ from the
  <a data-link-type="dfn" href="#concept-node-pre-insert">pre-insert</a> algorithm.</p>
     

 
    <li>Let <var>reference child</var> be <var>child</var>’s
 <a data-link-type="dfn" href="#concept-tree-next-sibling">next sibling</a>.

 
    <li>If <var>reference child</var> is <var>node</var>, set it
 to <var>node</var>’s
 <a data-link-type="dfn" href="#concept-tree-next-sibling">next sibling</a>.

 
    <li><a data-link-type="dfn" href="#concept-node-adopt">Adopt</a>
 <var>node</var> into <var>parent</var>’s
 <a data-link-type="dfn" href="#concept-node-document">node document</a>.

 
    <li><a data-link-type="dfn" href="#concept-node-remove">Remove</a> <var>child</var>
 from its <var>parent</var> with the
 <i>suppress observers flag</i> set.

 
    <li>Let <var>nodes</var> be <var>node</var>’s <a data-link-type="dfn" href="#concept-tree-child">children</a> if <var>node</var> is a
 <code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code> <a data-link-type="dfn" href="#concept-node">node</a>, and a list containing solely <var>node</var> otherwise.
 

 
    <li><a data-link-type="dfn" href="#concept-node-insert">Insert</a> <var>node</var>
 into <var>parent</var> before <var>reference child</var> with
 the <i>suppress observers flag</i> set.

 
    <li><a data-link-type="dfn" href="#queue-a-mutation-record">Queue a mutation record</a> of "<code>childList</code>" for
 target <var>parent</var> with addedNodes
 <var>nodes</var>, removedNodes a list solely containing
 <var>child</var>, nextSibling <var>reference child</var>, and
 previousSibling <var>child</var>’s
 <a data-link-type="dfn" href="#concept-tree-previous-sibling">previous sibling</a>.

 
    <li>Return <var>child</var>.
</ol>



   <p>To <dfn data-dfn-for="Node" data-dfn-type="dfn" data-export="" id="concept-node-replace-all">replace all<a class="self-link" href="#concept-node-replace-all"></a></dfn> with a
<var>node</var> within a <var>parent</var>, run these steps:</p>


   <ol>
 
    <li>If <var>node</var> is not null,
 <a data-link-type="dfn" href="#concept-node-adopt">adopt</a> <var>node</var> into
 <var>parent</var>’s
 <a data-link-type="dfn" href="#concept-node-document">node document</a>.

 
    <li>Let <var>removedNodes</var> be <var>parent</var>’s
 <a data-link-type="dfn" href="#concept-tree-child">children</a>.

 
    <li>Let <var>addedNodes</var> be the empty list if <var>node</var> is
 null, <var>node</var>’s <a data-link-type="dfn" href="#concept-tree-child">children</a> if
 <var>node</var> is a <code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code>
 <a data-link-type="dfn" href="#concept-node">node</a>, and a list containing <var>node</var>
 otherwise.

 
    <li><a data-link-type="dfn" href="#concept-node-remove">Remove</a> all
 <var>parent</var>’s <a data-link-type="dfn" href="#concept-tree-child">children</a>, in
 <a data-link-type="dfn" href="#concept-tree-order">tree order</a>, with the
 <i>suppress observers flag</i> set.

 
    <li>If <var>node</var> is not null,
 <a data-link-type="dfn" href="#concept-node-insert">insert</a> <var>node</var> into
 <var>parent</var> before null with the <i>suppress observers flag</i> set.

 
    <li><a data-link-type="dfn" href="#queue-a-mutation-record">Queue a mutation record</a> of "<code>childList</code>" for
 <var>parent</var> with addedNodes <var>addedNodes</var> and
 removedNodes <var>removedNodes</var>.
</ol>


   <p class="note" role="note">Note: This algorithm does not make any checks with regards to the
<a data-link-type="dfn" href="#concept-node-tree">node tree</a> constraints. Use it wisely.</p>



   <p>To <dfn data-dfn-for="Node" data-dfn-type="dfn" data-export="" id="concept-node-pre-remove">pre-remove<a class="self-link" href="#concept-node-pre-remove"></a></dfn> a
<var>child</var> from a <var>parent</var>, run these steps:</p>


   <ol>
 
    <li>If <var>child</var>’s
 <a data-link-type="dfn" href="#concept-tree-parent">parent</a> is not
 <var>parent</var>, <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> exception.

 
    <li><a data-link-type="dfn" href="#concept-node-remove">Remove</a> <var>child</var>
 from <var>parent</var>.

 
    <li>Return <var>child</var>.
 
</ol>



   <p><a data-link-type="dfn" href="#other-applicable-specifications">Specifications</a> may define
<dfn data-dfn-for="Node" data-dfn-type="dfn" data-export="" id="concept-node-remove-ext">removing steps<a class="self-link" href="#concept-node-remove-ext"></a></dfn> for all or some
<a data-link-type="dfn" href="#concept-node">nodes</a>. The algorithm is passed <var>removedNode</var>,
<var>oldParent</var>, and <var>oldPreviousSibling</var>, as indicated in the
<a data-link-type="dfn" href="#concept-node-remove">remove</a> algorithm below.</p>


   <p>To <dfn data-dfn-for="Node" data-dfn-type="dfn" data-export="" id="concept-node-remove">remove<a class="self-link" href="#concept-node-remove"></a></dfn> a <var>node</var>
from a <var>parent</var>, optionally with
<i>suppress observers flag</i> set, run these steps:</p>


   <ol>
 
    <li>Let <var>index</var> be <var>node</var>’s
 <a data-link-type="dfn" href="#concept-tree-index">index</a>.

 
    <li>For each <a data-link-type="dfn" href="#concept-range">range</a> whose
 <a data-link-type="dfn" href="#concept-range-start-node">start node</a> is an
 <a data-link-type="dfn" href="#concept-tree-inclusive-descendant">inclusive descendant</a> of
 <var>node</var>, set its
 <a data-link-type="dfn" href="#concept-range-start">start</a> to
 (<var>parent</var>, <var>index</var>).

 
    <li>For each <a data-link-type="dfn" href="#concept-range">range</a> whose
 <a data-link-type="dfn" href="#concept-range-end-node">end node</a> is an
 <a data-link-type="dfn" href="#concept-tree-inclusive-descendant">inclusive descendant</a> of
 <var>node</var>, set its
 <a data-link-type="dfn" href="#concept-range-end">end</a> to
 (<var>parent</var>, <var>index</var>).

 
    <li>For each <a data-link-type="dfn" href="#concept-range">range</a> whose
 <a data-link-type="dfn" href="#concept-range-start-node">start node</a> is
 <var>parent</var> and
 <a data-link-type="dfn" href="#concept-range-start-offset">start offset</a> is greater than
 <var>index</var>, decrease its
 <a data-link-type="dfn" href="#concept-range-start-offset">start offset</a> by one.

 
    <li>For each <a data-link-type="dfn" href="#concept-range">range</a> whose
 <a data-link-type="dfn" href="#concept-range-end-node">end node</a> is
 <var>parent</var> and
 <a data-link-type="dfn" href="#concept-range-end-offset">end offset</a> is greater than
 <var>index</var>, decrease its
 <a data-link-type="dfn" href="#concept-range-end-offset">end offset</a> by one.

 
    <li>Let <var>oldPreviousSibling</var> be <var>node</var>’s
 <a data-link-type="dfn" href="#concept-tree-previous-sibling">previous sibling</a>

 
    <li>If <i>suppress observers flag</i> is unset,
 <a data-link-type="dfn" href="#queue-a-mutation-record">queue a mutation record</a> of "<code>childList</code>" for
 <var>parent</var> with removedNodes a list solely containing
 <var>node</var>, nextSibling <var>node</var>’s
 <a data-link-type="dfn" href="#concept-tree-next-sibling">next sibling</a>,
 and previousSibling <var>oldPreviousSibling</var>.

 
    <li>For each <a data-link-type="dfn" href="#concept-tree-ancestor">ancestor</a>
 <var>ancestor</var> of <var>node</var>, if
 <var>ancestor</var> has any
 <a data-link-type="dfn" href="#registered-observer">registered observers</a> whose
 <b>options</b>’s
 <code class="idl"><a data-link-type="idl" href="#dom-mutationobserverinit-subtree">subtree</a></code> is true, then
 for each such <a data-link-type="dfn" href="#registered-observer">registered observer</a> <var>registered</var>, append a
 <a data-link-type="dfn" href="#transient-registered-observer">transient registered observer</a> whose <b>observer</b> and
 <b>options</b> are identical to those of <var>registered</var> and <b>source</b>
 which is <var>registered</var> to <var>node</var>’s list of
 <a data-link-type="dfn" href="#registered-observer">registered observers</a>.

 
    <li>Remove <var>node</var> from its <var>parent</var>.

 
    <li>Run the <a data-link-type="dfn" href="#concept-node-remove-ext">removing steps</a> with
 <var>node</var>, <var>parent</var>, and <var>oldPreviousSibling</var>.
</ol>



   <h4 class="heading settled" data-level="4.2.2" id="interface-nonelementparentnode"><span class="secno">4.2.2. </span><span class="content">
Interface <code>NonElementParentNode</code></span><a class="self-link" href="#interface-nonelementparentnode"></a></h4>


   <p class="note no-backref" role="note">The
<code class="idl"><a data-link-type="idl" href="#dom-nonelementparentnode-getelementbyidelementid">getElementById()</a></code> method is not
on <a data-link-type="dfn" href="#concept-element">elements</a> for compatibility with older versions of
jQuery. If a time comes where that version of jQuery has disappeared, we might be able to
support it.

</p>
   <pre class="idl">[NoInterfaceObject,
 Exposed=Window]
interface <dfn class="idl-code" data-dfn-type="interface" data-export="" data-global-name="" id="nonelementparentnode">NonElementParentNode<a class="self-link" href="#nonelementparentnode"></a></dfn> {
  <a data-link-type="idl-name" href="#element">Element</a>? <a class="idl-code" data-global-name="NonElementParentNode<interface>/getElementById(elementId)<method>" data-link-type="method" href="#dom-nonelementparentnode-getelementbyidelementid">getElementById</a>(DOMString <dfn class="idl-code" data-dfn-for="NonElementParentNode/getElementById(elementId)" data-dfn-type="argument" data-export="" data-global-name="NonElementParentNode<interface>/getElementById(elementId)<method>/elementId<argument>" id="dom-nonelementparentnode-getelementbyidelementid-elementid">elementId<a class="self-link" href="#dom-nonelementparentnode-getelementbyidelementid-elementid"></a></dfn>);
};
<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document">Document</a> implements <a data-link-type="idl-name" href="#nonelementparentnode">NonElementParentNode</a>;
<a data-link-type="idl-name" href="#documentfragment">DocumentFragment</a> implements <a data-link-type="idl-name" href="#nonelementparentnode">NonElementParentNode</a>;
</pre>


   <dl class="domintro">
 
    <dt><code><var>node</var> . <a class="idl-code" data-link-type="method" href="#dom-nonelementparentnode-getelementbyidelementid">getElementById</a>(<var>elementId</var>)</code>
 
    <dd>Returns the first <a data-link-type="dfn" href="#concept-element">element</a> within
 <var>node</var>’s <a data-link-type="dfn" href="#concept-tree-descendant">descendants</a> whose
 <a data-link-type="dfn" href="#concept-id">ID</a> is <var>elementId</var>.
</dl>


   <p>The
<dfn class="idl-code" data-dfn-for="NonElementParentNode" data-dfn-type="method" data-export="" id="dom-nonelementparentnode-getelementbyidelementid">getElementById(<var>elementId</var>)<a class="self-link" href="#dom-nonelementparentnode-getelementbyidelementid"></a></dfn>
method must return the first <a data-link-type="dfn" href="#concept-element">element</a>, in
<a data-link-type="dfn" href="#concept-tree-order">tree order</a>, within <a data-link-type="dfn" href="#context-object">context object</a>’s
<a data-link-type="dfn" href="#concept-tree-descendant">descendants</a>, whose
<a data-link-type="dfn" href="#concept-id">ID</a> is <var>elementId</var>, and null if there is no
such <a data-link-type="dfn" href="#concept-element">element</a> otherwise.</p>



   <h4 class="heading settled" data-level="4.2.3" id="interface-parentnode"><span class="secno">4.2.3. </span><span class="content">
Interface <code>ParentNode</code></span><a class="self-link" href="#interface-parentnode"></a></h4>


   <p>The <dfn data-dfn-type="dfn" data-export="" id="mutation-method-macro">mutation method macro<a class="self-link" href="#mutation-method-macro"></a></dfn>:</p>


   <ol>
 
    <li>Let <var>node</var> be null.

 
    <li>Replace each string in <var>nodes</var> with a
 <code class="idl"><a data-link-type="idl" href="#text">Text</a></code> <a data-link-type="dfn" href="#concept-node">node</a> whose
 <a data-link-type="dfn" href="#concept-CD-data">data</a> is the string value.

 
    <li>
  If <var>nodes</var> contains more than one
  <a data-link-type="dfn" href="#concept-node">node</a>, set <var>node</var> to a new
  <code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code> and
  <a data-link-type="dfn" href="#concept-node-append">append</a> each
  <a data-link-type="dfn" href="#concept-node">node</a> in <var>nodes</var> to it. Rethrow any
  exceptions.


     <p>Otherwise, set <var>node</var> to the single
  <a data-link-type="dfn" href="#concept-node">node</a> <var>nodes</var> contains.</p>
     
</ol>


   <pre class="idl">[NoInterfaceObject,
 Exposed=Window]
interface <dfn class="idl-code" data-dfn-type="interface" data-export="" data-global-name="" id="parentnode">ParentNode<a class="self-link" href="#parentnode"></a></dfn> {
  [SameObject] readonly attribute <a data-link-type="idl-name" href="#htmlcollection">HTMLCollection</a> <a class="idl-code" data-global-name="ParentNode<interface>/children<attribute>" data-link-type="attribute" data-readonly="" data-type="HTMLCollection " href="#dom-parentnode-children">children</a>;
  readonly attribute <a data-link-type="idl-name" href="#element">Element</a>? <a class="idl-code" data-global-name="ParentNode<interface>/firstElementChild<attribute>" data-link-type="attribute" data-readonly="" data-type="Element? " href="#dom-parentnode-firstelementchild">firstElementChild</a>;
  readonly attribute <a data-link-type="idl-name" href="#element">Element</a>? <a class="idl-code" data-global-name="ParentNode<interface>/lastElementChild<attribute>" data-link-type="attribute" data-readonly="" data-type="Element? " href="#dom-parentnode-lastelementchild">lastElementChild</a>;
  readonly attribute unsigned long <a class="idl-code" data-global-name="ParentNode<interface>/childElementCount<attribute>" data-link-type="attribute" data-readonly="" data-type="unsigned long " href="#dom-parentnode-childelementcount">childElementCount</a>;

  [Unscopeable] void <a class="idl-code" data-global-name="ParentNode<interface>/prepend(nodes...)<method>/prepend()<method>" data-link-type="method" href="#dom-parentnode-prependnodes">prepend</a>((<a data-link-type="idl-name" href="#node">Node</a> or DOMString)... <dfn class="idl-code" data-dfn-for="ParentNode/prepend(nodes...)" data-dfn-type="argument" data-export="" data-global-name="ParentNode<interface>/prepend(nodes...)<method>/nodes<argument>" id="dom-parentnode-prependnodes-nodes">nodes<a class="self-link" href="#dom-parentnode-prependnodes-nodes"></a></dfn>);
  [Unscopeable] void <a class="idl-code" data-global-name="ParentNode<interface>/append(nodes...)<method>/append()<method>" data-link-type="method" href="#dom-parentnode-appendnodes">append</a>((<a data-link-type="idl-name" href="#node">Node</a> or DOMString)... <dfn class="idl-code" data-dfn-for="ParentNode/append(nodes...)" data-dfn-type="argument" data-export="" data-global-name="ParentNode<interface>/append(nodes...)<method>/nodes<argument>" id="dom-parentnode-appendnodes-nodes">nodes<a class="self-link" href="#dom-parentnode-appendnodes-nodes"></a></dfn>);

  [Unscopeable] <a data-link-type="idl-name" href="#element">Element</a>? <a class="idl-code" data-global-name="ParentNode<interface>/query(relativeSelectors)<method>" data-link-type="method" href="#dom-parentnode-queryrelativeselectors">query</a>(DOMString <dfn class="idl-code" data-dfn-for="ParentNode/query(relativeSelectors)" data-dfn-type="argument" data-export="" data-global-name="ParentNode<interface>/query(relativeSelectors)<method>/relativeSelectors<argument>" id="dom-parentnode-queryrelativeselectors-relativeselectors">relativeSelectors<a class="self-link" href="#dom-parentnode-queryrelativeselectors-relativeselectors"></a></dfn>);
  [NewObject, Unscopeable] <a data-link-type="idl-name">Elements</a> <a class="idl-code" data-global-name="ParentNode<interface>/queryAll(relativeSelectors)<method>" data-link-type="method" href="#dom-parentnode-queryallrelativeselectors">queryAll</a>(DOMString <dfn class="idl-code" data-dfn-for="ParentNode/queryAll(relativeSelectors)" data-dfn-type="argument" data-export="" data-global-name="ParentNode<interface>/queryAll(relativeSelectors)<method>/relativeSelectors<argument>" id="dom-parentnode-queryallrelativeselectors-relativeselectors">relativeSelectors<a class="self-link" href="#dom-parentnode-queryallrelativeselectors-relativeselectors"></a></dfn>);
  <a data-link-type="idl-name" href="#element">Element</a>? <a class="idl-code" data-global-name="ParentNode<interface>/querySelector(selectors)<method>" data-link-type="method" href="#dom-parentnode-queryselectorselectors">querySelector</a>(DOMString <dfn class="idl-code" data-dfn-for="ParentNode/querySelector(selectors)" data-dfn-type="argument" data-export="" data-global-name="ParentNode<interface>/querySelector(selectors)<method>/selectors<argument>" id="dom-parentnode-queryselectorselectors-selectors">selectors<a class="self-link" href="#dom-parentnode-queryselectorselectors-selectors"></a></dfn>);
  [NewObject] <a data-link-type="idl-name" href="#nodelist">NodeList</a> <a class="idl-code" data-global-name="ParentNode<interface>/querySelectorAll(selectors)<method>" data-link-type="method" href="#dom-parentnode-queryselectorallselectors">querySelectorAll</a>(DOMString <dfn class="idl-code" data-dfn-for="ParentNode/querySelectorAll(selectors)" data-dfn-type="argument" data-export="" data-global-name="ParentNode<interface>/querySelectorAll(selectors)<method>/selectors<argument>" id="dom-parentnode-queryselectorallselectors-selectors">selectors<a class="self-link" href="#dom-parentnode-queryselectorallselectors-selectors"></a></dfn>);
};
<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document">Document</a> implements <a data-link-type="idl-name" href="#parentnode">ParentNode</a>;
<a data-link-type="idl-name" href="#documentfragment">DocumentFragment</a> implements <a data-link-type="idl-name" href="#parentnode">ParentNode</a>;
<a data-link-type="idl-name" href="#element">Element</a> implements <a data-link-type="idl-name" href="#parentnode">ParentNode</a>;
</pre>


   <dl class="domintro">
 
    <dt><code><var>collection</var> = <var>node</var> . <code class="idl"><a data-link-type="idl" href="#dom-parentnode-children">children</a></code></code>
 
    <dd>Returns the <a data-link-type="dfn" href="#concept-tree-child">child</a> <a data-link-type="dfn" href="#concept-element">elements</a>.

 
    <dt><code><var>element</var> = <var>node</var> . <code class="idl"><a data-link-type="idl" href="#dom-parentnode-firstelementchild">firstElementChild</a></code></code>
 
    <dd>Returns the first <a data-link-type="dfn" href="#concept-tree-child">child</a> that is an <a data-link-type="dfn" href="#concept-element">element</a>, and null otherwise.

 
    <dt><code><var>element</var> = <var>node</var> . <code class="idl"><a data-link-type="idl" href="#dom-parentnode-lastelementchild">lastElementChild</a></code></code>
 
    <dd>Returns the last <a data-link-type="dfn" href="#concept-tree-child">child</a> that is an <a data-link-type="dfn" href="#concept-element">element</a>, and null otherwise.

 

 
    <dt><code><var>node</var> . <a class="idl-code" data-link-type="method" href="#dom-parentnode-prependnodes">prepend</a>(<var>nodes</var>)</code>
 
    <dd>
  Inserts <var>nodes</var> before the
  <a data-link-type="dfn" href="#concept-tree-first-child">first child</a> of
  <var>node</var>, while replacing strings in <var>nodes</var>
  with equivalent <code class="idl"><a data-link-type="idl" href="#text">Text</a></code> <a data-link-type="dfn" href="#concept-node">nodes</a>.


     <p><a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">Throws</a> a
  <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#hierarchyrequesterror">HierarchyRequestError</a></code> if the constraints of the
  <a data-link-type="dfn" href="#concept-node-tree">node tree</a> are violated.</p>
     
  

 
    <dt><code><var>node</var> . <a class="idl-code" data-link-type="method" href="#dom-parentnode-appendnodes">append</a>(<var>nodes</var>)</code>
 
    <dd>
  Inserts <var>nodes</var> after the
  <a data-link-type="dfn" href="#concept-tree-last-child">last child</a> of
  <var>node</var>, while replacing strings in <var>nodes</var>
  with equivalent <code class="idl"><a data-link-type="idl" href="#text">Text</a></code> <a data-link-type="dfn" href="#concept-node">nodes</a>.


     <p><a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">Throws</a> a
  <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#hierarchyrequesterror">HierarchyRequestError</a></code> if the constraints of the
  <a data-link-type="dfn" href="#concept-node-tree">node tree</a> are violated.</p>
     
  

 
    <dt><code><var>node</var> . <a class="idl-code" data-link-type="method" href="#dom-parentnode-queryrelativeselectors">query</a>(<var>relativeSelectors</var>)</code>
 
    <dd>
  Returns the first <a data-link-type="dfn" href="#concept-element">element</a> that is a
  <a data-link-type="dfn" href="#concept-tree-descendant">descendant</a> of <var>node</var> that
  matches <var>relativeSelectors</var>.

 
    <dt><code><var>node</var> . <a class="idl-code" data-link-type="method" href="#dom-parentnode-queryallrelativeselectors">queryAll</a>(<var>relativeSelectors</var>)</code>
 
    <dd>
  Returns all <a data-link-type="dfn" href="#concept-element">element</a>
  <a data-link-type="dfn" href="#concept-tree-descendant">descendants</a> of <var>node</var> that
  match <var>relativeSelectors</var>.

 
    <dt><code><var>node</var> . <a class="idl-code" data-link-type="method" href="#dom-parentnode-queryselectorselectors">querySelector</a>(<var>selectors</var>)</code>
 
    <dd>
  Returns the first <a data-link-type="dfn" href="#concept-element">element</a> that is a
  <a data-link-type="dfn" href="#concept-tree-descendant">descendant</a> of <var>node</var> that
  matches <var>selectors</var>.

 
    <dt><code><var>node</var> . <a class="idl-code" data-link-type="method" href="#dom-parentnode-queryselectorallselectors">querySelectorAll</a>(<var>selectors</var>)</code>
 
    <dd>
  Returns all <a data-link-type="dfn" href="#concept-element">element</a>
  <a data-link-type="dfn" href="#concept-tree-descendant">descendants</a> of <var>node</var> that
  match <var>selectors</var>.
</dl>


   <p>The <dfn class="idl-code" data-dfn-for="ParentNode" data-dfn-type="attribute" data-export="" id="dom-parentnode-children">children<a class="self-link" href="#dom-parentnode-children"></a></dfn>
attribute must return an <code class="idl"><a data-link-type="idl" href="#htmlcollection">HTMLCollection</a></code>
<a data-link-type="dfn" href="#concept-collection">collection</a> rooted at the
<a data-link-type="dfn" href="#context-object">context object</a> matching only
<a data-link-type="dfn" href="#concept-element">element</a>
<a data-link-type="dfn" href="#concept-tree-child">children</a>.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="ParentNode" data-dfn-type="attribute" data-export="" id="dom-parentnode-firstelementchild">firstElementChild<a class="self-link" href="#dom-parentnode-firstelementchild"></a></dfn>
attribute must return the first <a data-link-type="dfn" href="#concept-tree-child">child</a>
that is an <a data-link-type="dfn" href="#concept-element">element</a>, and null otherwise.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="ParentNode" data-dfn-type="attribute" data-export="" id="dom-parentnode-lastelementchild">lastElementChild<a class="self-link" href="#dom-parentnode-lastelementchild"></a></dfn>
attribute must return the last <a data-link-type="dfn" href="#concept-tree-child">child</a>
that is an <a data-link-type="dfn" href="#concept-element">element</a>, and null otherwise.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="ParentNode" data-dfn-type="attribute" data-export="" id="dom-parentnode-childelementcount">childElementCount<a class="self-link" href="#dom-parentnode-childelementcount"></a></dfn>
attribute must return the number of <a data-link-type="dfn" href="#concept-tree-child">children</a> of the <a data-link-type="dfn" href="#context-object">context object</a> that are <a data-link-type="dfn" href="#concept-element">elements</a>.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="ParentNode" data-dfn-type="method" data-export="" data-lt="prepend(nodes...)|prepend(nodes)" id="dom-parentnode-prependnodes">prepend(<var>nodes</var>)<a class="self-link" href="#dom-parentnode-prependnodes"></a></dfn>
method must run these steps:</p>


   <ol>
 
    <li>Run the <a data-link-type="dfn" href="#mutation-method-macro">mutation method macro</a>.

 
    <li><a data-link-type="dfn" href="#concept-node-pre-insert">Pre-insert</a> <var>node</var> into the <a data-link-type="dfn" href="#context-object">context object</a>
  before the <a data-link-type="dfn" href="#context-object">context object</a>’s <a data-link-type="dfn" href="#concept-tree-first-child">first child</a>.
</ol>


   <p>The
<dfn class="idl-code" data-dfn-for="ParentNode" data-dfn-type="method" data-export="" data-lt="append(nodes...)|append(nodes)" id="dom-parentnode-appendnodes">append(<var>nodes</var>)<a class="self-link" href="#dom-parentnode-appendnodes"></a></dfn>
method must run these steps:</p>


   <ol>
 
    <li>Run the <a data-link-type="dfn" href="#mutation-method-macro">mutation method macro</a>.

 
    <li><a data-link-type="dfn" href="#concept-node-append">Append</a>
 <var>node</var> to the <a data-link-type="dfn" href="#context-object">context object</a>.
</ol>


   <p>To <dfn data-dfn-type="dfn" data-export="" id="match-a-relative-selectors-string">match a relative selectors string<a class="self-link" href="#match-a-relative-selectors-string"></a></dfn> <var>relativeSelectors</var>
against a <var>set</var>, run these steps:</p>


   <ol>
 
    <li>Let <var>s</var> be the result of
 <a data-link-type="dfn" href="http://dev.w3.org/csswg/selectors-4/#parse-a-relative-selector">parse a relative selector</a> from
 <var>relativeSelectors</var> against <var>set</var>.
 <a data-link-type="biblio" href="#biblio-selectors4">[SELECTORS4]</a>

 
    <li>If <var>s</var> is failure, <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#syntaxerror">SyntaxError</a></code>.

 
    <li>Return the result of <a data-link-type="dfn" href="http://dev.w3.org/csswg/selectors-4/#evaluate-a-selector">evaluate a selector</a> <var>s</var>
  using <a data-link-type="dfn" href="http://dev.w3.org/csswg/selectors-4/#scope-element">:scope elements</a> <var>set</var>. <a data-link-type="biblio" href="#biblio-selectors4">[SELECTORS4]</a>
</ol>


   <p>The
<dfn class="idl-code" data-dfn-for="ParentNode" data-dfn-type="method" data-export="" id="dom-parentnode-queryrelativeselectors">query(<var>relativeSelectors</var>)<a class="self-link" href="#dom-parentnode-queryrelativeselectors"></a></dfn>
method must return the first result of running
<a data-link-type="dfn" href="#match-a-relative-selectors-string">match a relative selectors string</a> <var>relativeSelectors</var> against
a set consisting of <a data-link-type="dfn" href="#context-object">context object</a>, and null if the result is an empty list.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="ParentNode" data-dfn-type="method" data-export="" id="dom-parentnode-queryallrelativeselectors">queryAll(<var>relativeSelectors</var>)<a class="self-link" href="#dom-parentnode-queryallrelativeselectors"></a></dfn>
method must return an <code class="idl"><a data-link-type="idl">Elements</a></code> array initialized with the result of running
<a data-link-type="dfn" href="#match-a-relative-selectors-string">match a relative selectors string</a> <var>relativeSelectors</var> against
a set consisting of <a data-link-type="dfn" href="#context-object">context object</a>.</p>


   <p>To <dfn data-dfn-type="dfn" data-export="" id="scope_match-a-selectors-string">scope-match a selectors string<a class="self-link" href="#scope_match-a-selectors-string"></a></dfn> <var>selectors</var> against a
<var>node</var>, run these steps:</p>


   <ol>
 
    <li>Let <var>s</var> be the result of
 <a data-link-type="dfn" href="http://dev.w3.org/csswg/selectors-4/#parse-a-selector">parse a selector</a> <var>selectors</var>.
 <a data-link-type="biblio" href="#biblio-selectors4">[SELECTORS4]</a>

 
    <li>If <var>s</var> is failure, <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#syntaxerror">SyntaxError</a></code>.

 
    <li>Return the result of <a data-link-type="dfn" href="http://dev.w3.org/csswg/selectors-4/#evaluate-a-selector">evaluate a selector</a>
 <var>s</var> against
 <var>node</var>’s <a data-link-type="dfn" href="#concept-tree-root">root</a> using
 <a data-link-type="dfn" href="http://dev.w3.org/csswg/selectors-4/#scoping-root">scoping root</a> <var>node</var> and
 scoping method
 <a data-link-type="dfn" href="http://dev.w3.org/csswg/selectors-4/#scope_filtered">scope-filtered</a>.
 <a data-link-type="biblio" href="#biblio-selectors4">[SELECTORS4]</a>.
</ol>


   <p>The
<dfn class="idl-code" data-dfn-for="ParentNode" data-dfn-type="method" data-export="" id="dom-parentnode-queryselectorselectors">querySelector(<var>selectors</var>)<a class="self-link" href="#dom-parentnode-queryselectorselectors"></a></dfn>
method must return the first result of running <a data-link-type="dfn" href="#scope_match-a-selectors-string">scope-match a selectors string</a>
<var>selectors</var> against the <a data-link-type="dfn" href="#context-object">context object</a>, and null if the result
is an empty list otherwise.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="ParentNode" data-dfn-type="method" data-export="" id="dom-parentnode-queryselectorallselectors">querySelectorAll(<var>selectors</var>)<a class="self-link" href="#dom-parentnode-queryselectorallselectors"></a></dfn>
method must return the <a data-link-type="dfn" href="#concept-collection-static">static</a> result of
running <a data-link-type="dfn" href="#scope_match-a-selectors-string">scope-match a selectors string</a> <var>selectors</var> against the
<a data-link-type="dfn" href="#context-object">context object</a>.</p>



   <h4 class="heading settled" data-level="4.2.4" id="interface-nondocumenttypechildnode"><span class="secno">4.2.4. </span><span class="content">
Interface <code class="idl"><a data-link-type="idl" href="#nondocumenttypechildnode">NonDocumentTypeChildNode</a></code></span><a class="self-link" href="#interface-nondocumenttypechildnode"></a></h4>


   <p class="note" role="note">Note: The <code class="idl"><a data-link-type="idl" href="#dom-nondocumenttypechildnode-previouselementsibling">previousElementSibling</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-nondocumenttypechildnode-nextelementsibling">nextElementSibling</a></code>
attributes have been removed from <code class="idl"><a data-link-type="idl" href="#documenttype">DocumentType</a></code> nodes for compatibility
reasons. If these additions are deemed compatible enough in the future, they could be
reinstated.</p>


   <pre class="idl">[NoInterfaceObject,
 Exposed=Window]
interface <dfn class="idl-code" data-dfn-type="interface" data-export="" data-global-name="" id="nondocumenttypechildnode">NonDocumentTypeChildNode<a class="self-link" href="#nondocumenttypechildnode"></a></dfn> {
  readonly attribute <a data-link-type="idl-name" href="#element">Element</a>? <a class="idl-code" data-global-name="NonDocumentTypeChildNode<interface>/previousElementSibling<attribute>" data-link-type="attribute" data-readonly="" data-type="Element? " href="#dom-nondocumenttypechildnode-previouselementsibling">previousElementSibling</a>;
  readonly attribute <a data-link-type="idl-name" href="#element">Element</a>? <a class="idl-code" data-global-name="NonDocumentTypeChildNode<interface>/nextElementSibling<attribute>" data-link-type="attribute" data-readonly="" data-type="Element? " href="#dom-nondocumenttypechildnode-nextelementsibling">nextElementSibling</a>;
};
<a data-link-type="idl-name" href="#element">Element</a> implements <a data-link-type="idl-name" href="#nondocumenttypechildnode">NonDocumentTypeChildNode</a>;
<a data-link-type="idl-name" href="#characterdata">CharacterData</a> implements <a data-link-type="idl-name" href="#nondocumenttypechildnode">NonDocumentTypeChildNode</a>;
</pre>


   <dl class="domintro">
 
    <dt><code><var>element</var> = <var>node</var> . <code class="idl"><a data-link-type="idl" href="#dom-nondocumenttypechildnode-previouselementsibling">previousElementSibling</a></code></code>
 
    <dd>Returns the first
 <a data-link-type="dfn" href="#concept-tree-preceding">preceding</a>
 <a data-link-type="dfn" href="#concept-tree-sibling">sibling</a> that
 is an <a data-link-type="dfn" href="#concept-element">element</a>, and null otherwise.

 
    <dt><code><var>element</var> = <var>node</var> . <code class="idl"><a data-link-type="idl" href="#dom-nondocumenttypechildnode-nextelementsibling">nextElementSibling</a></code></code>
 
    <dd>Returns the first
 <a data-link-type="dfn" href="#concept-tree-following">following</a>
 <a data-link-type="dfn" href="#concept-tree-sibling">sibling</a> that
 is an <a data-link-type="dfn" href="#concept-element">element</a>, and null otherwise.
</dl>


   <p>The <dfn class="idl-code" data-dfn-for="NonDocumentTypeChildNode" data-dfn-type="attribute" data-export="" id="dom-nondocumenttypechildnode-previouselementsibling">previousElementSibling<a class="self-link" href="#dom-nondocumenttypechildnode-previouselementsibling"></a></dfn>
attribute must return the first <a data-link-type="dfn" href="#concept-tree-preceding">preceding</a> <a data-link-type="dfn" href="#concept-tree-sibling">sibling</a> that is an <a data-link-type="dfn" href="#concept-element">element</a>,
and null otherwise.</p>


   <p>The <dfn class="idl-code" data-dfn-for="NonDocumentTypeChildNode" data-dfn-type="attribute" data-export="" id="dom-nondocumenttypechildnode-nextelementsibling">nextElementSibling<a class="self-link" href="#dom-nondocumenttypechildnode-nextelementsibling"></a></dfn>
attribute must return the first <a data-link-type="dfn" href="#concept-tree-following">following</a> <a data-link-type="dfn" href="#concept-tree-sibling">sibling</a> that is an <a data-link-type="dfn" href="#concept-element">element</a>,
and null otherwise.</p>



   <h4 class="heading settled" data-level="4.2.5" id="interface-childnode"><span class="secno">4.2.5. </span><span class="content">
Interface <code class="idl"><a data-link-type="idl" href="#childnode">ChildNode</a></code></span><a class="self-link" href="#interface-childnode"></a></h4>


   <pre class="idl">[NoInterfaceObject,
 Exposed=Window]
interface <dfn class="idl-code" data-dfn-type="interface" data-export="" data-global-name="" id="childnode">ChildNode<a class="self-link" href="#childnode"></a></dfn> {
  [Unscopeable] void <a class="idl-code" data-global-name="ChildNode<interface>/before(nodes...)<method>/before()<method>" data-link-type="method" href="#dom-childnode-beforenodes">before</a>((<a data-link-type="idl-name" href="#node">Node</a> or DOMString)... <dfn class="idl-code" data-dfn-for="ChildNode/before(nodes...)" data-dfn-type="argument" data-export="" data-global-name="ChildNode<interface>/before(nodes...)<method>/nodes<argument>" id="dom-childnode-beforenodes-nodes">nodes<a class="self-link" href="#dom-childnode-beforenodes-nodes"></a></dfn>);
  [Unscopeable] void <a class="idl-code" data-global-name="ChildNode<interface>/after(nodes...)<method>/after()<method>" data-link-type="method" href="#dom-childnode-afternodes">after</a>((<a data-link-type="idl-name" href="#node">Node</a> or DOMString)... <dfn class="idl-code" data-dfn-for="ChildNode/after(nodes...)" data-dfn-type="argument" data-export="" data-global-name="ChildNode<interface>/after(nodes...)<method>/nodes<argument>" id="dom-childnode-afternodes-nodes">nodes<a class="self-link" href="#dom-childnode-afternodes-nodes"></a></dfn>);
  [Unscopeable] void <a class="idl-code" data-global-name="ChildNode<interface>/replaceWith(nodes...)<method>/replaceWith()<method>" data-link-type="method" href="#dom-childnode-replacewithnodes">replaceWith</a>((<a data-link-type="idl-name" href="#node">Node</a> or DOMString)... <dfn class="idl-code" data-dfn-for="ChildNode/replaceWith(nodes...)" data-dfn-type="argument" data-export="" data-global-name="ChildNode<interface>/replaceWith(nodes...)<method>/nodes<argument>" id="dom-childnode-replacewithnodes-nodes">nodes<a class="self-link" href="#dom-childnode-replacewithnodes-nodes"></a></dfn>);
  [Unscopeable] void <a class="idl-code" data-global-name="ChildNode<interface>/remove()<method>" data-link-type="method" href="#dom-childnode-remove">remove</a>();
};
<a data-link-type="idl-name" href="#documenttype">DocumentType</a> implements <a data-link-type="idl-name" href="#childnode">ChildNode</a>;
<a data-link-type="idl-name" href="#element">Element</a> implements <a data-link-type="idl-name" href="#childnode">ChildNode</a>;
<a data-link-type="idl-name" href="#characterdata">CharacterData</a> implements <a data-link-type="idl-name" href="#childnode">ChildNode</a>;
</pre>


   <dl class="domintro">
 
    <dt><code><var>node</var> . <code class="idl"><a data-link-type="idl" href="#dom-childnode-beforenodes">before(nodes)</a></code></code>
 
    <dd>
  Inserts <var>nodes</var> just before <var>node</var>,
  while replacing strings in <var>nodes</var> with equivalent
  <code class="idl"><a data-link-type="idl" href="#text">Text</a></code> <a data-link-type="dfn" href="#concept-node">nodes</a>.


     <p><a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">Throws</a> a
  <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#hierarchyrequesterror">HierarchyRequestError</a></code> if the constraints of the
  <a data-link-type="dfn" href="#concept-node-tree">node tree</a> are violated.</p>
     

 
    <dt><code><var>node</var> . <code class="idl"><a data-link-type="idl" href="#dom-childnode-afternodes">after(nodes)</a></code></code>
 
    <dd>
  Inserts <var>nodes</var> just after <var>node</var>,
  while replacing strings in <var>nodes</var> with equivalent
  <code class="idl"><a data-link-type="idl" href="#text">Text</a></code> <a data-link-type="dfn" href="#concept-node">nodes</a>.


     <p><a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">Throws</a> a
  <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#hierarchyrequesterror">HierarchyRequestError</a></code> if the constraints of the
  <a data-link-type="dfn" href="#concept-node-tree">node tree</a> are violated.</p>
     

 
    <dt><code><var>node</var> . <code class="idl"><a data-link-type="idl" href="#dom-childnode-replacewithnodes">replaceWith(nodes)</a></code></code>
 
    <dd>
  Replaces <var>node</var> with <var>nodes</var>, while
  replacing strings in <var>nodes</var> with equivalent
  <code class="idl"><a data-link-type="idl" href="#text">Text</a></code> <a data-link-type="dfn" href="#concept-node">nodes</a>.


     <p><a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">Throws</a> a
  <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#hierarchyrequesterror">HierarchyRequestError</a></code> if the constraints of the
  <a data-link-type="dfn" href="#concept-node-tree">node tree</a> are violated.</p>
     

 
    <dt><code><var>node</var> . <code class="idl"><a data-link-type="idl" href="#dom-childnode-remove">remove()</a></code></code>
 
    <dd>Removes <var>node</var>.
</dl>


   <p>The
<dfn class="idl-code" data-dfn-for="ChildNode" data-dfn-type="method" data-export="" data-lt="before(nodes...)|before(nodes)" id="dom-childnode-beforenodes">before(<var>nodes</var>)<a class="self-link" href="#dom-childnode-beforenodes"></a></dfn>
method must run these steps:</p>


   <ol>
 
    <li>If the <a data-link-type="dfn" href="#context-object">context object</a> does not have a
 <a data-link-type="dfn" href="#concept-tree-parent">parent</a>, terminate these steps.

 
    <li>Run the <a data-link-type="dfn" href="#mutation-method-macro">mutation method macro</a>.

 
    <li><a data-link-type="dfn" href="#concept-node-pre-insert">Pre-insert</a>
 <var>node</var> into the <a data-link-type="dfn" href="#context-object">context object</a>’s
 <a data-link-type="dfn" href="#concept-tree-parent">parent</a> before the
 <a data-link-type="dfn" href="#context-object">context object</a>.
</ol>


   <p>The
<dfn class="idl-code" data-dfn-for="ChildNode" data-dfn-type="method" data-export="" data-lt="after(nodes...)|after(nodes)" id="dom-childnode-afternodes">after(<var>nodes</var>)<a class="self-link" href="#dom-childnode-afternodes"></a></dfn>
method must run these steps:</p>


   <ol>
 
    <li>If the <a data-link-type="dfn" href="#context-object">context object</a> does not have a
 <a data-link-type="dfn" href="#concept-tree-parent">parent</a>, terminate these steps.

 
    <li>Run the <a data-link-type="dfn" href="#mutation-method-macro">mutation method macro</a>.

 
    <li><a data-link-type="dfn" href="#concept-node-pre-insert">Pre-insert</a>
 <var>node</var> into the <a data-link-type="dfn" href="#context-object">context object</a>’s
 <a data-link-type="dfn" href="#concept-tree-parent">parent</a> before the
 <a data-link-type="dfn" href="#context-object">context object</a>’s
 <a data-link-type="dfn" href="#concept-tree-next-sibling">next sibling</a>.
</ol>


   <p>The
<dfn class="idl-code" data-dfn-for="ChildNode" data-dfn-type="method" data-export="" data-lt="replaceWith(nodes...)|replaceWith(nodes)" id="dom-childnode-replacewithnodes">replaceWith(<var>nodes</var>)<a class="self-link" href="#dom-childnode-replacewithnodes"></a></dfn>
method must run these steps:</p>


   <ol>
 
    <li>If the <a data-link-type="dfn" href="#context-object">context object</a> does not have a
 <a data-link-type="dfn" href="#concept-tree-parent">parent</a>, terminate these steps.

 
    <li>Run the <a data-link-type="dfn" href="#mutation-method-macro">mutation method macro</a>.

 
    <li><a data-link-type="dfn" href="#concept-node-replace">Replace</a> the
 <a data-link-type="dfn" href="#context-object">context object</a> with <var>node</var> within the
 <a data-link-type="dfn" href="#context-object">context object</a>’s
 <a data-link-type="dfn" href="#concept-tree-parent">parent</a>.
</ol>


   <p>The
<dfn class="idl-code" data-dfn-for="ChildNode" data-dfn-type="method" data-export="" id="dom-childnode-remove">remove()<a class="self-link" href="#dom-childnode-remove"></a></dfn>
method must run these steps:</p>


   <ol>
 
    <li>If the <a data-link-type="dfn" href="#context-object">context object</a> does not have a
 <a data-link-type="dfn" href="#concept-tree-parent">parent</a>, terminate these steps.

 
    <li><a data-link-type="dfn" href="#concept-node-remove">Remove</a> the
 <a data-link-type="dfn" href="#context-object">context object</a> from the
 <a data-link-type="dfn" href="#context-object">context object</a>’s
 <a data-link-type="dfn" href="#concept-tree-parent">parent</a>.
</ol>



   <h4 class="heading settled" data-level="4.2.6" id="element-collections"><span class="secno">4.2.6. </span><span class="content">
Collections: <code class="idl"><a data-link-type="idl">Elements</a></code></span><a class="self-link" href="#element-collections"></a></h4>


   <pre class="idl" data-no-idl="">class Elements extends Array {
  Element? query(DOMString relativeSelectors);
  Elements queryAll(DOMString relativeSelectors);
};
</pre>


   <div class="XXX">
IDL bugs: <a href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=20020">
Array subclassing</a> and <a href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=23225">class, not interface</a>.


    <p><code class="idl"><a data-link-type="idl">Elements</a></code> is an ES6-style subclass of <code class="idl"><a data-link-type="idl">Array</a></code> with two
additional methods. It’s the new <code class="idl"><a data-link-type="idl" href="#nodelist">NodeList</a></code> / <code class="idl"><a data-link-type="idl" href="#htmlcollection">HTMLCollection</a></code>.</p>
</div>


   <dl class="domintro">
 
    <dt><code><var>elements</var> . <code class="idl"><a data-link-type="idl" href="#dom-elements-queryrelativeselectors">query(relativeSelectors)</a></code></code>
 
    <dd>
  Returns the first <a data-link-type="dfn" href="#concept-element">element</a> that is a
  <a data-link-type="dfn" href="#concept-tree-descendant">descendant</a> of <var>elements</var> that
  matches <var>relativeSelectors</var>.

 
    <dt><code><var>elements</var> . <code class="idl"><a data-link-type="idl" href="#dom-elements-queryallrelativeselectors">queryAll(relativeSelectors)</a></code></code>
 
    <dd>
  Returns all <a data-link-type="dfn" href="#concept-element">element</a>
  <a data-link-type="dfn" href="#concept-tree-descendant">descendants</a> of <var>elements</var> that
  match <var>relativeSelectors</var>.
</dl>


   <p>The
<dfn class="idl-code" data-dfn-for="Elements" data-dfn-type="method" data-export="" id="dom-elements-queryrelativeselectors">query(<var>relativeSelectors</var>)<a class="self-link" href="#dom-elements-queryrelativeselectors"></a></dfn>
method must return the first result of running
<a data-link-type="dfn" href="#match-a-relative-selectors-string">match a relative selectors string</a> <var>relativeSelectors</var>
against the <a data-link-type="dfn" href="#context-object">context object</a>, and null if the result is an empty list.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="Elements" data-dfn-type="method" data-export="" id="dom-elements-queryallrelativeselectors">queryAll(<var>relativeSelectors</var>)<a class="self-link" href="#dom-elements-queryallrelativeselectors"></a></dfn>
method must return the result of running <code class="lang-javascript">this.constructor</code> with the
result of running <a data-link-type="dfn" href="#match-a-relative-selectors-string">match a relative selectors string</a>
<var>relativeSelectors</var> against the <a data-link-type="dfn" href="#context-object">context object</a>.</p>



   <h4 class="heading settled" data-level="4.2.7" id="old-style-collections"><span class="secno">4.2.7. </span><span class="content">
Old-style collections: <code class="idl"><a data-link-type="idl" href="#nodelist">NodeList</a></code> and <code class="idl"><a data-link-type="idl" href="#htmlcollection">HTMLCollection</a></code></span><a class="self-link" href="#old-style-collections"></a></h4>


   <p>A <dfn data-dfn-for="Node" data-dfn-type="dfn" data-export="" id="concept-collection">collection<a class="self-link" href="#concept-collection"></a></dfn> is an object that
represents a lists of DOM nodes. A
<a data-link-type="dfn" href="#concept-collection">collection</a> can be either
<dfn data-dfn-for="Node" data-dfn-type="dfn" data-export="" data-local-lt="live" data-lt="live collection" id="concept-collection-live">live<a class="self-link" href="#concept-collection-live"></a></dfn> or
<dfn data-dfn-for="Node" data-dfn-type="dfn" data-export="" data-lt="static collection" id="concept-collection-static">static<a class="self-link" href="#concept-collection-static"></a></dfn>. Unless otherwise stated,
a <a data-link-type="dfn" href="#concept-collection">collection</a> must be <a data-link-type="dfn" href="#concept-collection-live">live</a>.</p>


   <p>If a <a data-link-type="dfn" href="#concept-collection">collection</a> is <a data-link-type="dfn" href="#concept-collection-live">live</a>, then the attributes and methods
on that object must operate on the actual underlying data, not a snapshot of
the data.</p>


   <p>When a <a data-link-type="dfn" href="#concept-collection">collection</a> is created, a
filter and a root are associated with it.</p>


   <p>The <a data-link-type="dfn" href="#concept-collection">collection</a> then
<dfn data-dfn-for="Node" data-dfn-type="dfn" data-export="" data-lt="represented by the collection" id="represented-by-the-collection">represents<a class="self-link" href="#represented-by-the-collection"></a></dfn> a view of the
subtree rooted at the <a data-link-type="dfn" href="#concept-collection">collection’s</a>
root, containing only nodes that match the given filter. The view is linear.
In the absence of specific requirements to the contrary, the nodes within
the <a data-link-type="dfn" href="#concept-collection">collection</a> must be sorted in
<a data-link-type="dfn" href="#concept-tree-order">tree order</a>.</p>



   <h5 class="heading settled" data-level="4.2.7.1" id="interface-nodelist"><span class="secno">4.2.7.1. </span><span class="content">
Interface <code class="idl"><a data-link-type="idl" href="#nodelist">NodeList</a></code></span><a class="self-link" href="#interface-nodelist"></a></h5>


   <p>A <code class="idl"><a data-link-type="idl" href="#nodelist">NodeList</a></code> object is a
<a data-link-type="dfn" href="#concept-collection">collection</a> of
<a data-link-type="dfn" href="#concept-node">nodes</a>.</p>


   <pre class="idl">[Exposed=Window]
interface <dfn class="idl-code" data-dfn-type="interface" data-export="" data-global-name="" id="nodelist">NodeList<a class="self-link" href="#nodelist"></a></dfn> {
  getter <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="NodeList<interface>/item(index)<method>" data-link-type="method" href="#dom-nodelist-itemindex">item</a>(unsigned long <dfn class="idl-code" data-dfn-for="NodeList/item(index)" data-dfn-type="argument" data-export="" data-global-name="NodeList<interface>/item(index)<method>/index<argument>" id="dom-nodelist-itemindex-index">index<a class="self-link" href="#dom-nodelist-itemindex-index"></a></dfn>);
  readonly attribute unsigned long <a class="idl-code" data-global-name="NodeList<interface>/length<attribute>" data-link-type="attribute" data-readonly="" data-type="unsigned long " href="#dom-nodelist-length">length</a>;
  iterable&lt;<a data-link-type="idl-name" href="#node">Node</a>>;
};
</pre>


   <dl class="domintro">
 
    <dt><var>collection</var> . <code class="idl"><a data-link-type="idl" href="#dom-nodelist-length">length</a></code>
 
    <dd>
  Returns the number of <a data-link-type="dfn" href="#concept-node">nodes</a> in the
  <a data-link-type="dfn" href="#concept-collection">collection</a>.

 
    <dt><var>element</var> = <var>collection</var> . <code class="idl"><a data-link-type="idl" href="#dom-nodelist-itemindex">item(index)</a></code>
 
    <dt><var>element</var> = <var>collection</var>[<var>index</var>]
 
    <dd>
  Returns the <a data-link-type="dfn" href="#concept-node">node</a> with index
  <var>index</var> from the
  <a data-link-type="dfn" href="#concept-collection">collection</a>. The
  <a data-link-type="dfn" href="#concept-node">nodes</a> are sorted in
  <a data-link-type="dfn" href="#concept-tree-order">tree order</a>.
</dl>


   <div class="impl">


    <p>The object’s <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-supported-property-indices">supported property indices</a>
are the numbers in the range zero to one less than the number of nodes
<a data-link-type="dfn" href="#represented-by-the-collection">represented by the collection</a>. If there are no such elements, then
there are no <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-supported-property-indices">supported property indices</a>.</p>


    <p>The <dfn class="idl-code" data-dfn-for="NodeList" data-dfn-type="attribute" data-export="" id="dom-nodelist-length">length<a class="self-link" href="#dom-nodelist-length"></a></dfn> attribute must
return the number of nodes <a data-link-type="dfn" href="#represented-by-the-collection">represented by the collection</a>.</p>


    <p>The
<dfn class="idl-code" data-dfn-for="NodeList" data-dfn-type="method" data-export="" id="dom-nodelist-itemindex">item(<var>index</var>)<a class="self-link" href="#dom-nodelist-itemindex"></a></dfn>
method must return the <var>index</var>th
node in the <a data-link-type="dfn" href="#concept-collection">collection</a>. If there is no
<var>index</var>th node in the <a data-link-type="dfn" href="#concept-collection">collection</a>, then the method must return null.</p>

</div>



   <h5 class="heading settled" data-level="4.2.7.2" id="interface-htmlcollection"><span class="secno">4.2.7.2. </span><span class="content">
Interface <code class="idl"><a data-link-type="idl" href="#htmlcollection">HTMLCollection</a></code></span><a class="self-link" href="#interface-htmlcollection"></a></h5>


   <pre class="idl">[Exposed=Window]
interface <dfn class="idl-code" data-dfn-type="interface" data-export="" data-global-name="" id="htmlcollection">HTMLCollection<a class="self-link" href="#htmlcollection"></a></dfn> {
  readonly attribute unsigned long <a class="idl-code" data-global-name="HTMLCollection<interface>/length<attribute>" data-link-type="attribute" data-readonly="" data-type="unsigned long " href="#dom-htmlcollection-length">length</a>;
  getter <a data-link-type="idl-name" href="#element">Element</a>? <a class="idl-code" data-global-name="HTMLCollection<interface>/item(index)<method>" data-link-type="method" href="#dom-htmlcollection-itemindex">item</a>(unsigned long <dfn class="idl-code" data-dfn-for="HTMLCollection/item(index)" data-dfn-type="argument" data-export="" data-global-name="HTMLCollection<interface>/item(index)<method>/index<argument>" id="dom-htmlcollection-itemindex-index">index<a class="self-link" href="#dom-htmlcollection-itemindex-index"></a></dfn>);
  getter <a data-link-type="idl-name" href="#element">Element</a>? <a class="idl-code" data-global-name="HTMLCollection<interface>/namedItem(name)<method>" data-link-type="method" href="#dom-htmlcollection-nameditemname">namedItem</a>(DOMString <dfn class="idl-code" data-dfn-for="HTMLCollection/namedItem(name)" data-dfn-type="argument" data-export="" data-global-name="HTMLCollection<interface>/namedItem(name)<method>/name<argument>" id="dom-htmlcollection-nameditemname-name">name<a class="self-link" href="#dom-htmlcollection-nameditemname-name"></a></dfn>);
};
</pre>


   <p>An <code class="idl"><a data-link-type="idl" href="#htmlcollection">HTMLCollection</a></code> object is a
<a data-link-type="dfn" href="#concept-collection">collection</a> of
<a data-link-type="dfn" href="#concept-element">elements</a>.</p>


   <p class="note" role="note">Note: <code class="idl"><a data-link-type="idl">Elements</a></code> is the better solution for representing a
<a data-link-type="dfn" href="#concept-collection">collection</a> of
<a data-link-type="dfn" href="#concept-element">elements</a>. <code class="idl"><a data-link-type="idl" href="#htmlcollection">HTMLCollection</a></code> is an historical
artifact we cannot rid the web of.</p>


   <dl class="domintro">
 
    <dt><var>collection</var> . <code class="idl"><a data-link-type="idl" href="#dom-htmlcollection-length">length</a></code>
 
    <dd>
  Returns the number of <a data-link-type="dfn" href="#concept-element">elements</a> in
  the <a data-link-type="dfn" href="#concept-collection">collection</a>.

 
    <dt><var>element</var> = <var>collection</var> . <code class="idl"><a data-link-type="idl" href="#dom-htmlcollection-itemindex">item(index)</a></code>
 
    <dt><var>element</var> = <var>collection</var>[<var>index</var>]
 
    <dd>
  Returns the <a data-link-type="dfn" href="#concept-element">element</a> with index
  <var>index</var> from the <a data-link-type="dfn" href="#concept-collection">collection</a>.
  The <a data-link-type="dfn" href="#concept-element">elements</a> are sorted in <a data-link-type="dfn" href="#concept-tree-order">tree order</a>.

 
    <dt><var>element</var> = <var>collection</var> . <code class="idl"><a data-link-type="idl" href="#dom-htmlcollection-nameditemname">namedItem(name)</a></code>
 
    <dt><var>element</var> = <var>collection</var>[<var>name</var>]
 
    <dd>
  Returns the first <a data-link-type="dfn" href="#concept-element">element</a> with <a data-link-type="dfn" href="#concept-id">ID</a> or name <var>name</var>
  from the collection.
</dl>


   <div class="impl">


    <p>The object’s <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-supported-property-indices">supported property indices</a>
are the numbers in the range zero to one less than the number of nodes
<a data-link-type="dfn" href="#represented-by-the-collection">represented by the collection</a>. If there are no such elements, then
there are no <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-supported-property-indices">supported property indices</a>.</p>


    <p>The <dfn class="idl-code" data-dfn-for="HTMLCollection" data-dfn-type="attribute" data-export="" id="dom-htmlcollection-length">length<a class="self-link" href="#dom-htmlcollection-length"></a></dfn> attribute
must return the number of nodes <a data-link-type="dfn" href="#represented-by-the-collection">represented by the collection</a>.</p>


    <p>The
<dfn class="idl-code" data-dfn-for="HTMLCollection" data-dfn-type="method" data-export="" id="dom-htmlcollection-itemindex">item(<var>index</var>)<a class="self-link" href="#dom-htmlcollection-itemindex"></a></dfn>
method must return the <var>index</var>th
<a data-link-type="dfn" href="#concept-element">element</a> in the <a data-link-type="dfn" href="#concept-collection">collection</a>. If there is no
<var>index</var>th <a data-link-type="dfn" href="#concept-element">element</a> in the <a data-link-type="dfn" href="#concept-collection">collection</a>, then the method must return null.</p>


    <p>The <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-supported-property-names">supported property names</a>, all <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-unenumerable">unenumerable</a>,
are the values from the list returned by these steps:</p>


    <ol>
 
     <li>Let <var>result</var> be an empty list.
 
     <li>
  For each <var>element</var>
  <a data-link-type="dfn" href="#represented-by-the-collection">represented by the collection</a>, in
  <a data-link-type="dfn" href="#concept-tree-order">tree order</a>, run these substeps:
  
      <ol>
   
       <li>If <var>element</var> has an
   <a data-link-type="dfn" href="#concept-id">ID</a> which is neither the empty string nor is
   in <var>result</var>, append <var>element</var>’s
   <a data-link-type="dfn" href="#concept-id">ID</a> to <var>result</var>.

   
       <li>If <var>element</var> is in the <a data-link-type="dfn" href="#html-namespace">HTML namespace</a>
   and <a data-link-type="dfn" href="#concept-element-attribute-has">has</a> a
   <a data-link-type="dfn" href="#concept-named-attribute"><code>name</code> attribute</a>
   whose <a data-link-type="dfn" href="#concept-attribute-value">value</a> is neither the
   empty string nor is in <var>result</var>, append
   <var>element</var>’s
   <a data-link-type="dfn" href="#concept-named-attribute"><code>name</code> attribute</a>
   <a data-link-type="dfn" href="#concept-attribute-value">value</a> to <var>result</var>.
  
      </ol>
      
 
     <li>Return <var>result</var>.
</ol>


    <p>The
<dfn class="idl-code" data-dfn-for="HTMLCollection" data-dfn-type="method" data-export="" data-lt="namedItem(name)" id="dom-htmlcollection-nameditemname">namedItem(<var>key</var>)<a class="self-link" href="#dom-htmlcollection-nameditemname"></a></dfn>
method must run these steps:</p>

    <ol>
 
     <li>If <var>key</var> is the empty string, return null.
 
     <li>
  Return the first <a data-link-type="dfn" href="#concept-element">element</a> in the
  <a data-link-type="dfn" href="#concept-collection">collection</a> for which at least one of
  the following is true:
  
      <ul>
   
       <li>it has an <a data-link-type="dfn" href="#concept-id">ID</a> which is <var>key</var>.
   
       <li>it <a data-link-type="dfn" href="#concept-element-attribute-has">has</a> a
   <a data-link-type="dfn" href="#concept-named-attribute"><code>name</code> attribute</a>
   whose <a data-link-type="dfn" href="#concept-attribute-value">value</a> is
   <var>key</var>;
  
      </ul>
      
  or null if there is no such <a data-link-type="dfn" href="#concept-element">element</a>.
</ol>

</div>




   <h3 class="heading settled" data-level="4.3" id="mutation-observers"><span class="secno">4.3. </span><span class="content">
Mutation observers</span><a class="self-link" href="#mutation-observers"></a></h3>


   <p>Each
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#unit-of-related-similar_origin-browsing-contexts">unit of related similar-origin browsing contexts</a> has a
<dfn data-dfn-type="dfn" data-export="" id="mutation-observer-compound-microtask-queued-flag">mutation observer compound microtask queued flag<a class="self-link" href="#mutation-observer-compound-microtask-queued-flag"></a></dfn> and an associated list of
<code class="idl"><a data-link-type="idl" href="#mutationobserver">MutationObserver</a></code> objects which is initially empty.
<a data-link-type="biblio" href="#biblio-html">[HTML]</a></p>


   <p>To <dfn data-dfn-type="dfn" data-export="" id="queue-a-mutation-observer-compound-microtask">queue a mutation observer compound microtask<a class="self-link" href="#queue-a-mutation-observer-compound-microtask"></a></dfn>, run these steps:</p>


   <ol>
 
    <li>If <a data-link-type="dfn" href="#mutation-observer-compound-microtask-queued-flag">mutation observer compound microtask queued flag</a> is set, terminate
 these steps.

 
    <li>Set <a data-link-type="dfn" href="#mutation-observer-compound-microtask-queued-flag">mutation observer compound microtask queued flag</a>.

 
    <li><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-microtask">Queue</a> a
 <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#compound-microtask">compound microtask</a> to
 <a data-link-type="dfn" href="#notify-mutation-observers">notify mutation observers</a>.
</ol>


   <p>To <dfn data-dfn-type="dfn" data-export="" id="notify-mutation-observers">notify mutation observers<a class="self-link" href="#notify-mutation-observers"></a></dfn>, run these steps:</p>


   <ol>
 
    <li>Unset <a data-link-type="dfn" href="#mutation-observer-compound-microtask-queued-flag">mutation observer compound microtask queued flag</a>.

 
    <li>Let <var>notify list</var> be a copy of
 <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#unit-of-related-similar_origin-browsing-contexts">unit of related similar-origin browsing contexts</a>’s
 list of <code class="idl"><a data-link-type="idl" href="#mutationobserver">MutationObserver</a></code> objects.

 
    <li>
  For each <code class="idl"><a data-link-type="idl" href="#mutationobserver">MutationObserver</a></code> object <var>mo</var> in <var>notify list</var>,
  <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#execute-a-compound-microtask-subtask">execute a compound microtask subtask</a> to run these steps: <a data-link-type="biblio" href="#biblio-html">[HTML]</a>

  
     <ol>
   
      <li>Let <var>queue</var> be a copy of <var>mo</var>’s <a data-link-type="dfn" href="#concept-MO-queue">record queue</a>.

   
      <li>Empty <var>mo</var>’s <a data-link-type="dfn" href="#concept-MO-queue">record queue</a>.

   
      <li>Remove all <a data-link-type="dfn" href="#transient-registered-observer">transient registered observers</a>
   whose <b>observer</b> is <var>mo</var>.

   
      <li>If <var>queue</var> is non-empty, call
   <var>mo</var>’s <a data-link-type="dfn" href="#concept-MO-callback">callback</a>
   with <var>queue</var> as first argument, and
   <var>mo</var> (itself) as second argument and
   <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-callback-this-value">callback this value</a>. If this throws an exception,
   <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#report-the-exception">report the exception</a>.
  
     </ol>
     
</ol>


   <hr>


   <p>Each <a data-link-type="dfn" href="#concept-node">node</a> has an associated list of
<a data-link-type="dfn" href="#registered-observer">registered observers</a>.</p>



   <p>A <dfn data-dfn-for="MutationObserver" data-dfn-type="dfn" data-export="" id="registered-observer">registered observer<a class="self-link" href="#registered-observer"></a></dfn> consists of an <b>observer</b> (a
<code class="idl"><a data-link-type="idl" href="#mutationobserver">MutationObserver</a></code> object) and <b>options</b> (a
<code class="idl"><a data-link-type="idl" href="#dictdef-mutationobserverinit">MutationObserverInit</a></code> dictionary). A
<dfn data-dfn-for="MutationObserver" data-dfn-type="dfn" data-export="" id="transient-registered-observer">transient registered observer<a class="self-link" href="#transient-registered-observer"></a></dfn> is a specific type of
<a data-link-type="dfn" href="#registered-observer">registered observer</a> that has a <b>source</b> which is a
<a data-link-type="dfn" href="#registered-observer">registered observer</a>.</p>



   <h4 class="heading settled" data-level="4.3.1" id="interface-mutationobserver"><span class="secno">4.3.1. </span><span class="content">
Interface <code class="idl"><a data-link-type="idl" href="#mutationobserver">MutationObserver</a></code></span><a class="self-link" href="#interface-mutationobserver"></a></h4>


   <pre class="idl">[<a class="idl-code" data-global-name="MutationObserver<interface>/MutationObserver(callback)<constructor>" data-link-type="constructor" href="#dom-mutationobserver-mutationobservercallback">Constructor</a>(<a data-link-type="idl-name" href="#callbackdef-mutationcallback">MutationCallback</a> callback)]
interface <dfn class="idl-code" data-dfn-type="interface" data-export="" data-global-name="" id="mutationobserver">MutationObserver<a class="self-link" href="#mutationobserver"></a></dfn> {
  void <a class="idl-code" data-global-name="MutationObserver<interface>/observe(target, options)<method>" data-link-type="method" href="#dom-mutationobserver-observetarget-options">observe</a>(<a data-link-type="idl-name" href="#node">Node</a> <dfn class="idl-code" data-dfn-for="MutationObserver/observe(target, options)" data-dfn-type="argument" data-export="" data-global-name="MutationObserver<interface>/observe(target, options)<method>/target<argument>" id="dom-mutationobserver-observetarget-options-target">target<a class="self-link" href="#dom-mutationobserver-observetarget-options-target"></a></dfn>, <a data-link-type="idl-name" href="#dictdef-mutationobserverinit">MutationObserverInit</a> <dfn class="idl-code" data-dfn-for="MutationObserver/observe(target, options)" data-dfn-type="argument" data-export="" data-global-name="MutationObserver<interface>/observe(target, options)<method>/options<argument>" id="dom-mutationobserver-observetarget-options-options">options<a class="self-link" href="#dom-mutationobserver-observetarget-options-options"></a></dfn>);
  void <a class="idl-code" data-global-name="MutationObserver<interface>/disconnect()<method>" data-link-type="method" href="#dom-mutationobserver-disconnect">disconnect</a>();
  sequence&lt;<a data-link-type="idl-name" href="#mutationrecord">MutationRecord</a>> <a class="idl-code" data-global-name="MutationObserver<interface>/takeRecords()<method>" data-link-type="method" href="#dom-mutationobserver-takerecords">takeRecords</a>();
};

callback <dfn class="idl-code" data-dfn-type="callback" data-export="" data-global-name="" id="callbackdef-mutationcallback">MutationCallback<a class="self-link" href="#callbackdef-mutationcallback"></a></dfn> = void (sequence&lt;<a data-link-type="idl-name" href="#mutationrecord">MutationRecord</a>> <dfn class="idl-code" data-dfn-for="MutationCallback" data-dfn-type="argument" data-export="" data-global-name="MutationCallback/mutations<argument>" id="dom-mutationcallback-mutations">mutations<a class="self-link" href="#dom-mutationcallback-mutations"></a></dfn>, <a data-link-type="idl-name" href="#mutationobserver">MutationObserver</a> <dfn class="idl-code" data-dfn-for="MutationCallback" data-dfn-type="argument" data-export="" data-global-name="MutationCallback/observer<argument>" id="dom-mutationcallback-observer">observer<a class="self-link" href="#dom-mutationcallback-observer"></a></dfn>);

dictionary <dfn class="idl-code" data-dfn-type="dictionary" data-export="" data-global-name="" id="dictdef-mutationobserverinit">MutationObserverInit<a class="self-link" href="#dictdef-mutationobserverinit"></a></dfn> {
  boolean <dfn class="idl-code" data-default="false" data-dfn-for="MutationObserverInit" data-dfn-type="dict-member" data-export="" data-global-name="MutationObserverInit<dictionary>/childList<dict-member>" data-type="boolean " id="dom-mutationobserverinit-childlist">childList<a class="self-link" href="#dom-mutationobserverinit-childlist"></a></dfn> = false;
  boolean <dfn class="idl-code" data-dfn-for="MutationObserverInit" data-dfn-type="dict-member" data-export="" data-global-name="MutationObserverInit<dictionary>/attributes<dict-member>" data-type="boolean " id="dom-mutationobserverinit-attributes">attributes<a class="self-link" href="#dom-mutationobserverinit-attributes"></a></dfn>;
  boolean <dfn class="idl-code" data-dfn-for="MutationObserverInit" data-dfn-type="dict-member" data-export="" data-global-name="MutationObserverInit<dictionary>/characterData<dict-member>" data-type="boolean " id="dom-mutationobserverinit-characterdata">characterData<a class="self-link" href="#dom-mutationobserverinit-characterdata"></a></dfn>;
  boolean <dfn class="idl-code" data-default="false" data-dfn-for="MutationObserverInit" data-dfn-type="dict-member" data-export="" data-global-name="MutationObserverInit<dictionary>/subtree<dict-member>" data-type="boolean " id="dom-mutationobserverinit-subtree">subtree<a class="self-link" href="#dom-mutationobserverinit-subtree"></a></dfn> = false;
  boolean <dfn class="idl-code" data-dfn-for="MutationObserverInit" data-dfn-type="dict-member" data-export="" data-global-name="MutationObserverInit<dictionary>/attributeOldValue<dict-member>" data-type="boolean " id="dom-mutationobserverinit-attributeoldvalue">attributeOldValue<a class="self-link" href="#dom-mutationobserverinit-attributeoldvalue"></a></dfn>;
  boolean <dfn class="idl-code" data-dfn-for="MutationObserverInit" data-dfn-type="dict-member" data-export="" data-global-name="MutationObserverInit<dictionary>/characterDataOldValue<dict-member>" data-type="boolean " id="dom-mutationobserverinit-characterdataoldvalue">characterDataOldValue<a class="self-link" href="#dom-mutationobserverinit-characterdataoldvalue"></a></dfn>;
  sequence&lt;DOMString> <dfn class="idl-code" data-dfn-for="MutationObserverInit" data-dfn-type="dict-member" data-export="" data-global-name="MutationObserverInit<dictionary>/attributeFilter<dict-member>" data-type="sequence<DOMString> " id="dom-mutationobserverinit-attributefilter">attributeFilter<a class="self-link" href="#dom-mutationobserverinit-attributefilter"></a></dfn>;
};
</pre>


   <p>A <code class="idl"><a data-link-type="idl" href="#mutationobserver">MutationObserver</a></code> object can be used to observe mutations
to the <a data-link-type="dfn" href="#concept-tree">tree</a> of
<a data-link-type="dfn" href="#concept-node">nodes</a>.</p>


   <p>Each <code class="idl"><a data-link-type="idl" href="#mutationobserver">MutationObserver</a></code> object has these associated concepts:</p>

   <ul>
 
    <li>A <dfn data-dfn-for="MutationObserver" data-dfn-type="dfn" data-export="" id="concept-MO-callback">callback<a class="self-link" href="#concept-MO-callback"></a></dfn> set on creation.
 
    <li>A list of <a data-link-type="dfn" href="#concept-node">nodes</a> on which it is a <a data-link-type="dfn" href="#registered-observer">registered observer</a>’s <b>observer</b> that is initially empty.
 
    <li>A list of <code class="idl"><a data-link-type="idl" href="#mutationrecord">MutationRecord</a></code> objects called the
 <dfn data-dfn-for="MutationObserver" data-dfn-type="dfn" data-export="" id="concept-MO-queue">record queue<a class="self-link" href="#concept-MO-queue"></a></dfn> that is initially empty.
</ul>


   <dl class="domintro">
 
    <dt><code><var>observer</var> = new <code class="idl"><a data-link-type="idl" href="#dom-mutationobserver-mutationobservercallback">MutationObserver(callback)</a></code></code>
 
    <dd>Constructs a <code class="idl"><a data-link-type="idl" href="#mutationobserver">MutationObserver</a></code> object and sets its
 <a data-link-type="dfn" href="#concept-MO-callback">callback</a> to
 <var>callback</var>. The <var>callback</var> is invoked with a
 list of <code class="idl"><a data-link-type="idl" href="#mutationrecord">MutationRecord</a></code> objects as first argument and the
 constructed <code class="idl"><a data-link-type="idl" href="#mutationobserver">MutationObserver</a></code> object as second argument. It is
 invoked after <a data-link-type="dfn" href="#concept-node">nodes</a> registered with the
 <code class="idl"><a data-link-type="idl" href="#dom-mutationobserver-observetarget-options">observe()</a></code> method, are
 mutated.

 
    <dt><code><var>observer</var> . <code class="idl"><a data-link-type="idl" href="#dom-mutationobserver-observetarget-options">observe(target, options)</a></code></code>
 
    <dd>
  Instructs the user agent to observe a given <var>target</var>
  (a <a data-link-type="dfn" href="#concept-node">node</a>) and report any mutations based on
  the criteria given by <var>options</var> (an object).


     <p>The <var>options</var> argument allows for setting mutation
  observation options via object members. These are the object members that
  can be used:</p>
     

  
     <dl>
   
      <dt><code class="idl"><a data-link-type="idl" href="#dom-mutationobserverinit-childlist">childList</a></code>
   
      <dd>Set to true if mutations to <var>target</var>’s <a data-link-type="dfn" href="#concept-tree-child">children</a> are to be observed.

   
      <dt><code class="idl"><a data-link-type="idl" href="#dom-mutationobserverinit-attributes">attributes</a></code>
   
      <dd>Set to true if mutations to <var>target</var>’s
   <a data-link-type="dfn" href="#concept-attribute">attributes</a> are to be observed. Can be omitted if
   <code class="idl"><a data-link-type="idl" href="#dom-mutationobserverinit-attributeoldvalue">attributeOldValue</a></code> and/or
   <code class="idl"><a data-link-type="idl" href="#dom-mutationobserverinit-attributefilter">attributeFilter</a></code> is
   specified.

   
      <dt><code class="idl"><a data-link-type="idl" href="#dom-mutationobserverinit-characterdata">characterData</a></code>
   
      <dd>Set to true if mutations to <var>target</var>’s
   <a data-link-type="dfn" href="#concept-CD-data">data</a> are to be observed. Can be omitted if
   <code class="idl"><a data-link-type="idl" href="#dom-mutationobserverinit-characterdataoldvalue">characterDataOldValue</a></code>
   is specified.

   
      <dt><code class="idl"><a data-link-type="idl" href="#dom-mutationobserverinit-subtree">subtree</a></code>
   
      <dd>Set to true if mutations to not just <var>target</var>, but
   also <var>target</var>’s
   <a data-link-type="dfn" href="#concept-tree-descendant">descendants</a> are to be
   observed.

   
      <dt><code class="idl"><a data-link-type="idl" href="#dom-mutationobserverinit-attributeoldvalue">attributeOldValue</a></code>
   
      <dd>Set to true if
   <code class="idl"><a data-link-type="idl" href="#dom-mutationobserverinit-attributes">attributes</a></code> is true or omitted
   and <var>target</var>’s
   <a data-link-type="dfn" href="#concept-attribute">attribute</a>
   <a data-link-type="dfn" href="#concept-attribute-value">value</a> before the mutation
   needs to be recorded.

   
      <dt><code class="idl"><a data-link-type="idl" href="#dom-mutationobserverinit-characterdataoldvalue">characterDataOldValue</a></code>
   
      <dd>Set to true if
   <code class="idl"><a data-link-type="idl" href="#dom-mutationobserverinit-characterdata">characterData</a></code>
   is set to true or omitted and <var>target</var>’s
   <a data-link-type="dfn" href="#concept-CD-data">data</a> before the mutation
   needs to be recorded.

   
      <dt><code class="idl"><a data-link-type="idl" href="#dom-mutationobserverinit-attributefilter">attributeFilter</a></code>
   
      <dd>Set to a list of <a data-link-type="dfn" href="#concept-attribute">attribute</a>
   <a data-link-type="dfn" href="#concept-attribute-local-name">local names</a> (without <a data-link-type="dfn" href="#concept-attribute-namespace">namespace</a>) if not all
   <a data-link-type="dfn" href="#concept-attribute">attribute</a> mutations need to be
   observed and <code class="idl"><a data-link-type="idl" href="#dom-mutationobserverinit-attributes">attributes</a></code> is true
   or omitted.
  
     </dl>
     

 
    <dt><code><var>observer</var> . <code class="idl"><a data-link-type="idl" href="#dom-mutationobserver-disconnect">disconnect()</a></code></code>
 
    <dd>Stops <var>observer</var> from observing any mutations.
 Until the <code class="idl"><a data-link-type="idl" href="#dom-mutationobserver-observetarget-options">observe()</a></code> method
 is used again, <var>observer</var>’s
 <a data-link-type="dfn" href="#concept-MO-callback">callback</a> will not be invoked.

 
    <dt><code><var>observer</var> . <code class="idl"><a data-link-type="idl" href="#dom-mutationobserver-takerecords">takeRecords()</a></code></code>
 
    <dd>Empties the <a data-link-type="dfn" href="#concept-MO-queue">record queue</a> and
 returns what was in there.
</dl>


   <p>The
<dfn class="idl-code" data-dfn-for="MutationObserver" data-dfn-type="constructor" data-export="" id="dom-mutationobserver-mutationobservercallback">MutationObserver(<var>callback</var>)<a class="self-link" href="#dom-mutationobserver-mutationobservercallback"></a></dfn>
constructor must create a new <code class="idl"><a data-link-type="idl" href="#mutationobserver">MutationObserver</a></code> object with
<a data-link-type="dfn" href="#concept-MO-callback">callback</a> set to <var>callback</var>,
append it to the
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#unit-of-related-similar_origin-browsing-contexts">unit of related similar-origin browsing contexts</a>’s list
of <code class="idl"><a data-link-type="idl" href="#mutationobserver">MutationObserver</a></code> objects, and then return it.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="MutationObserver" data-dfn-type="method" data-export="" id="dom-mutationobserver-observetarget-options">observe(<var>target</var>, <var>options</var>)<a class="self-link" href="#dom-mutationobserver-observetarget-options"></a></dfn>
method, when invoked, must run these steps:</p>


   <ol>
 
    <li>If either <var>options</var>'
 <code class="idl"><a data-link-type="idl" href="#dom-mutationobserverinit-attributeoldvalue">attributeOldValue</a></code> or
 <code class="idl"><a data-link-type="idl" href="#dom-mutationobserverinit-attributefilter">attributeFilter</a></code> is present
 and <var>options</var>'
 <code class="idl"><a data-link-type="idl" href="#dom-mutationobserverinit-attributes">attributes</a></code> is omitted, set
 <var>options</var>'
 <code class="idl"><a data-link-type="idl" href="#dom-mutationobserverinit-attributes">attributes</a></code> to true.

 
    <li>If <var>options</var>'
 <code class="idl"><a data-link-type="idl" href="#dom-mutationobserverinit-characterdataoldvalue">characterDataOldValue</a></code>
 is present and <var>options</var>'
 <code class="idl"><a data-link-type="idl" href="#dom-mutationobserverinit-characterdata">characterData</a></code> is omitted, set
 <var>options</var>'
 <code class="idl"><a data-link-type="idl" href="#dom-mutationobserverinit-characterdata">characterData</a></code> to true.

 
    <li>If none of <var>options</var>'
 <code class="idl"><a data-link-type="idl" href="#dom-mutationobserverinit-childlist">childList</a></code>
 <code class="idl"><a data-link-type="idl" href="#dom-mutationobserverinit-attributes">attributes</a></code>, and
 <code class="idl"><a data-link-type="idl" href="#dom-mutationobserverinit-characterdata">characterData</a></code> is true,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a <code>TypeError</code>.

 
    <li>If <var>options</var>'
 <code class="idl"><a data-link-type="idl" href="#dom-mutationobserverinit-attributeoldvalue">attributeOldValue</a></code> is true
 and <var>options</var>'
 <code class="idl"><a data-link-type="idl" href="#dom-mutationobserverinit-attributes">attributes</a></code> is false,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a <code>TypeError</code>.

 
    <li>If <var>options</var>'
 <code class="idl"><a data-link-type="idl" href="#dom-mutationobserverinit-attributefilter">attributeFilter</a></code> is present
 and <var>options</var>'
 <code class="idl"><a data-link-type="idl" href="#dom-mutationobserverinit-attributes">attributes</a></code> is false,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a <code>TypeError</code>.

 
    <li>If <var>options</var>'
 <code class="idl"><a data-link-type="idl" href="#dom-mutationobserverinit-characterdataoldvalue">characterDataOldValue</a></code>
 is true and <var>options</var>'
 <code class="idl"><a data-link-type="idl" href="#dom-mutationobserverinit-characterdata">characterData</a></code> is false,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a <code>TypeError</code>.

 
    <li>
  For each <a data-link-type="dfn" href="#registered-observer">registered observer</a> <var>registered</var> in
  <var>target</var>’s list of
  <a data-link-type="dfn" href="#registered-observer">registered observers</a> whose <b>observer</b> is
  the <a data-link-type="dfn" href="#context-object">context object</a>:

  
     <ol>
   
      <li>Remove all
   <a data-link-type="dfn" href="#transient-registered-observer">transient registered observers</a> whose
   <b>source</b> is <var>registered</var>.

   
      <li>Replace <var>registered</var>’s <b>options</b> with
   <var>options</var>.
  
     </ol>
     

 
    <li>Otherwise, add a new <a data-link-type="dfn" href="#registered-observer">registered observer</a> to
 <var>target</var>’s list of
 <a data-link-type="dfn" href="#registered-observer">registered observers</a> with the
 <a data-link-type="dfn" href="#context-object">context object</a> as the <b>observer</b> and <var>options</var> as the <b>options</b>,
 and add <var>target</var> to <a data-link-type="dfn" href="#context-object">context object</a>’s list of <a data-link-type="dfn" href="#concept-node">nodes</a> on which it is registered.
</ol>


   <p>The
<dfn class="idl-code" data-dfn-for="MutationObserver" data-dfn-type="method" data-export="" id="dom-mutationobserver-disconnect">disconnect()<a class="self-link" href="#dom-mutationobserver-disconnect"></a></dfn>
method must, for each <a data-link-type="dfn" href="#concept-node">node</a>
<var>node</var> in the <a data-link-type="dfn" href="#context-object">context object</a>’s list of
<a data-link-type="dfn" href="#concept-node">nodes</a>, remove any
<a data-link-type="dfn" href="#registered-observer">registered observer</a> on <var>node</var>
for which the <a data-link-type="dfn" href="#context-object">context object</a> is the <b>observer</b>, and also
empty <a data-link-type="dfn" href="#context-object">context object</a>’s
<a data-link-type="dfn" href="#concept-MO-queue">record queue</a>.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="MutationObserver" data-dfn-type="method" data-export="" id="dom-mutationobserver-takerecords">takeRecords()<a class="self-link" href="#dom-mutationobserver-takerecords"></a></dfn>
method must return a copy of the
<a data-link-type="dfn" href="#concept-MO-queue">record queue</a> and then empty the
<a data-link-type="dfn" href="#concept-MO-queue">record queue</a>.</p>



   <h4 class="heading settled" data-level="4.3.2" id="queueing-a-mutation-record"><span class="secno">4.3.2. </span><span class="content">
Queuing a mutation record</span><a class="self-link" href="#queueing-a-mutation-record"></a></h4>


   <p>To <dfn data-dfn-type="dfn" data-export="" id="queue-a-mutation-record">queue a mutation record<a class="self-link" href="#queue-a-mutation-record"></a></dfn> of <var>type</var> for
<var>target</var> with one or more of (depends on
<var>type</var>) name <var>name</var>, namespace
<var>namespace</var>, oldValue <var>oldValue</var>, addedNodes
<var>addedNodes</var>, removedNodes <var>removedNodes</var>,
previousSibling <var>previousSibling</var>, and nextSibling
<var>nextSibling</var>, run these steps:</p>


   <ol>
 
    <li>Let <var>interested observers</var> be an initially empty set
 of <code class="idl"><a data-link-type="idl" href="#mutationobserver">MutationObserver</a></code> objects optionally paired with a string.

 
    <li>Let <var>nodes</var> be the <a data-link-type="dfn" href="#concept-tree-inclusive-ancestor">inclusive ancestors</a> of <var>target</var>.

 
    <li>
  Then, for each <var>node</var> in <var>nodes</var>, and
  then for each <var>registered observer</var> (with
  <var>registered observer</var>’s <b>options</b> as
  <var>options</var>) in <var>node</var>’s list of
  <a data-link-type="dfn" href="#registered-observer">registered observers</a>:

  
     <ol>
   
      <li>If <var>node</var> is not <var>target</var> and
   <var>options</var>’s <code>subtree</code> is false, continue.

   
      <li>If <var>type</var> is "<code>attributes</code>" and
   <var>options</var>’s <code>attributes</code> is not true, continue.
   

   
      <li>If <var>type</var> is "<code>attributes</code>",
   <var>options</var>’s <code>attributeFilter</code> is present, and either
   <var>options</var>’s <code>attributeFilter</code> does not contain
   <var>name</var> or <var>namespace</var> is non-null, continue.

   
      <li>If <var>type</var> is "<code>characterData</code>" and
   <var>options</var>’s <code>characterData</code> is not true, continue.
   

   
      <li>If <var>type</var> is "<code>childList</code>" and
   <var>options</var>’s <code>childList</code> is false, continue.

   
      <li>If <var>registered observer</var>’s <b>observer</b> is
   not in <var>interested observers</var>, append
   <var>registered observer</var>’s <b>observer</b> to
   <var>interested observers</var>.

   
      <li>If either <var>type</var> is "<code>attributes</code>"
   and <var>options</var>’s <code>attributeOldValue</code> is true, or
   <var>type</var> is "<code>characterData</code>" and
   <var>options</var>’s <code>characterDataOldValue</code> is true,
   set the paired string of
   <var>registered observer</var>’s <b>observer</b> in
   <var>interested observers</var> to <var>oldValue</var>.
  
     </ol>
     

 
    <li>
  Then, for each <var>observer</var> in
  <var>interested observers</var>:

  
     <ol>
   
      <li>Let <var>record</var> be a new <code class="idl"><a data-link-type="idl" href="#mutationrecord">MutationRecord</a></code>
   object with its <code class="idl"><a data-link-type="idl" href="#dom-mutationrecord-type">type</a></code> set to
   <var>type</var> and
   <code class="idl"><a data-link-type="idl" href="#dom-mutationrecord-target">target</a></code> set to
   <var>target</var>.

   
      <li>If <var>name</var> and <var>namespace</var> are given,
   set <var>record</var>’s
   <code class="idl"><a data-link-type="idl" href="#dom-mutationrecord-attributename">attributeName</a></code> to
   <var>name</var>, and <var>record</var>’s
   <code class="idl"><a data-link-type="idl" href="#dom-mutationrecord-attributenamespace">attributeNamespace</a></code>
   to <var>namespace</var>.

   
      <li>If <var>addedNodes</var> is given, set <var>record</var>’s
   <code class="idl"><a data-link-type="idl" href="#dom-mutationrecord-addednodes">addedNodes</a></code> to
   <var>addedNodes</var>.

   
      <li>If <var>removedNodes</var> is given, set <var>record</var>’s
   <code class="idl"><a data-link-type="idl" href="#dom-mutationrecord-removednodes">removedNodes</a></code> to
   <var>removedNodes</var>,

   
      <li>If <var>previousSibling</var> is given, set <var>record</var>’s
   <code class="idl"><a data-link-type="idl" href="#dom-mutationrecord-previoussibling">previousSibling</a></code> to
   <var>previousSibling</var>.

   
      <li>If <var>nextSibling</var> is given, set <var>record</var>’s
   <code class="idl"><a data-link-type="idl" href="#dom-mutationrecord-nextsibling">nextSibling</a></code> to
   <var>nextSibling</var>.

   
      <li>If <var>observer</var> has a paired string,
   set <var>record</var>’s <code class="idl"><a data-link-type="idl" href="#dom-mutationrecord-oldvalue">oldValue</a></code>
   to <var>observer</var>’s paired string.

   
      <li>Append <var>record</var> to <var>observer</var>’s
   <a data-link-type="dfn" href="#concept-MO-queue">record queue</a>.
  
     </ol>
     

 
    <li><a data-link-type="dfn" href="#queue-a-mutation-observer-compound-microtask">Queue a mutation observer compound microtask</a>.
</ol>



   <h4 class="heading settled" data-level="4.3.3" id="interface-mutationrecord"><span class="secno">4.3.3. </span><span class="content">
Interface <code class="idl"><a data-link-type="idl" href="#mutationrecord">MutationRecord</a></code></span><a class="self-link" href="#interface-mutationrecord"></a></h4>


   <pre class="idl">[Exposed=Window]
interface <dfn class="idl-code" data-dfn-type="interface" data-export="" data-global-name="" id="mutationrecord">MutationRecord<a class="self-link" href="#mutationrecord"></a></dfn> {
  readonly attribute DOMString <a class="idl-code" data-global-name="MutationRecord<interface>/type<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-mutationrecord-type">type</a>;
  readonly attribute <a data-link-type="idl-name" href="#node">Node</a> <a class="idl-code" data-global-name="MutationRecord<interface>/target<attribute>" data-link-type="attribute" data-readonly="" data-type="Node " href="#dom-mutationrecord-target">target</a>;
  [SameObject] readonly attribute <a data-link-type="idl-name" href="#nodelist">NodeList</a> <a class="idl-code" data-global-name="MutationRecord<interface>/addedNodes<attribute>" data-link-type="attribute" data-readonly="" data-type="NodeList " href="#dom-mutationrecord-addednodes">addedNodes</a>;
  [SameObject] readonly attribute <a data-link-type="idl-name" href="#nodelist">NodeList</a> <a class="idl-code" data-global-name="MutationRecord<interface>/removedNodes<attribute>" data-link-type="attribute" data-readonly="" data-type="NodeList " href="#dom-mutationrecord-removednodes">removedNodes</a>;
  readonly attribute <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="MutationRecord<interface>/previousSibling<attribute>" data-link-type="attribute" data-readonly="" data-type="Node? " href="#dom-mutationrecord-previoussibling">previousSibling</a>;
  readonly attribute <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="MutationRecord<interface>/nextSibling<attribute>" data-link-type="attribute" data-readonly="" data-type="Node? " href="#dom-mutationrecord-nextsibling">nextSibling</a>;
  readonly attribute DOMString? <a class="idl-code" data-global-name="MutationRecord<interface>/attributeName<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString? " href="#dom-mutationrecord-attributename">attributeName</a>;
  readonly attribute DOMString? <a class="idl-code" data-global-name="MutationRecord<interface>/attributeNamespace<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString? " href="#dom-mutationrecord-attributenamespace">attributeNamespace</a>;
  readonly attribute DOMString? <a class="idl-code" data-global-name="MutationRecord<interface>/oldValue<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString? " href="#dom-mutationrecord-oldvalue">oldValue</a>;
};
</pre>


   <dl class="domintro">
 
    <dt><code><var>record</var> . <code class="idl"><a data-link-type="idl" href="#dom-mutationrecord-type">type</a></code></code>
 
    <dd>Returns "<code>attributes</code>" if it was an
 <a data-link-type="dfn" href="#concept-attribute">attribute</a> mutation.
 "<code>characterData</code>" if it was a mutation to a
 <code class="idl"><a data-link-type="idl" href="#characterdata">CharacterData</a></code> <a data-link-type="dfn" href="#concept-node">node</a>. And
 "<code>childList</code>" if it was a mutation to the
 <a data-link-type="dfn" href="#concept-tree">tree</a> of
 <a data-link-type="dfn" href="#concept-node">nodes</a>.

 
    <dt><code><var>record</var> . <code class="idl"><a data-link-type="idl" href="#dom-mutationrecord-target">target</a></code></code>
 
    <dd>Returns the <a data-link-type="dfn" href="#concept-node">node</a> the mutation
 affected, depending on the <code class="idl"><a data-link-type="idl" href="#dom-mutationrecord-type">type</a></code>.
 For "<code>attributes</code>", it is the
 <a data-link-type="dfn" href="#concept-element">element</a> whose
 <a data-link-type="dfn" href="#concept-attribute">attribute</a> changed. For
 "<code>characterData</code>", it is the <code class="idl"><a data-link-type="idl" href="#characterdata">CharacterData</a></code>
 <a data-link-type="dfn" href="#concept-node">node</a>. For "<code>childList</code>",
 it is the  <a data-link-type="dfn" href="#concept-node">node</a> whose
 <a data-link-type="dfn" href="#concept-tree-child">children</a> changed.

 
    <dt><code><var>record</var> . <code class="idl"><a data-link-type="idl" href="#dom-mutationrecord-addednodes">addedNodes</a></code></code>
 
    <dt><code><var>record</var> . <code class="idl"><a data-link-type="idl" href="#dom-mutationrecord-removednodes">removedNodes</a></code></code>
 
    <dd>Return the <a data-link-type="dfn" href="#concept-node">nodes</a> added and removed
 respectively.

 
    <dt><code><var>record</var> . <code class="idl"><a data-link-type="idl" href="#dom-mutationrecord-previoussibling">previousSibling</a></code></code>
 
    <dt><code><var>record</var> . <code class="idl"><a data-link-type="idl" href="#dom-mutationrecord-nextsibling">nextSibling</a></code></code>
 
    <dd>Return the <a data-link-type="dfn" href="#concept-tree-previous-sibling">previous</a> and <a data-link-type="dfn" href="#concept-tree-next-sibling">next sibling</a> respectively
 of the added or removed <a data-link-type="dfn" href="#concept-node">nodes</a>, and null otherwise.

 
    <dt><code><var>record</var> . <code class="idl"><a data-link-type="idl" href="#dom-mutationrecord-attributename">attributeName</a></code></code>
 
    <dd>Returns the
 <a data-link-type="dfn" href="#concept-attribute-local-name">local name</a> of the
 changed <a data-link-type="dfn" href="#concept-attribute">attribute</a>, and null otherwise.

 
    <dt><code><var>record</var> . <code class="idl"><a data-link-type="idl" href="#dom-mutationrecord-attributenamespace">attributeNamespace</a></code></code>
 
    <dd>Returns the <a data-link-type="dfn" href="#concept-attribute-namespace">namespace</a> of the
 changed <a data-link-type="dfn" href="#concept-attribute">attribute</a>, and null otherwise.

 
    <dt><code><var>record</var> . <code class="idl"><a data-link-type="idl" href="#dom-mutationrecord-oldvalue">oldValue</a></code></code>
 
    <dd>The return value depends on
 <code class="idl"><a data-link-type="idl" href="#dom-mutationrecord-type">type</a></code>. For
 "<code>attributes</code>", it is the
 <a data-link-type="dfn" href="#concept-attribute-value">value</a> of the
 changed <a data-link-type="dfn" href="#concept-attribute">attribute</a> before the change.
 For "<code>characterData</code>", it is the
 <a data-link-type="dfn" href="#concept-CD-data">data</a> of the changed
 <a data-link-type="dfn" href="#concept-node">node</a> before the change. For
 "<code>childList</code>", it is null.
</dl>


   <p>The <dfn class="idl-code" data-dfn-for="MutationRecord" data-dfn-type="attribute" data-export="" id="dom-mutationrecord-type">type<a class="self-link" href="#dom-mutationrecord-type"></a></dfn> and
<dfn class="idl-code" data-dfn-for="MutationRecord" data-dfn-type="attribute" data-export="" id="dom-mutationrecord-target">target<a class="self-link" href="#dom-mutationrecord-target"></a></dfn>
attributes must return the values they were initialized to.</p>


   <p>The <dfn class="idl-code" data-dfn-for="MutationRecord" data-dfn-type="attribute" data-export="" id="dom-mutationrecord-addednodes">addedNodes<a class="self-link" href="#dom-mutationrecord-addednodes"></a></dfn> and
<dfn class="idl-code" data-dfn-for="MutationRecord" data-dfn-type="attribute" data-export="" id="dom-mutationrecord-removednodes">removedNodes<a class="self-link" href="#dom-mutationrecord-removednodes"></a></dfn>
attributes must return the values they were initialized to. Unless stated
otherwise, when a <code class="idl"><a data-link-type="idl" href="#mutationrecord">MutationRecord</a></code> object is created, they must
both be initialized to an empty <code class="idl"><a data-link-type="idl" href="#nodelist">NodeList</a></code>.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="MutationRecord" data-dfn-type="attribute" data-export="" id="dom-mutationrecord-previoussibling">previousSibling<a class="self-link" href="#dom-mutationrecord-previoussibling"></a></dfn>,
<dfn class="idl-code" data-dfn-for="MutationRecord" data-dfn-type="attribute" data-export="" id="dom-mutationrecord-nextsibling">nextSibling<a class="self-link" href="#dom-mutationrecord-nextsibling"></a></dfn>,
<dfn class="idl-code" data-dfn-for="MutationRecord" data-dfn-type="attribute" data-export="" id="dom-mutationrecord-attributename">attributeName<a class="self-link" href="#dom-mutationrecord-attributename"></a></dfn>,
<dfn class="idl-code" data-dfn-for="MutationRecord" data-dfn-type="attribute" data-export="" id="dom-mutationrecord-attributenamespace">attributeNamespace<a class="self-link" href="#dom-mutationrecord-attributenamespace"></a></dfn>, and
<dfn class="idl-code" data-dfn-for="MutationRecord" data-dfn-type="attribute" data-export="" id="dom-mutationrecord-oldvalue">oldValue<a class="self-link" href="#dom-mutationrecord-oldvalue"></a></dfn>
attributes must return the values they were initialized to. Unless stated
otherwise, when a <code class="idl"><a data-link-type="idl" href="#mutationrecord">MutationRecord</a></code> object is created, they must
be initialized to null.</p>


   <h4 class="heading settled" data-level="4.3.4" id="garbage-collection"><span class="secno">4.3.4. </span><span class="content">
Garbage collection</span><a class="self-link" href="#garbage-collection"></a></h4>


   <p><a data-link-type="dfn" href="#concept-node">Nodes</a> have a strong reference to
<a data-link-type="dfn" href="#registered-observer">registered observers</a> in their
list of <a data-link-type="dfn" href="#registered-observer">registered observers</a>.</p>


   <p><a data-link-type="dfn" href="#registered-observer">Registered observers</a> in a
<a data-link-type="dfn" href="#concept-node">node</a>’s list of
<a data-link-type="dfn" href="#registered-observer">registered observers</a> have a weak
reference to the <a data-link-type="dfn" href="#concept-node">node</a>.</p>



   <h3 class="heading settled" data-level="4.4" id="interface-node"><span class="secno">4.4. </span><span class="content">
Interface <code class="idl"><a data-link-type="idl" href="#node">Node</a></code></span><a class="self-link" href="#interface-node"></a></h3>


   <pre class="idl">[Exposed=Window]
interface <dfn class="idl-code" data-dfn-type="interface" data-export="" data-global-name="" id="node">Node<a class="self-link" href="#node"></a></dfn> : <a data-link-type="idl-name" href="#eventtarget">EventTarget</a> {
  const unsigned short <a class="idl-code" data-global-name="Node<interface>/ELEMENT_NODE<const>" data-link-type="const" href="#dom-node-element_node">ELEMENT_NODE</a> = 1;
  const unsigned short <dfn class="idl-code" data-dfn-for="Node" data-dfn-type="const" data-export="" data-global-name="Node<interface>/ATTRIBUTE_NODE<const>" id="dom-node-attribute_node">ATTRIBUTE_NODE<a class="self-link" href="#dom-node-attribute_node"></a></dfn> = 2; // historical
  const unsigned short <a class="idl-code" data-global-name="Node<interface>/TEXT_NODE<const>" data-link-type="const" href="#dom-node-text_node">TEXT_NODE</a> = 3;
  const unsigned short <dfn class="idl-code" data-dfn-for="Node" data-dfn-type="const" data-export="" data-global-name="Node<interface>/CDATA_SECTION_NODE<const>" id="dom-node-cdata_section_node">CDATA_SECTION_NODE<a class="self-link" href="#dom-node-cdata_section_node"></a></dfn> = 4; // historical
  const unsigned short <dfn class="idl-code" data-dfn-for="Node" data-dfn-type="const" data-export="" data-global-name="Node<interface>/ENTITY_REFERENCE_NODE<const>" id="dom-node-entity_reference_node">ENTITY_REFERENCE_NODE<a class="self-link" href="#dom-node-entity_reference_node"></a></dfn> = 5; // historical
  const unsigned short <dfn class="idl-code" data-dfn-for="Node" data-dfn-type="const" data-export="" data-global-name="Node<interface>/ENTITY_NODE<const>" id="dom-node-entity_node">ENTITY_NODE<a class="self-link" href="#dom-node-entity_node"></a></dfn> = 6; // historical
  const unsigned short <a class="idl-code" data-global-name="Node<interface>/PROCESSING_INSTRUCTION_NODE<const>" data-link-type="const" href="#dom-node-processing_instruction_node">PROCESSING_INSTRUCTION_NODE</a> = 7;
  const unsigned short <a class="idl-code" data-global-name="Node<interface>/COMMENT_NODE<const>" data-link-type="const" href="#dom-node-comment_node">COMMENT_NODE</a> = 8;
  const unsigned short <a class="idl-code" data-global-name="Node<interface>/DOCUMENT_NODE<const>" data-link-type="const" href="#dom-node-document_node">DOCUMENT_NODE</a> = 9;
  const unsigned short <a class="idl-code" data-global-name="Node<interface>/DOCUMENT_TYPE_NODE<const>" data-link-type="const" href="#dom-node-document_type_node">DOCUMENT_TYPE_NODE</a> = 10;
  const unsigned short <a class="idl-code" data-global-name="Node<interface>/DOCUMENT_FRAGMENT_NODE<const>" data-link-type="const" href="#dom-node-document_fragment_node">DOCUMENT_FRAGMENT_NODE</a> = 11;
  const unsigned short <dfn class="idl-code" data-dfn-for="Node" data-dfn-type="const" data-export="" data-global-name="Node<interface>/NOTATION_NODE<const>" id="dom-node-notation_node">NOTATION_NODE<a class="self-link" href="#dom-node-notation_node"></a></dfn> = 12; // historical
  readonly attribute unsigned short <a class="idl-code" data-global-name="Node<interface>/nodeType<attribute>" data-link-type="attribute" data-readonly="" data-type="unsigned short " href="#dom-node-nodetype">nodeType</a>;
  readonly attribute DOMString <a class="idl-code" data-global-name="Node<interface>/nodeName<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-node-nodename">nodeName</a>;

  readonly attribute DOMString? <a class="idl-code" data-global-name="Node<interface>/baseURI<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString? " href="#dom-node-baseuri">baseURI</a>;

  readonly attribute <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document">Document</a>? <a class="idl-code" data-global-name="Node<interface>/ownerDocument<attribute>" data-link-type="attribute" data-readonly="" data-type="Document? " href="#dom-node-ownerdocument">ownerDocument</a>;
  readonly attribute <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="Node<interface>/parentNode<attribute>" data-link-type="attribute" data-readonly="" data-type="Node? " href="#dom-node-parentnode">parentNode</a>;
  readonly attribute <a data-link-type="idl-name" href="#element">Element</a>? <a class="idl-code" data-global-name="Node<interface>/parentElement<attribute>" data-link-type="attribute" data-readonly="" data-type="Element? " href="#dom-node-parentelement">parentElement</a>;
  boolean <a class="idl-code" data-global-name="Node<interface>/hasChildNodes()<method>" data-link-type="method" href="#dom-node-haschildnodes">hasChildNodes</a>();
  [SameObject] readonly attribute <a data-link-type="idl-name" href="#nodelist">NodeList</a> <a class="idl-code" data-global-name="Node<interface>/childNodes<attribute>" data-link-type="attribute" data-readonly="" data-type="NodeList " href="#dom-node-childnodes">childNodes</a>;
  readonly attribute <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="Node<interface>/firstChild<attribute>" data-link-type="attribute" data-readonly="" data-type="Node? " href="#dom-node-firstchild">firstChild</a>;
  readonly attribute <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="Node<interface>/lastChild<attribute>" data-link-type="attribute" data-readonly="" data-type="Node? " href="#dom-node-lastchild">lastChild</a>;
  readonly attribute <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="Node<interface>/previousSibling<attribute>" data-link-type="attribute" data-readonly="" data-type="Node? " href="#dom-node-previoussibling">previousSibling</a>;
  readonly attribute <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="Node<interface>/nextSibling<attribute>" data-link-type="attribute" data-readonly="" data-type="Node? " href="#dom-node-nextsibling">nextSibling</a>;

           attribute DOMString? <a class="idl-code" data-global-name="Node<interface>/nodeValue<attribute>" data-link-type="attribute" data-type="DOMString? " href="#dom-node-nodevalue">nodeValue</a>;
           attribute DOMString? <a class="idl-code" data-global-name="Node<interface>/textContent<attribute>" data-link-type="attribute" data-type="DOMString? " href="#dom-node-textcontent">textContent</a>;
  void <a class="idl-code" data-global-name="Node<interface>/normalize()<method>" data-link-type="method" href="#dom-node-normalize">normalize</a>();

  [NewObject] <a data-link-type="idl-name" href="#node">Node</a> <a class="idl-code" data-global-name="Node<interface>/cloneNode(deep)<method>/cloneNode()<method>" data-link-type="method" href="#dom-node-clonenodedeep">cloneNode</a>(optional boolean <dfn class="idl-code" data-dfn-for="Node/cloneNode(deep)" data-dfn-type="argument" data-export="" data-global-name="Node<interface>/cloneNode(deep)<method>/deep<argument>" id="dom-node-clonenodedeep-deep">deep<a class="self-link" href="#dom-node-clonenodedeep-deep"></a></dfn> = false);
  boolean <a class="idl-code" data-global-name="Node<interface>/isEqualNode(otherNode)<method>" data-link-type="method" href="#dom-node-isequalnodeothernode">isEqualNode</a>(<a data-link-type="idl-name" href="#node">Node</a>? <dfn class="idl-code" data-dfn-for="Node/isEqualNode(otherNode)" data-dfn-type="argument" data-export="" data-global-name="Node<interface>/isEqualNode(otherNode)<method>/otherNode<argument>" id="dom-node-isequalnodeothernode-othernode">otherNode<a class="self-link" href="#dom-node-isequalnodeothernode-othernode"></a></dfn>);

  const unsigned short <a class="idl-code" data-global-name="Node<interface>/DOCUMENT_POSITION_DISCONNECTED<const>" data-link-type="const" href="#dom-node-document_position_disconnected">DOCUMENT_POSITION_DISCONNECTED</a> = 0x01;
  const unsigned short <a class="idl-code" data-global-name="Node<interface>/DOCUMENT_POSITION_PRECEDING<const>" data-link-type="const" href="#dom-node-document_position_preceding">DOCUMENT_POSITION_PRECEDING</a> = 0x02;
  const unsigned short <a class="idl-code" data-global-name="Node<interface>/DOCUMENT_POSITION_FOLLOWING<const>" data-link-type="const" href="#dom-node-document_position_following">DOCUMENT_POSITION_FOLLOWING</a> = 0x04;
  const unsigned short <a class="idl-code" data-global-name="Node<interface>/DOCUMENT_POSITION_CONTAINS<const>" data-link-type="const" href="#dom-node-document_position_contains">DOCUMENT_POSITION_CONTAINS</a> = 0x08;
  const unsigned short <a class="idl-code" data-global-name="Node<interface>/DOCUMENT_POSITION_CONTAINED_BY<const>" data-link-type="const" href="#dom-node-document_position_contained_by">DOCUMENT_POSITION_CONTAINED_BY</a> = 0x10;
  const unsigned short <a class="idl-code" data-global-name="Node<interface>/DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC<const>" data-link-type="const" href="#dom-node-document_position_implementation_specific">DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC</a> = 0x20;
  unsigned short <a class="idl-code" data-global-name="Node<interface>/compareDocumentPosition(other)<method>" data-link-type="method" href="#dom-node-comparedocumentpositionother">compareDocumentPosition</a>(<a data-link-type="idl-name" href="#node">Node</a> <dfn class="idl-code" data-dfn-for="Node/compareDocumentPosition(other)" data-dfn-type="argument" data-export="" data-global-name="Node<interface>/compareDocumentPosition(other)<method>/other<argument>" id="dom-node-comparedocumentpositionother-other">other<a class="self-link" href="#dom-node-comparedocumentpositionother-other"></a></dfn>);
  boolean <a class="idl-code" data-global-name="Node<interface>/contains(other)<method>" data-link-type="method" href="#dom-node-containsother">contains</a>(<a data-link-type="idl-name" href="#node">Node</a>? <dfn class="idl-code" data-dfn-for="Node/contains(other)" data-dfn-type="argument" data-export="" data-global-name="Node<interface>/contains(other)<method>/other<argument>" id="dom-node-containsother-other">other<a class="self-link" href="#dom-node-containsother-other"></a></dfn>);

  DOMString? <a class="idl-code" data-global-name="Node<interface>/lookupPrefix(namespace)<method>" data-link-type="method" href="#dom-node-lookupprefixnamespace">lookupPrefix</a>(DOMString? <dfn class="idl-code" data-dfn-for="Node/lookupPrefix(namespace)" data-dfn-type="argument" data-export="" data-global-name="Node<interface>/lookupPrefix(namespace)<method>/namespace<argument>" id="dom-node-lookupprefixnamespace-namespace">namespace<a class="self-link" href="#dom-node-lookupprefixnamespace-namespace"></a></dfn>);
  DOMString? <a class="idl-code" data-global-name="Node<interface>/lookupNamespaceURI(prefix)<method>" data-link-type="method" href="#dom-node-lookupnamespaceuriprefix">lookupNamespaceURI</a>(DOMString? <dfn class="idl-code" data-dfn-for="Node/lookupNamespaceURI(prefix)" data-dfn-type="argument" data-export="" data-global-name="Node<interface>/lookupNamespaceURI(prefix)<method>/prefix<argument>" id="dom-node-lookupnamespaceuriprefix-prefix">prefix<a class="self-link" href="#dom-node-lookupnamespaceuriprefix-prefix"></a></dfn>);
  boolean <a class="idl-code" data-global-name="Node<interface>/isDefaultNamespace(namespace)<method>" data-link-type="method" href="#dom-node-isdefaultnamespacenamespace">isDefaultNamespace</a>(DOMString? <dfn class="idl-code" data-dfn-for="Node/isDefaultNamespace(namespace)" data-dfn-type="argument" data-export="" data-global-name="Node<interface>/isDefaultNamespace(namespace)<method>/namespace<argument>" id="dom-node-isdefaultnamespacenamespace-namespace">namespace<a class="self-link" href="#dom-node-isdefaultnamespacenamespace-namespace"></a></dfn>);

  <a data-link-type="idl-name" href="#node">Node</a> <a class="idl-code" data-global-name="Node<interface>/insertBefore(node, child)<method>" data-link-type="method" href="#dom-node-insertbeforenode-child">insertBefore</a>(<a data-link-type="idl-name" href="#node">Node</a> <dfn class="idl-code" data-dfn-for="Node/insertBefore(node, child)" data-dfn-type="argument" data-export="" data-global-name="Node<interface>/insertBefore(node, child)<method>/node<argument>" id="dom-node-insertbeforenode-child-node">node<a class="self-link" href="#dom-node-insertbeforenode-child-node"></a></dfn>, <a data-link-type="idl-name" href="#node">Node</a>? <dfn class="idl-code" data-dfn-for="Node/insertBefore(node, child)" data-dfn-type="argument" data-export="" data-global-name="Node<interface>/insertBefore(node, child)<method>/child<argument>" id="dom-node-insertbeforenode-child-child">child<a class="self-link" href="#dom-node-insertbeforenode-child-child"></a></dfn>);
  <a data-link-type="idl-name" href="#node">Node</a> <a class="idl-code" data-global-name="Node<interface>/appendChild(node)<method>" data-link-type="method" href="#dom-node-appendchildnode">appendChild</a>(<a data-link-type="idl-name" href="#node">Node</a> <dfn class="idl-code" data-dfn-for="Node/appendChild(node)" data-dfn-type="argument" data-export="" data-global-name="Node<interface>/appendChild(node)<method>/node<argument>" id="dom-node-appendchildnode-node">node<a class="self-link" href="#dom-node-appendchildnode-node"></a></dfn>);
  <a data-link-type="idl-name" href="#node">Node</a> <a class="idl-code" data-global-name="Node<interface>/replaceChild(node, child)<method>" data-link-type="method" href="#dom-node-replacechildnode-child">replaceChild</a>(<a data-link-type="idl-name" href="#node">Node</a> <dfn class="idl-code" data-dfn-for="Node/replaceChild(node, child)" data-dfn-type="argument" data-export="" data-global-name="Node<interface>/replaceChild(node, child)<method>/node<argument>" id="dom-node-replacechildnode-child-node">node<a class="self-link" href="#dom-node-replacechildnode-child-node"></a></dfn>, <a data-link-type="idl-name" href="#node">Node</a> <dfn class="idl-code" data-dfn-for="Node/replaceChild(node, child)" data-dfn-type="argument" data-export="" data-global-name="Node<interface>/replaceChild(node, child)<method>/child<argument>" id="dom-node-replacechildnode-child-child">child<a class="self-link" href="#dom-node-replacechildnode-child-child"></a></dfn>);
  <a data-link-type="idl-name" href="#node">Node</a> <a class="idl-code" data-global-name="Node<interface>/removeChild(child)<method>" data-link-type="method" href="#dom-node-removechildchild">removeChild</a>(<a data-link-type="idl-name" href="#node">Node</a> <dfn class="idl-code" data-dfn-for="Node/removeChild(child)" data-dfn-type="argument" data-export="" data-global-name="Node<interface>/removeChild(child)<method>/child<argument>" id="dom-node-removechildchild-child">child<a class="self-link" href="#dom-node-removechildchild-child"></a></dfn>);
};
</pre>


   <p class="note" role="note">Note: <code class="idl"><a data-link-type="idl" href="#node">Node</a></code> is an abstract interface and does not exist as <a data-link-type="dfn" href="#concept-node">node</a>.
It is used by all <a data-link-type="dfn" href="#concept-node">nodes</a>
(<code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document">Document</a></code>, <code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code>, <code class="idl"><a data-link-type="idl" href="#documenttype">DocumentType</a></code>, <code class="idl"><a data-link-type="idl" href="#element">Element</a></code>, <code class="idl"><a data-link-type="idl" href="#text">Text</a></code>, <code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code>, and <code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code>).</p>


   <p>Each <a data-link-type="dfn" href="#concept-node">node</a> has an associated
<dfn data-dfn-for="Node" data-dfn-type="dfn" data-export="" id="concept-node-document">node document<a class="self-link" href="#concept-node-document"></a></dfn>, set upon creation,
that is a <a data-link-type="dfn" href="#concept-document">document</a>.</p>


   <p class="note" role="note">Note: A <a data-link-type="dfn" href="#concept-node">node</a>’s
<a data-link-type="dfn" href="#concept-node-document">node document</a> can be changed by
the <a data-link-type="dfn" href="#concept-node-adopt">adopt</a> algorithm.</p>


   <p>Each <a data-link-type="dfn" href="#concept-node">node</a> also has an associated
<dfn data-dfn-for="Node" data-dfn-type="dfn" data-export="" id="concept-node-base-url">base URL<a class="self-link" href="#concept-node-base-url"></a></dfn>.</p>


   <p class="note" role="note">Note: Other specifications define the value of the
<a data-link-type="dfn" href="#concept-node-base-url">base URL</a> and its observable
behavior. This specification solely defines the concept and the
<code class="idl"><a data-link-type="idl" href="#dom-node-baseuri">baseURI</a></code> attribute.</p>


   <hr>


   <dl class="domintro">
 
    <dt><code><var>node</var> . <code class="idl"><a data-link-type="idl" href="#dom-node-nodetype">nodeType</a></code></code>
 
    <dd>
  Returns the type of <var>node</var>, represented by a number from the following list:

  
     <dl>
   
      <dt><code><code class="idl"><a data-link-type="idl" href="#node">Node</a></code> . <code class="idl"><a data-link-type="idl" href="#dom-node-element_node">ELEMENT_NODE</a></code></code> (1)
   
      <dd><var>node</var> is an
   <a data-link-type="dfn" href="#concept-element">element</a>.

   
      <dt><code><code class="idl"><a data-link-type="idl" href="#node">Node</a></code> . <code class="idl"><a data-link-type="idl" href="#dom-node-text_node">TEXT_NODE</a></code></code> (3)
   
      <dd><var>node</var> is a <code class="idl"><a data-link-type="idl" href="#text">Text</a></code>
   <a data-link-type="dfn" href="#concept-node">node</a>.

   
      <dt><code><code class="idl"><a data-link-type="idl" href="#node">Node</a></code> . <code class="idl"><a data-link-type="idl" href="#dom-node-processing_instruction_node">PROCESSING_INSTRUCTION_NODE</a></code></code> (7)
   
      <dd><var>node</var> is a <code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code>
   <a data-link-type="dfn" href="#concept-node">node</a>.

   
      <dt><code><code class="idl"><a data-link-type="idl" href="#node">Node</a></code> . <code class="idl"><a data-link-type="idl" href="#dom-node-comment_node">COMMENT_NODE</a></code></code> (8)
   
      <dd><var>node</var> is a <code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code>
   <a data-link-type="dfn" href="#concept-node">node</a>.

   
      <dt><code><code class="idl"><a data-link-type="idl" href="#node">Node</a></code> . <code class="idl"><a data-link-type="idl" href="#dom-node-document_node">DOCUMENT_NODE</a></code></code> (9)
   
      <dd><var>node</var> is a
   <a data-link-type="dfn" href="#concept-document">document</a>.

   
      <dt><code><code class="idl"><a data-link-type="idl" href="#node">Node</a></code> . <code class="idl"><a data-link-type="idl" href="#dom-node-document_type_node">DOCUMENT_TYPE_NODE</a></code></code> (10)
   
      <dd><var>node</var> is a
   <a data-link-type="dfn" href="#concept-doctype">doctype</a>.

   
      <dt><code><code class="idl"><a data-link-type="idl" href="#node">Node</a></code> . <code class="idl"><a data-link-type="idl" href="#dom-node-document_fragment_node">DOCUMENT_FRAGMENT_NODE</a></code></code> (11)
   
      <dd><var>node</var> is a <code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code>
   <a data-link-type="dfn" href="#concept-node">node</a>.
  
     </dl>
     

 
    <dt><code><var>node</var> . <code class="idl"><a data-link-type="idl" href="#dom-node-nodename">nodeName</a></code></code>
 
    <dd>
  Returns a string appropriate for the type of <var>node</var>, as
  follows:

  
     <dl>
   
      <dt><code class="idl"><a data-link-type="idl" href="#element">Element</a></code>
   
      <dd>Its <code class="idl"><a data-link-type="idl" href="#dom-element-tagname">tagName</a></code> attribute value.

   
      <dt><code class="idl"><a data-link-type="idl" href="#text">Text</a></code>
   
      <dd>"<code>#text</code>".

   
      <dt><code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code>
   
      <dd>Its <a data-link-type="dfn" href="#concept-PI-target">target</a>.

   
      <dt><code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code>
   
      <dd>"<code>#comment</code>".

   
      <dt><code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document">Document</a></code>
   
      <dd>"<code>#document</code>".

   
      <dt><code class="idl"><a data-link-type="idl" href="#documenttype">DocumentType</a></code>
   
      <dd>Its <a data-link-type="dfn" href="#concept-doctype-name">name</a>.

   
      <dt><code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code>
   
      <dd>"<code>#document-fragment</code>".
  
     </dl>
     
</dl>


   <p>The <dfn class="idl-code" data-dfn-for="Node" data-dfn-type="attribute" data-export="" id="dom-node-nodetype">nodeType<a class="self-link" href="#dom-node-nodetype"></a></dfn> attribute’s getter, when invoked, must return
the first matching statement, switching on the <a data-link-type="dfn" href="#context-object">context object</a>:</p>


   <dl class="switch">
 
    <dt><code class="idl"><a data-link-type="idl" href="#element">Element</a></code>
 
    <dd><dfn class="idl-code" data-dfn-for="Node" data-dfn-type="const" data-export="" id="dom-node-element_node">ELEMENT_NODE<a class="self-link" href="#dom-node-element_node"></a></dfn> (1)

 

 
    <dt><code class="idl"><a data-link-type="idl" href="#text">Text</a></code>
 
    <dd><dfn class="idl-code" data-dfn-for="Node" data-dfn-type="const" data-export="" id="dom-node-text_node">TEXT_NODE<a class="self-link" href="#dom-node-text_node"></a></dfn> (3);

 

 
    <dt><code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code>
 
    <dd><dfn class="idl-code" data-dfn-for="Node" data-dfn-type="const" data-export="" id="dom-node-processing_instruction_node">PROCESSING_INSTRUCTION_NODE<a class="self-link" href="#dom-node-processing_instruction_node"></a></dfn> (7);

 
    <dt><code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code>
 
    <dd><dfn class="idl-code" data-dfn-for="Node" data-dfn-type="const" data-export="" id="dom-node-comment_node">COMMENT_NODE<a class="self-link" href="#dom-node-comment_node"></a></dfn> (8);

 
    <dt><code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document">Document</a></code>
 
    <dd><dfn class="idl-code" data-dfn-for="Node" data-dfn-type="const" data-export="" id="dom-node-document_node">DOCUMENT_NODE<a class="self-link" href="#dom-node-document_node"></a></dfn> (9);

 
    <dt><code class="idl"><a data-link-type="idl" href="#documenttype">DocumentType</a></code>
 
    <dd><dfn class="idl-code" data-dfn-for="Node" data-dfn-type="const" data-export="" id="dom-node-document_type_node">DOCUMENT_TYPE_NODE<a class="self-link" href="#dom-node-document_type_node"></a></dfn> (10);

 
    <dt><code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code>
 
    <dd><dfn class="idl-code" data-dfn-for="Node" data-dfn-type="const" data-export="" id="dom-node-document_fragment_node">DOCUMENT_FRAGMENT_NODE<a class="self-link" href="#dom-node-document_fragment_node"></a></dfn> (11).
</dl>


   <p></p>


   <p>The <dfn class="idl-code" data-dfn-for="Node" data-dfn-type="attribute" data-export="" id="dom-node-nodename">nodeName<a class="self-link" href="#dom-node-nodename"></a></dfn> attribute’s getter, when invoked, must return
the first matching statement, switching on the <a data-link-type="dfn" href="#context-object">context object</a>:</p>


   <dl class="switch">
 
    <dt><code class="idl"><a data-link-type="idl" href="#element">Element</a></code>
 
    <dd>Its <code class="idl"><a data-link-type="idl" href="#dom-element-tagname">tagName</a></code> attribute value.
 

 

 
    <dt><code class="idl"><a data-link-type="idl" href="#text">Text</a></code>
 
    <dd>"<code>#text</code>".

 
    <dt><code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code>
 
    <dd>Its <a data-link-type="dfn" href="#concept-PI-target">target</a>.

 
    <dt><code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code>
 
    <dd>"<code>#comment</code>".

 
    <dt><code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document">Document</a></code>
 
    <dd>"<code>#document</code>".

 
    <dt><code class="idl"><a data-link-type="idl" href="#documenttype">DocumentType</a></code>
 
    <dd>Its <a data-link-type="dfn" href="#concept-doctype-name">name</a>.

 
    <dt><code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code>
 
    <dd>"<code>#document-fragment</code>".
</dl>


   <hr>


   <dl class="domintro">
 
    <dt><code><var>node</var> . <code class="idl"><a data-link-type="idl" href="#dom-node-baseuri">baseURI</a></code></code>
 
    <dd>Returns the <a data-link-type="dfn" href="#concept-node-base-url">base URL</a>.
</dl>


   <p>The <dfn class="idl-code" data-dfn-for="Node" data-dfn-type="attribute" data-export="" id="dom-node-baseuri">baseURI<a class="self-link" href="#dom-node-baseuri"></a></dfn> attribute must return the associated <a data-link-type="dfn" href="#concept-node-base-url">base URL</a>.</p>


   <hr>


   <dl class="domintro">
 
    <dt><code><var>node</var> . <code class="idl"><a data-link-type="idl" href="#dom-node-ownerdocument">ownerDocument</a></code></code>
 
    <dd>
  Returns the <a data-link-type="dfn" href="#concept-node-document">node document</a>.
  Returns null for <a data-link-type="dfn" href="#concept-document">documents</a>.

 
    <dt><code><var>node</var> . <code class="idl"><a data-link-type="idl" href="#dom-node-parentnode">parentNode</a></code></code>
 
    <dd>Returns the <a data-link-type="dfn" href="#concept-tree-parent">parent</a>.

 
    <dt><code><var>node</var> . <code class="idl"><a data-link-type="idl" href="#dom-node-parentelement">parentElement</a></code></code>
 
    <dd>Returns the <a data-link-type="dfn" href="#parent-element">parent element</a>.

 
    <dt><code><var>node</var> . <code class="idl"><a data-link-type="idl" href="#dom-node-haschildnodes">hasChildNodes()</a></code></code>
 
    <dd>Returns whether <var>node</var> has
 <a data-link-type="dfn" href="#concept-tree-child">children</a>.

 
    <dt><code><var>node</var> . <code class="idl"><a data-link-type="idl" href="#dom-node-childnodes">childNodes</a></code></code>
 
    <dd>Returns the <a data-link-type="dfn" href="#concept-tree-child">children</a>.

 
    <dt><code><var>node</var> . <code class="idl"><a data-link-type="idl" href="#dom-node-firstchild">firstChild</a></code></code>
 
    <dd>Returns the <a data-link-type="dfn" href="#concept-tree-first-child">first child</a>.

 
    <dt><code><var>node</var> . <code class="idl"><a data-link-type="idl" href="#dom-node-lastchild">lastChild</a></code></code>
 
    <dd>Returns the <a data-link-type="dfn" href="#concept-tree-last-child">last child</a>.

 
    <dt><code><var>node</var> . <code class="idl"><a data-link-type="idl" href="#dom-node-previoussibling">previousSibling</a></code></code>
 
    <dd>Returns the
 <a data-link-type="dfn" href="#concept-tree-previous-sibling">previous sibling</a>.

 
    <dt><code><var>node</var> . <code class="idl"><a data-link-type="idl" href="#dom-node-nextsibling">nextSibling</a></code></code>
 
    <dd>Returns the
 <a data-link-type="dfn" href="#concept-tree-next-sibling">next sibling</a>.
</dl>


   <div class="impl">


    <p>The <dfn class="idl-code" data-dfn-for="Node" data-dfn-type="attribute" data-export="" id="dom-node-ownerdocument">ownerDocument<a class="self-link" href="#dom-node-ownerdocument"></a></dfn>
attribute must run these steps:</p>

    <ol>
 
     <li>If the <a data-link-type="dfn" href="#context-object">context object</a> is a
 <a data-link-type="dfn" href="#concept-document">document</a>, return null.

 
     <li>Return the <a data-link-type="dfn" href="#concept-node-document">node document</a>.
</ol>


    <div class="note" role="note">
The <a data-link-type="dfn" href="#concept-node-document">node document</a> of a
<a data-link-type="dfn" href="#concept-document">document</a> is that
<a data-link-type="dfn" href="#concept-document">document</a> itself.
All <a data-link-type="dfn" href="#concept-node">nodes</a> have a
<a data-link-type="dfn" href="#concept-document">document</a> at all times.
</div>


    <p>The <dfn class="idl-code" data-dfn-for="Node" data-dfn-type="attribute" data-export="" id="dom-node-parentnode">parentNode<a class="self-link" href="#dom-node-parentnode"></a></dfn>
attribute must return the <a data-link-type="dfn" href="#concept-tree-parent">parent</a>.</p>



    <p>The <dfn class="idl-code" data-dfn-for="Node" data-dfn-type="attribute" data-export="" id="dom-node-parentelement">parentElement<a class="self-link" href="#dom-node-parentelement"></a></dfn>
attribute must return the <a data-link-type="dfn" href="#parent-element">parent element</a>.</p>


    <p>The <dfn class="idl-code" data-dfn-for="Node" data-dfn-type="method" data-export="" id="dom-node-haschildnodes">hasChildNodes()<a class="self-link" href="#dom-node-haschildnodes"></a></dfn>
method must return true if the <a data-link-type="dfn" href="#context-object">context object</a> has
<a data-link-type="dfn" href="#concept-tree-child">children</a>, and false otherwise.</p>


    <p>The <dfn class="idl-code" data-dfn-for="Node" data-dfn-type="attribute" data-export="" id="dom-node-childnodes">childNodes<a class="self-link" href="#dom-node-childnodes"></a></dfn>
attribute must return a <code class="idl"><a data-link-type="idl" href="#nodelist">NodeList</a></code> rooted at the
<a data-link-type="dfn" href="#context-object">context object</a> matching only
<a data-link-type="dfn" href="#concept-tree-child">children</a>.</p>


    <p>The <dfn class="idl-code" data-dfn-for="Node" data-dfn-type="attribute" data-export="" id="dom-node-firstchild">firstChild<a class="self-link" href="#dom-node-firstchild"></a></dfn>
attribute must return the
<a data-link-type="dfn" href="#concept-tree-first-child">first child</a>.</p>


    <p>The <dfn class="idl-code" data-dfn-for="Node" data-dfn-type="attribute" data-export="" id="dom-node-lastchild">lastChild<a class="self-link" href="#dom-node-lastchild"></a></dfn> attribute must return the <a data-link-type="dfn" href="#concept-tree-last-child">last child</a>.</p>


    <p>The <dfn class="idl-code" data-dfn-for="Node" data-dfn-type="attribute" data-export="" id="dom-node-previoussibling">previousSibling<a class="self-link" href="#dom-node-previoussibling"></a></dfn>
attribute must return the
<a data-link-type="dfn" href="#concept-tree-previous-sibling">previous sibling</a>.</p>



    <p>The <dfn class="idl-code" data-dfn-for="Node" data-dfn-type="attribute" data-export="" id="dom-node-nextsibling">nextSibling<a class="self-link" href="#dom-node-nextsibling"></a></dfn>
attribute must return the
<a data-link-type="dfn" href="#concept-tree-next-sibling">next sibling</a>.</p>


</div>


   <hr>




   <p>The <dfn class="idl-code" data-dfn-for="Node" data-dfn-type="attribute" data-export="" id="dom-node-nodevalue">nodeValue<a class="self-link" href="#dom-node-nodevalue"></a></dfn> attribute
must return the following, depending on the <a data-link-type="dfn" href="#context-object">context object</a>:</p>


   <dl class="switch">
 
 
    <dt><code class="idl"><a data-link-type="idl" href="#text">Text</a></code>
 
    <dt><code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code>
 
    <dt><code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code>
 
    <dd>The <a data-link-type="dfn" href="#context-object">context object</a>’s
 <a data-link-type="dfn" href="#concept-CD-data">data</a>.

 
    <dt>Any other node
 
    <dd>Null.
</dl>


   <p>The <code class="idl"><a data-link-type="idl" href="#dom-node-nodevalue">nodeValue</a></code> attribute must,
on setting, if the new value is null, act as if it was the empty string
instead, and then do as described below, depending on the <a data-link-type="dfn" href="#context-object">context object</a>:</p>


   <dl class="switch">
 
 
    <dt><code class="idl"><a data-link-type="idl" href="#text">Text</a></code>
 
    <dt><code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code>
 
    <dt><code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code>
 
    <dd><a data-link-type="dfn" href="#concept-CD-replace">Replace data</a> with node
 <a data-link-type="dfn" href="#context-object">context object</a>, offset 0, count
 <code class="idl"><a data-link-type="idl" href="#dom-characterdata-length">length</a></code> attribute value, and
 data new value.

 
    <dt>Any other node
 
    <dd>Do nothing.
</dl>


   <p>The <dfn class="idl-code" data-dfn-for="Node" data-dfn-type="attribute" data-export="" id="dom-node-textcontent">textContent<a class="self-link" href="#dom-node-textcontent"></a></dfn>
attribute must return the following, depending on the
<a data-link-type="dfn" href="#context-object">context object</a>:</p>


   <dl class="switch">
 
    <dt><code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code>
 
    <dt><code class="idl"><a data-link-type="idl" href="#element">Element</a></code>
 
 
    <dd>The concatenation of <a data-link-type="dfn" href="#concept-CD-data">data</a> of all
 the <code class="idl"><a data-link-type="idl" href="#text">Text</a></code> <a data-link-type="dfn" href="#concept-node">node</a>
 <a data-link-type="dfn" href="#concept-tree-descendant">descendants</a> of the
 <a data-link-type="dfn" href="#context-object">context object</a>, in
 <a data-link-type="dfn" href="#concept-tree-order">tree order</a>.

 
    <dt><code class="idl"><a data-link-type="idl" href="#text">Text</a></code>
 
    <dt><code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code>
 
    <dt><code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code>
 
    <dd>The <a data-link-type="dfn" href="#context-object">context object</a>’s
 <a data-link-type="dfn" href="#concept-CD-data">data</a>.

 
    <dt>Any other node
 
    <dd>Null.
</dl>


   <p>The <code class="idl"><a data-link-type="idl" href="#dom-node-textcontent">textContent</a></code> attribute must,
on setting, if the new value is null, act as if it was the empty string
instead, and then do as described below, depending on the <a data-link-type="dfn" href="#context-object">context object</a>:</p>


   <dl class="switch">
 
    <dt><code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code>
 
    <dt><code class="idl"><a data-link-type="idl" href="#element">Element</a></code>
 
 
    <dd>
  
     <ol>
   
      <li>Let <var>node</var> be null.

   
      <li>If new value is not the empty string, set <var>node</var> to
   a new <code class="idl"><a data-link-type="idl" href="#text">Text</a></code> <a data-link-type="dfn" href="#concept-node">node</a> whose
   <a data-link-type="dfn" href="#concept-CD-data">data</a> is new value.

   
      <li><a data-link-type="dfn" href="#concept-node-replace-all">Replace all</a> with
   <var>node</var> within the <a data-link-type="dfn" href="#context-object">context object</a>.
  
     </ol>
     

 
    <dt><code class="idl"><a data-link-type="idl" href="#text">Text</a></code>
 
    <dt><code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code>
 
    <dt><code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code>
 
    <dd><a data-link-type="dfn" href="#concept-CD-replace">Replace data</a> with node
 <a data-link-type="dfn" href="#context-object">context object</a>, offset 0, count
 <code class="idl"><a data-link-type="idl" href="#dom-characterdata-length">length</a></code> attribute value, and
 data new value.

 
    <dt>Any other node
 
    <dd>Do nothing.
</dl>


   <hr>


   <dl class="domintro">
 
    <dt><code><var>node</var> . <code class="idl"><a data-link-type="idl" href="#dom-node-normalize">normalize()</a></code>()</code>
 
    <dd>Removes <a data-link-type="dfn" href="#concept-node-empty">empty</a>
 <code class="idl"><a data-link-type="idl" href="#text">Text</a></code> <a data-link-type="dfn" href="#concept-node">nodes</a> and concatenates
 the <a data-link-type="dfn" href="#concept-CD-data">data</a> of remaining
 <a data-link-type="dfn" href="#contiguous-text-nodes">contiguous <code>Text</code> nodes</a> into the first of their
 <a data-link-type="dfn" href="#concept-node">nodes</a>.
</dl>


   <p>The <dfn class="idl-code" data-dfn-for="Node" data-dfn-type="method" data-export="" id="dom-node-normalize">normalize()<a class="self-link" href="#dom-node-normalize"></a></dfn> method
must run these steps:</p>


   <p>For each <code class="idl"><a data-link-type="idl" href="#text">Text</a></code> <a data-link-type="dfn" href="#concept-node">node</a>
<a data-link-type="dfn" href="#concept-tree-descendant">descendant</a> of the
<a data-link-type="dfn" href="#context-object">context object</a>:</p>


   <ol>
 
    <li>Let <var>node</var> be the <code class="idl"><a data-link-type="idl" href="#text">Text</a></code>
 <a data-link-type="dfn" href="#concept-node">node</a>
 <a data-link-type="dfn" href="#concept-tree-descendant">descendant</a>.

 
    <li>Let <var>length</var> be <var>node</var>’s
 <code class="idl"><a data-link-type="idl" href="#dom-characterdata-length">length</a></code> attribute value.

 
    <li>If <var>length</var> is zero,
 <a data-link-type="dfn" href="#concept-node-remove">remove</a> <var>node</var> and
 continue with the next <code class="idl"><a data-link-type="idl" href="#text">Text</a></code>
 <a data-link-type="dfn" href="#concept-node">node</a>, if any.

 
    <li>Let <var>data</var> be the concatenation of the
 <a data-link-type="dfn" href="#concept-CD-data">data</a> of <var>node</var>’s
 <a data-link-type="dfn" href="#contiguous-text-nodes">contiguous <code>Text</code> nodes</a> (excluding itself), in
 <a data-link-type="dfn" href="#concept-tree-order">tree order</a>.

 
    <li><a data-link-type="dfn" href="#concept-CD-replace">Replace data</a> with node
 <var>node</var>, offset <var>length</var>,
 count 0, and data <var>data</var>.

 
    <li>Let <var>current node</var> be <var>node</var>’s
 <a data-link-type="dfn" href="#concept-tree-next-sibling">next sibling</a>.

 
    <li>While <var>current node</var> is a <code class="idl"><a data-link-type="idl" href="#text">Text</a></code> node:

 
     <ol>
  
      <li>For each <a data-link-type="dfn" href="#concept-range">range</a> whose
  <a data-link-type="dfn" href="#concept-range-start-node">start node</a> is
  <var>current node</var>, add <var>length</var> to its
  <a data-link-type="dfn" href="#concept-range-start-offset">start offset</a> and set its
  <a data-link-type="dfn" href="#concept-range-start-node">start node</a> to
  <var>node</var>.

  
      <li>For each <a data-link-type="dfn" href="#concept-range">range</a> whose
  <a data-link-type="dfn" href="#concept-range-end-node">end node</a> is
  <var>current node</var>, add <var>length</var> to its
  <a data-link-type="dfn" href="#concept-range-end-offset">end offset</a> and set its
  <a data-link-type="dfn" href="#concept-range-end-node">end node</a> to
  <var>node</var>.

  
      <li>For each <a data-link-type="dfn" href="#concept-range">range</a> whose
  <a data-link-type="dfn" href="#concept-range-start-node">start node</a> is
  <var>current node</var>’s
  <a data-link-type="dfn" href="#concept-tree-parent">parent</a> and
  <a data-link-type="dfn" href="#concept-range-start-offset">start offset</a> is
  <var>current node</var>’s
  <a data-link-type="dfn" href="#concept-tree-index">index</a>, set its
  <a data-link-type="dfn" href="#concept-range-start-node">start node</a> to
  <var>node</var> and its
  <a data-link-type="dfn" href="#concept-range-start-offset">start offset</a> to
  <var>length</var>.

  
      <li>For each <a data-link-type="dfn" href="#concept-range">range</a> whose
  <a data-link-type="dfn" href="#concept-range-end-node">end node</a> is
  <var>current node</var>’s
  <a data-link-type="dfn" href="#concept-tree-parent">parent</a> and
  <a data-link-type="dfn" href="#concept-range-end-offset">end offset</a> is
  <var>current node</var>’s
  <a data-link-type="dfn" href="#concept-tree-index">index</a>, set its
  <a data-link-type="dfn" href="#concept-range-end-node">end node</a> to
  <var>node</var> and its
  <a data-link-type="dfn" href="#concept-range-end-offset">end offset</a> to
  <var>length</var>.

  
      <li>Add <var>current node</var>’s
  <code class="idl"><a data-link-type="idl" href="#dom-characterdata-length">length</a></code> attribute value to
  <var>length</var>.

  
      <li>Set <var>current node</var> to its
  <a data-link-type="dfn" href="#concept-tree-next-sibling">next sibling</a>.
 
     </ol>
     

 
    <li><a data-link-type="dfn" href="#concept-node-remove">Remove</a>
 <var>node</var>’s
 <a data-link-type="dfn" href="#contiguous-text-nodes">contiguous <code>Text</code> nodes</a> (excluding itself), in
 <a data-link-type="dfn" href="#concept-tree-order">tree order</a>.
</ol>


   <hr>


   <dl class="domintro">
 
    <dt><code><var>node</var> . <a class="idl-code" data-link-type="method" href="#dom-node-clonenodedeep">cloneNode([<var>deep</var> = false])</a></code>
 
    <dd>Returns a copy of <var>node</var>. If
 <var>deep</var> is true, the copy also includes the
 <var>node</var>’s <a data-link-type="dfn" href="#concept-tree-descendant">descendants</a>.

 
    <dt><code><var>node</var> . <code class="idl"><a data-link-type="idl" href="#dom-node-isequalnodeothernode">isEqualNode(otherNode)</a></code></code>
 
    <dd>Returns whether <var>node</var> and <var>otherNode</var>
 have the same properties.
</dl>


   <div class="impl">


    <p><a data-link-type="dfn" href="#other-applicable-specifications">Specifications</a> may define
<dfn data-dfn-for="Node" data-dfn-type="dfn" data-export="" id="concept-node-clone-ext">cloning steps<a class="self-link" href="#concept-node-clone-ext"></a></dfn> for all or some
<a data-link-type="dfn" href="#concept-node">nodes</a>. The algorithm is passed <var>copy</var>,
<var>node</var>, <var>document</var>, and optionally a
<i>clone children flag</i>, as indicated in the
<a data-link-type="dfn" href="#concept-node-clone">clone</a> algorithm.</p>


    <p class="note" role="note">Note: HTML defines
<a data-link-type="dfn" href="#concept-node-clone-ext">cloning steps</a> for
<code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/scripting.html#script">script</a></code> and
<code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-input-element">input</a></code> elements. SVG ought to do the same
for its <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/scripting.html#script">script</a></code> elements, but does not call this out at
the moment.</p>


    <p>To <dfn data-dfn-for="Node" data-dfn-type="dfn" data-export="" data-local-lt="clone" data-lt="clone a node" id="concept-node-clone">clone<a class="self-link" href="#concept-node-clone"></a></dfn> a <var>node</var>,
optionally with a <var>document</var> and a <i>clone children flag</i>, run
these steps:</p>



    <ol>
 
     <li>If <var>document</var> is not given, let <var>document</var> be
 <var>node</var>’s <a data-link-type="dfn" href="#concept-node-document">node document</a>.

 
     <li>Let <var>copy</var> be a <a data-link-type="dfn" href="#concept-node">node</a>
 that implements the same interfaces as <var>node</var>.

 
     <li>
  If <var>copy</var> is a
  <a data-link-type="dfn" href="#concept-document">document</a>, set its
  <a data-link-type="dfn" href="#concept-node-document">node document</a> and
  <var>document</var> to <var>copy</var>.
  Otherwise, set <var>copy</var>’s
  <a data-link-type="dfn" href="#concept-node-document">node document</a> to
  <var>document</var>.

 
     <li>
  Copy the following from <var>node</var> to <var>copy</var>, depending on
  the type of <var>node</var>:
  
      <dl class="switch">
   
       <dt><code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document">Document</a></code>
   
       <dd>Its <a data-link-type="dfn" href="#concept-document-encoding">encoding</a>,
   <a data-link-type="dfn" href="#concept-document-content-type">content type</a>,
   <a data-link-type="dfn" href="#concept-document-url">URL</a>, its mode
   (<a data-link-type="dfn" href="#concept-document-quirks">quirks mode</a>,
   <a data-link-type="dfn" href="#concept-document-limited-quirks">limited-quirks mode</a>, or
   <a data-link-type="dfn" href="#concept-document-no-quirks">no-quirks mode</a>), and its type
   (<a data-link-type="dfn" href="#xml-document">XML document</a> or <a data-link-type="dfn" href="#html-document">HTML document</a>).

   
       <dt><code class="idl"><a data-link-type="idl" href="#documenttype">DocumentType</a></code>
   
       <dd>Its <a data-link-type="dfn" href="#concept-doctype-name">name</a>,
   <a data-link-type="dfn" href="#concept-doctype-publicid">public ID</a>, and
   <a data-link-type="dfn" href="#concept-doctype-systemid">system ID</a>.

   
       <dt><code class="idl"><a data-link-type="idl" href="#element">Element</a></code>
   
       <dd>Its <a data-link-type="dfn" href="#concept-element-namespace">namespace</a>,
   <a data-link-type="dfn" href="#concept-element-namespace-prefix">namespace prefix</a>,
   <a data-link-type="dfn" href="#concept-element-local-name">local name</a>, and its
   <a data-link-type="dfn" href="#concept-element-attribute">attribute list</a>.

   

   
       <dt><code class="idl"><a data-link-type="idl" href="#text">Text</a></code>
   
       <dt><code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code>
   
       <dd>Its <a data-link-type="dfn" href="#concept-CD-data">data</a>.

   
       <dt><code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code>
   
       <dd>Its <a data-link-type="dfn" href="#concept-PI-target">target</a> and <a data-link-type="dfn" href="#concept-CD-data">data</a>.

   
       <dt>Any other node
   
       <dd>—
  
      </dl>
      

 
     <li>Run any <a data-link-type="dfn" href="#concept-node-clone-ext">cloning steps</a>
 defined for <var>node</var> in <a data-link-type="dfn" href="#other-applicable-specifications">other applicable specifications</a> and
 pass <var>copy</var>, <var>node</var>, <var>document</var> and the
 <i>clone children flag</i> if set, as parameters.

 
     <li>If the <i>clone children flag</i> is set,
 <a data-link-type="dfn" href="#concept-node-clone">clone</a> all the
 <a data-link-type="dfn" href="#concept-tree-child">children</a> of <var>node</var> and
 append them to <var>copy</var>, with <var>document</var>
 as specified and the <i>clone children flag</i> being set.

 
     <li>Return <var>copy</var>.
</ol>


    <p>The
<dfn class="idl-code" data-dfn-for="Node" data-dfn-type="method" data-export="" data-lt="cloneNode(deep)|cloneNode()" id="dom-node-clonenodedeep">cloneNode(<var>deep</var>)<a class="self-link" href="#dom-node-clonenodedeep"></a></dfn>
method must return a <a data-link-type="dfn" href="#concept-node-clone">clone</a> of the
<a data-link-type="dfn" href="#context-object">context object</a>, with the <i>clone children flag</i> set
if <var>deep</var> is true.</p>


    <p>A <a data-link-type="dfn" href="#concept-node">node</a> <var>A</var>
<dfn data-dfn-for="Node" data-dfn-type="dfn" data-export="" id="concept-node-equals">equals<a class="self-link" href="#concept-node-equals"></a></dfn> a <a data-link-type="dfn" href="#concept-node">node</a>
<var>B</var> if all of the following conditions are true:</p>


    <ul>
 
     <li><var>A</var> and <var>B</var>’s
 <code class="idl"><a data-link-type="idl" href="#dom-node-nodetype">nodeType</a></code> attribute value is identical.
 
     <li>
  The following are also equal, depending on <var>A</var>:
  
      <dl class="switch">
   
       <dt><code class="idl"><a data-link-type="idl" href="#documenttype">DocumentType</a></code>
   
       <dd>Its <a data-link-type="dfn" href="#concept-doctype-name">name</a>,
   <a data-link-type="dfn" href="#concept-doctype-publicid">public ID</a>, and
   <a data-link-type="dfn" href="#concept-doctype-systemid">system ID</a>.

   
       <dt><code class="idl"><a data-link-type="idl" href="#element">Element</a></code>
   
       <dd>
    Its <a data-link-type="dfn" href="#concept-element-namespace">namespace</a>,
    <a data-link-type="dfn" href="#concept-element-namespace-prefix">namespace prefix</a>,
    <a data-link-type="dfn" href="#concept-element-local-name">local name</a>, and its
    number of <a data-link-type="dfn" href="#concept-attribute">attributes</a> in its
    <a data-link-type="dfn" href="#concept-element-attribute">attribute list</a>.

   

   
       <dt><code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code>
   
       <dd>Its <a data-link-type="dfn" href="#concept-PI-target">target</a> and
   <a data-link-type="dfn" href="#concept-CD-data">data</a>.

   
       <dt><code class="idl"><a data-link-type="idl" href="#text">Text</a></code>
   
       <dt><code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code>
   
       <dd>Its <a data-link-type="dfn" href="#concept-CD-data">data</a>.

   
       <dt>Any other node
   
       <dd>—
  
      </dl>
      
 
     <li>If <var>A</var> is an <a data-link-type="dfn" href="#concept-element">element</a>, each
 <a data-link-type="dfn" href="#concept-attribute">attribute</a> in its
 <a data-link-type="dfn" href="#concept-element-attribute">attribute list</a> has an
 <a data-link-type="dfn" href="#concept-attribute">attribute</a> with the same
 <a data-link-type="dfn" href="#concept-attribute-namespace">namespace</a>,
 <a data-link-type="dfn" href="#concept-attribute-local-name">local name</a>, and
 <a data-link-type="dfn" href="#concept-attribute-value">value</a> in <var>B</var>’s
 <a data-link-type="dfn" href="#concept-element-attribute">attribute list</a>.
 
     <li><var>A</var> and <var>B</var> have the same number of
 <a data-link-type="dfn" href="#concept-tree-child">children</a>.
 
     <li>Each <a data-link-type="dfn" href="#concept-tree-child">child</a> of <var>A</var>
 <a data-link-type="dfn" href="#concept-node-equals">equals</a> the
 <a data-link-type="dfn" href="#concept-tree-child">child</a> of <var>B</var> at the identical
 <a data-link-type="dfn" href="#concept-tree-index">index</a>.
</ul>


    <p>The
<dfn class="idl-code" data-dfn-for="Node" data-dfn-type="method" data-export="" id="dom-node-isequalnodeothernode">isEqualNode(<var>otherNode</var>)<a class="self-link" href="#dom-node-isequalnodeothernode"></a></dfn>
method must return true if <var>node</var> is not null and
<a data-link-type="dfn" href="#context-object">context object</a> <a data-link-type="dfn" href="#concept-node-equals">equals</a>
<var>otherNode</var>, and false otherwise.</p>

</div>


   <hr>


   <dl class="domintro">
 
    <dt><code><var>node</var> . <code class="idl"><a data-link-type="idl" href="#dom-node-comparedocumentpositionother">compareDocumentPosition(other)</a></code></code>
 
    <dd>
  Returns a bitmask indicating the position of <var>other</var>
  relative to <var>node</var>. These are the bits that can be set:

  
     <dl>
   
      <dt><code><code class="idl"><a data-link-type="idl" href="#node">Node</a></code> . <code class="idl"><a data-link-type="idl" href="#dom-node-document_position_disconnected">DOCUMENT_POSITION_DISCONNECTED</a></code></code> (1)
   
      <dd>Set when <var>node</var> and <var>other</var> are not in the
   same <a data-link-type="dfn" href="#concept-tree">tree</a>.

   
      <dt><code><code class="idl"><a data-link-type="idl" href="#node">Node</a></code> . <code class="idl"><a data-link-type="idl" href="#dom-node-document_position_preceding">DOCUMENT_POSITION_PRECEDING</a></code></code> (2)
   
      <dd>Set when <var>other</var> is
   <a data-link-type="dfn" href="#concept-tree-preceding">preceding</a>
   <var>node</var>.

   
      <dt><code><code class="idl"><a data-link-type="idl" href="#node">Node</a></code> . <code class="idl"><a data-link-type="idl" href="#dom-node-document_position_following">DOCUMENT_POSITION_FOLLOWING</a></code></code> (4)
   
      <dd>Set when <var>other</var> is
   <a data-link-type="dfn" href="#concept-tree-following">following</a>
   <var>node</var>.

   
      <dt><code><code class="idl"><a data-link-type="idl" href="#node">Node</a></code> . <code class="idl"><a data-link-type="idl" href="#dom-node-document_position_contains">DOCUMENT_POSITION_CONTAINS</a></code></code> (8)
   
      <dd>Set when <var>other</var> is an
   <a data-link-type="dfn" href="#concept-tree-ancestor">ancestor</a> of
   <var>node</var>.

   
      <dt><code><code class="idl"><a data-link-type="idl" href="#node">Node</a></code> . <code class="idl"><a data-link-type="idl" href="#dom-node-document_position_contained_by">DOCUMENT_POSITION_CONTAINED_BY</a></code></code> (16, 10 in hexadecimal)
   
      <dd>Set when <var>other</var> is a
   <a data-link-type="dfn" href="#concept-tree-descendant">descendant</a> of
   <var>node</var>.
  
     </dl>
     

 
    <dt><code><var>node</var> . <code class="idl"><a data-link-type="idl" href="#dom-node-containsother">contains(other)</a></code></code>
 
    <dd>Returns true if <var>other</var> is an
 <a data-link-type="dfn" href="#concept-tree-inclusive-descendant">inclusive descendant</a>
 of <var>node</var>, and false otherwise.
</dl>


   <p>These are the constants
<code class="idl"><a data-link-type="idl" href="#dom-node-comparedocumentpositionother">compareDocumentPosition()</a></code>
returns as mask:</p>


   <ul class="brief">
 
    <li><dfn class="idl-code" data-dfn-for="Node" data-dfn-type="const" data-export="" id="dom-node-document_position_disconnected">DOCUMENT_POSITION_DISCONNECTED<a class="self-link" href="#dom-node-document_position_disconnected"></a></dfn> (1);
 
    <li><dfn class="idl-code" data-dfn-for="Node" data-dfn-type="const" data-export="" id="dom-node-document_position_preceding">DOCUMENT_POSITION_PRECEDING<a class="self-link" href="#dom-node-document_position_preceding"></a></dfn> (2);
 
    <li><dfn class="idl-code" data-dfn-for="Node" data-dfn-type="const" data-export="" id="dom-node-document_position_following">DOCUMENT_POSITION_FOLLOWING<a class="self-link" href="#dom-node-document_position_following"></a></dfn> (4);
 
    <li><dfn class="idl-code" data-dfn-for="Node" data-dfn-type="const" data-export="" id="dom-node-document_position_contains">DOCUMENT_POSITION_CONTAINS<a class="self-link" href="#dom-node-document_position_contains"></a></dfn> (8);
 
    <li><dfn class="idl-code" data-dfn-for="Node" data-dfn-type="const" data-export="" id="dom-node-document_position_contained_by">DOCUMENT_POSITION_CONTAINED_BY<a class="self-link" href="#dom-node-document_position_contained_by"></a></dfn> (16, 10 in hexadecimal);
 
    <li><dfn class="idl-code" data-dfn-for="Node" data-dfn-type="const" data-export="" id="dom-node-document_position_implementation_specific">DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC<a class="self-link" href="#dom-node-document_position_implementation_specific"></a></dfn> (32, 20 in hexadecimal).
</ul>


   <p>The <dfn class="idl-code" data-dfn-for="Node" data-dfn-type="method" data-export="" id="dom-node-comparedocumentpositionother">compareDocumentPosition(<var>other</var>)<a class="self-link" href="#dom-node-comparedocumentpositionother"></a></dfn>
method must run these steps:</p>


   <ol>
 
    <li>Let <var>reference</var> be the <a data-link-type="dfn" href="#context-object">context object</a>.
 
    <li>If <var>other</var> and <var>reference</var> are the
 same object, return zero.

 
    <li>
  If <var>other</var> and <var>reference</var> are not
  in the same <a data-link-type="dfn" href="#concept-tree">tree</a>, return the result of
  adding
  <code class="idl"><a data-link-type="idl" href="#dom-node-document_position_disconnected">DOCUMENT_POSITION_DISCONNECTED</a></code>,
  <code class="idl"><a data-link-type="idl" href="#dom-node-document_position_implementation_specific">DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC</a></code>,
  and either
  <code class="idl"><a data-link-type="idl" href="#dom-node-document_position_preceding">DOCUMENT_POSITION_PRECEDING</a></code> or
  <code class="idl"><a data-link-type="idl" href="#dom-node-document_position_following">DOCUMENT_POSITION_FOLLOWING</a></code>,
  with the constraint that this is to be consistent, together.


     <p class="note" role="note">Note: Whether to return
  <code class="idl"><a data-link-type="idl" href="#dom-node-document_position_preceding">DOCUMENT_POSITION_PRECEDING</a></code> or
  <code class="idl"><a data-link-type="idl" href="#dom-node-document_position_following">DOCUMENT_POSITION_FOLLOWING</a></code>
  is typically implemented via pointer comparison. In JavaScript
  implementations <code class="lang-javascript">Math.random()</code> can be used.</p>
     

 
    <li>If <var>other</var> is an
 <a data-link-type="dfn" href="#concept-tree-ancestor">ancestor</a> of
 <var>reference</var>, return the result of adding
 <code class="idl"><a data-link-type="idl" href="#dom-node-document_position_contains">DOCUMENT_POSITION_CONTAINS</a></code>
 to
 <code class="idl"><a data-link-type="idl" href="#dom-node-document_position_preceding">DOCUMENT_POSITION_PRECEDING</a></code>.

 
    <li>If <var>other</var> is a
 <a data-link-type="dfn" href="#concept-tree-descendant">descendant</a> of
 <var>reference</var>, return the result of adding
 <code class="idl"><a data-link-type="idl" href="#dom-node-document_position_contained_by">DOCUMENT_POSITION_CONTAINED_BY</a></code>
 to
 <code class="idl"><a data-link-type="idl" href="#dom-node-document_position_following">DOCUMENT_POSITION_FOLLOWING</a></code>.

 
    <li>If <var>other</var> is
 <a data-link-type="dfn" href="#concept-tree-preceding">preceding</a>
 <var>reference</var> return
 <code class="idl"><a data-link-type="idl" href="#dom-node-document_position_preceding">DOCUMENT_POSITION_PRECEDING</a></code>.

 
    <li>Return
 <code class="idl"><a data-link-type="idl" href="#dom-node-document_position_following">DOCUMENT_POSITION_FOLLOWING</a></code>.
</ol>




   <p>The
<dfn class="idl-code" data-dfn-for="Node" data-dfn-type="method" data-export="" id="dom-node-containsother">contains(<var>other</var>)<a class="self-link" href="#dom-node-containsother"></a></dfn>
method must return true if <var>other</var> is an
<a data-link-type="dfn" href="#concept-tree-inclusive-descendant">inclusive descendant</a> of
the <a data-link-type="dfn" href="#context-object">context object</a>, and false otherwise (including when
<var>other</var> is null).</p>


   <hr>






   <p>To <dfn data-dfn-type="dfn" data-export="" data-lt="locate a namespace prefix|locating a namespace prefix" id="locate-a-namespace-prefix">locate a namespace prefix<a class="self-link" href="#locate-a-namespace-prefix"></a></dfn> for an <var>element</var> using
<var>namespace</var> run these steps:</p>


   <ol>
 
    <li>If <var>element</var>’s
 <a data-link-type="dfn" href="#concept-element-namespace">namespace</a> is
 <var>namespace</var> and its
 <a data-link-type="dfn" href="#concept-element-namespace-prefix">namespace prefix</a> is not
 null, return its
 <a data-link-type="dfn" href="#concept-element-namespace-prefix">namespace prefix</a>.

 
    <li>If, <var>element</var>
 <a data-link-type="dfn" href="#concept-element-attribute-has">has</a> an
 <a data-link-type="dfn" href="#concept-attribute">attribute</a> whose
 <a data-link-type="dfn" href="#concept-attribute-namespace-prefix">namespace prefix</a> is
 "<code>xmlns</code>" and
 <a data-link-type="dfn" href="#concept-attribute-value">value</a> is
 <var>namespace</var>, then return <var>element</var>’s first
 such <a data-link-type="dfn" href="#concept-attribute">attribute</a>’s
 <a data-link-type="dfn" href="#concept-attribute-local-name">local name</a>.

 
    <li>If <var>element</var>’s <a data-link-type="dfn" href="#parent-element">parent element</a> is not null,
 return the result of running <a data-link-type="dfn" href="#locate-a-namespace-prefix">locate a namespace prefix</a> on that
 <a data-link-type="dfn" href="#concept-element">element</a> using <var>namespace</var>.
 Otherwise, return null.
</ol>


   <p>To <dfn data-dfn-type="dfn" data-export="" id="locate-a-namespace">locate a namespace<a class="self-link" href="#locate-a-namespace"></a></dfn> for a <var>node</var> using
<var>prefix</var> depends on <var>node</var>:</p>


   <dl class="switch">
 
    <dt><code class="idl"><a data-link-type="idl" href="#element">Element</a></code>
 
    <dd>
  
     <ol>
   
      <li>If its <a data-link-type="dfn" href="#concept-element-namespace">namespace</a> is
   not null and its
   <a data-link-type="dfn" href="#concept-element-namespace-prefix">namespace prefix</a> is
   <var>prefix</var>, return
   <a data-link-type="dfn" href="#concept-element-namespace">namespace</a>.

   
      <li>
    If it <a data-link-type="dfn" href="#concept-element-attribute-has">has</a> an
    <a data-link-type="dfn" href="#concept-attribute">attribute</a> whose
    <a data-link-type="dfn" href="#concept-attribute-namespace">namespace</a> is the
    <a data-link-type="dfn" href="#xmlns-namespace">XMLNS namespace</a>,
    <a data-link-type="dfn" href="#concept-attribute-namespace-prefix">namespace prefix</a>
    is "<code>xmlns</code>" and
    <a data-link-type="dfn" href="#concept-attribute-local-name">local name</a> is
    <var>prefix</var>, or if <var>prefix</var> is null and it
    <a data-link-type="dfn" href="#concept-element-attribute-has">has</a> an
    <a data-link-type="dfn" href="#concept-attribute">attribute</a> whose
    <a data-link-type="dfn" href="#concept-attribute-namespace">namespace</a> is the
    <a data-link-type="dfn" href="#xmlns-namespace">XMLNS namespace</a>,
    <a data-link-type="dfn" href="#concept-attribute-namespace-prefix">namespace prefix</a>
    is null and <a data-link-type="dfn" href="#concept-attribute-local-name">local name</a>
    is "<code>xmlns</code>":

    
       <ol>
     
        <li>Let <var>value</var> be its
     <a data-link-type="dfn" href="#concept-attribute-value">value</a> if it is not the empty
     string, and null otherwise.

     
        <li>Return <var>value</var>.
    
       </ol>
       

   
      <li>If its <a data-link-type="dfn" href="#parent-element">parent element</a> is null, return null.

   
      <li>Return the result of running <a data-link-type="dfn" href="#locate-a-namespace">locate a namespace</a> on
   its <a data-link-type="dfn" href="#parent-element">parent element</a> using <var>prefix</var>.
  
     </ol>
     

 
 
    <dt><code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document">Document</a></code>
 
    <dd>
  
     <ol>
   
      <li>If its <a data-link-type="dfn" href="#document-element">document element</a> is null, return null.

   
      <li>Return the result of running <a data-link-type="dfn" href="#locate-a-namespace">locate a namespace</a> on
   its <a data-link-type="dfn" href="#document-element">document element</a> using <var>prefix</var>.
  
     </ol>
     

 
    <dt><code class="idl"><a data-link-type="idl" href="#documenttype">DocumentType</a></code>
 
    <dt><code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code>
 
    <dd>Return null.

 
    <dt>Any other node
 
    <dd>
  
     <ol>
   
      <li>If its <a data-link-type="dfn" href="#parent-element">parent element</a> is null, return null.

   
      <li>Return the result of running <a data-link-type="dfn" href="#locate-a-namespace">locate a namespace</a> on
   its <a data-link-type="dfn" href="#parent-element">parent element</a> using <var>prefix</var>.
  
     </ol>
     
</dl>


   <p>The
<dfn class="idl-code" data-dfn-for="Node" data-dfn-type="method" data-export="" id="dom-node-lookupprefixnamespace">lookupPrefix(<var>namespace</var>)<a class="self-link" href="#dom-node-lookupprefixnamespace"></a></dfn>
method must run these steps:</p>


   <ol>
 
    <li>If <var>namespace</var> is null or the empty string, return null.

 
    <li>
  Otherwise it depends on the <a data-link-type="dfn" href="#context-object">context object</a>:

  
     <dl class="switch">
   
      <dt><code class="idl"><a data-link-type="idl" href="#element">Element</a></code>
   
      <dd>Return the result of
   <a data-link-type="dfn" href="#locate-a-namespace-prefix">locating a namespace prefix</a>
   for the node using <var>namespace</var>.

   
   
      <dt><code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document">Document</a></code>
   
      <dd>Return the result of
   <a data-link-type="dfn" href="#locate-a-namespace-prefix">locating a namespace prefix</a>
   for its <a data-link-type="dfn" href="#document-element">document element</a>, if that is not null, and null
   otherwise.

   
      <dt><code class="idl"><a data-link-type="idl" href="#documenttype">DocumentType</a></code>
   
      <dt><code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code>
   
      <dd>Return null.

   
      <dt>Any other node
   
      <dd>Return the result of
   <a data-link-type="dfn" href="#locate-a-namespace-prefix">locating a namespace prefix</a>
   for its <a data-link-type="dfn" href="#parent-element">parent element</a>, or if that is null, null.
  
     </dl>
     
</ol>


   <p>The
<dfn class="idl-code" data-dfn-for="Node" data-dfn-type="method" data-export="" id="dom-node-lookupnamespaceuriprefix">lookupNamespaceURI(<var>prefix</var>)<a class="self-link" href="#dom-node-lookupnamespaceuriprefix"></a></dfn>
method must run these steps:</p>


   <ol>
 
    <li>If <var>prefix</var> is the empty string, set it to null.

 
    <li>Return the result of running <a data-link-type="dfn" href="#locate-a-namespace">locate a namespace</a> for the
 <a data-link-type="dfn" href="#context-object">context object</a> using <var>prefix</var>.
</ol>


   <p>The
<dfn class="idl-code" data-dfn-for="Node" data-dfn-type="method" data-export="" id="dom-node-isdefaultnamespacenamespace">isDefaultNamespace(<var>namespace</var>)<a class="self-link" href="#dom-node-isdefaultnamespacenamespace"></a></dfn>
method must run these steps:</p>


   <ol>
 
    <li>If <var>namespace</var> is the empty string, set it to null.

 
    <li>Let <var>defaultNamespace</var> be the result of running
 <a data-link-type="dfn" href="#locate-a-namespace">locate a namespace</a> for the <a data-link-type="dfn" href="#context-object">context object</a> using
 null.

 
    <li>Return true if <var>defaultNamespace</var> is the same as
 <var>namespace</var>, and false otherwise.
</ol>


   <hr>


   <p>The
<dfn class="idl-code" data-dfn-for="Node" data-dfn-type="method" data-export="" id="dom-node-insertbeforenode-child">insertBefore(<var>node</var>, <var>child</var>)<a class="self-link" href="#dom-node-insertbeforenode-child"></a></dfn>
method must return the result of
<a data-link-type="dfn" href="#concept-node-pre-insert">pre-inserting</a>
<var>node</var> into the <a data-link-type="dfn" href="#context-object">context object</a> before
<var>child</var>.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="Node" data-dfn-type="method" data-export="" id="dom-node-appendchildnode">appendChild(<var>node</var>)<a class="self-link" href="#dom-node-appendchildnode"></a></dfn>
method must return the result of
<a data-link-type="dfn" href="#concept-node-append">appending</a> <var>node</var> to
the <a data-link-type="dfn" href="#context-object">context object</a>.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="Node" data-dfn-type="method" data-export="" id="dom-node-replacechildnode-child">replaceChild(<var>node</var>, <var>child</var>)<a class="self-link" href="#dom-node-replacechildnode-child"></a></dfn>
method must return the result of
<a data-link-type="dfn" href="#concept-node-replace">replacing</a> <var>child</var>
with <var>node</var> within the <a data-link-type="dfn" href="#context-object">context object</a>.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="Node" data-dfn-type="method" data-export="" id="dom-node-removechildchild">removeChild(<var>child</var>)<a class="self-link" href="#dom-node-removechildchild"></a></dfn>
method must return the result of
<a data-link-type="dfn" href="#concept-node-pre-remove">pre-removing</a>
<var>child</var> from the <a data-link-type="dfn" href="#context-object">context object</a>.</p>


   <hr>


   <p>The
<dfn data-dfn-type="dfn" data-export="" id="concept-getElementsByTagName">list of elements with local name <var>localName</var><a class="self-link" href="#concept-getElementsByTagName"></a></dfn>
for a <a data-link-type="dfn" href="#concept-node">node</a> <var>root</var> is the
<code class="idl"><a data-link-type="idl" href="#htmlcollection">HTMLCollection</a></code> returned by the following algorithm:</p>

   <ol>
 
    <li>If <var>localName</var> is "<code>*</code>" (U+002A),
 return a <code class="idl"><a data-link-type="idl" href="#htmlcollection">HTMLCollection</a></code> rooted at <var>root</var>,
 whose filter matches only <a data-link-type="dfn" href="#concept-element">elements</a>.

 
    <li>
  Otherwise, if <var>root</var>’s
  <a data-link-type="dfn" href="#concept-node-document">node document</a> is an
  <a data-link-type="dfn" href="#html-document">HTML document</a>, return a <code class="idl"><a data-link-type="idl" href="#htmlcollection">HTMLCollection</a></code> rooted at
  <var>root</var>, whose filter matches the following
  <a data-link-type="dfn" href="#concept-tree-descendant">descendant</a>
  <a data-link-type="dfn" href="#concept-element">elements</a>:

  
     <ul>
   
      <li>Whose <a data-link-type="dfn" href="#concept-element-namespace">namespace</a> is the
   <a data-link-type="dfn" href="#html-namespace">HTML namespace</a> and whose
   <a data-link-type="dfn" href="#concept-element-local-name">local name</a> is
   <var>localName</var> <a data-link-type="dfn" href="#converted-to-ascii-lowercase">converted to ASCII lowercase</a>.

   
      <li>Whose <a data-link-type="dfn" href="#concept-element-namespace">namespace</a> is
   <em>not</em> the <a data-link-type="dfn" href="#html-namespace">HTML namespace</a> and whose
   <a data-link-type="dfn" href="#concept-element-local-name">local name</a> is
   <var>localName</var>.
  
     </ul>
     

 
    <li>Otherwise, return a <code class="idl"><a data-link-type="idl" href="#htmlcollection">HTMLCollection</a></code> rooted at
 <var>root</var>, whose filter matches
 <a data-link-type="dfn" href="#concept-tree-descendant">descendant</a>
 <a data-link-type="dfn" href="#concept-element">elements</a> whose
 <a data-link-type="dfn" href="#concept-element-local-name">local name</a> is
 <var>localName</var>.
</ol>


   <p>When invoked with the same argument, the same <code class="idl"><a data-link-type="idl" href="#htmlcollection">HTMLCollection</a></code>
object may be returned as returned by an earlier call.</p>



   <p>The
<dfn data-dfn-type="dfn" data-export="" id="concept-getElementsByTagNameNS">list of elements with namespace
<var>namespace</var> and local name <var>localName</var><a class="self-link" href="#concept-getElementsByTagNameNS"></a></dfn>
for a <a data-link-type="dfn" href="#concept-node">node</a> <var>root</var> is the
<code class="idl"><a data-link-type="idl" href="#htmlcollection">HTMLCollection</a></code> returned by the following algorithm:</p>


   <ol>
 
    <li>If <var>namespace</var> is the empty string, set it to null.

 
    <li>If both <var>namespace</var> and <var>localName</var>
 are "<code>*</code>" (U+002A), return a <code class="idl"><a data-link-type="idl" href="#htmlcollection">HTMLCollection</a></code> rooted at
 <var>root</var>, whose filter matches
 <a data-link-type="dfn" href="#concept-tree-descendant">descendant</a>
 <a data-link-type="dfn" href="#concept-element">elements</a>.

 
    <li>Otherwise, if <var>namespace</var> is "<code>*</code>"
 (U+002A), return a <code class="idl"><a data-link-type="idl" href="#htmlcollection">HTMLCollection</a></code> rooted at
 <var>root</var>, whose filter matches
 <a data-link-type="dfn" href="#concept-tree-descendant">descendant</a>
 <a data-link-type="dfn" href="#concept-element">elements</a> whose
 <a data-link-type="dfn" href="#concept-element-local-name">local name</a> is
 <var>localName</var>.

 
    <li>Otherwise, if <var>localName</var> is "<code>*</code>"
 (U+002A), return a <code class="idl"><a data-link-type="idl" href="#htmlcollection">HTMLCollection</a></code> rooted at
 <var>root</var>, whose filter matches
 <a data-link-type="dfn" href="#concept-tree-descendant">descendant</a>
 <a data-link-type="dfn" href="#concept-element">elements</a> whose
 <a data-link-type="dfn" href="#concept-element-namespace">namespace</a> is
 <var>namespace</var>.

 
    <li>Otherwise, return a <code class="idl"><a data-link-type="idl" href="#htmlcollection">HTMLCollection</a></code> rooted at
 <var>root</var>, whose filter matches
 <a data-link-type="dfn" href="#concept-tree-descendant">descendant</a>
 <a data-link-type="dfn" href="#concept-element">elements</a> whose
 <a data-link-type="dfn" href="#concept-element-namespace">namespace</a> is
 <var>namespace</var> and
 <a data-link-type="dfn" href="#concept-element-local-name">local name</a> is
 <var>localName</var>.
</ol>


   <p>When invoked with the same arguments, the same <code class="idl"><a data-link-type="idl" href="#htmlcollection">HTMLCollection</a></code>
object may be returned as returned by an earlier call.</p>



   <p>The
<dfn data-dfn-type="dfn" data-export="" id="concept-getElementsByClassName">list of elements with class names <var>classNames</var><a class="self-link" href="#concept-getElementsByClassName"></a></dfn>
for a <a data-link-type="dfn" href="#concept-node">node</a> <var>root</var> is the
<code class="idl"><a data-link-type="idl" href="#htmlcollection">HTMLCollection</a></code> returned by the following algorithm:</p>

   <ol>
 
    <li>
  Let <var>classes</var> be the result of running the
  <a data-link-type="dfn" href="#concept-ordered-set-parser">ordered set parser</a> on
  <var>classNames</var>.

 
    <li>
  If <var>classes</var> is the empty set, return an empty
  <code class="idl"><a data-link-type="idl" href="#htmlcollection">HTMLCollection</a></code>.

 
    <li>
  Return a <code class="idl"><a data-link-type="idl" href="#htmlcollection">HTMLCollection</a></code> rooted at <var>root</var>,
  whose filter matches <a data-link-type="dfn" href="#concept-tree-descendant">descendant</a>
  <a data-link-type="dfn" href="#concept-element">elements</a> that have all their
  <a data-link-type="dfn" href="#concept-class">classes</a> in <var>classes</var>.


     <p>The comparisons for the <a data-link-type="dfn" href="#concept-class">classes</a> must be done
  in an <a data-link-type="dfn" href="#ascii-case_insensitive">ASCII case-insensitive</a> manner if <var>root</var>’s
  <a data-link-type="dfn" href="#concept-node-document">node document</a> is in
  <a data-link-type="dfn" href="#concept-document-quirks">quirks mode</a>, and in a
  <a data-link-type="dfn" href="#case_sensitive">case-sensitive</a> manner otherwise.</p>
     
</ol>


   <p>When invoked with the same argument, the same <code class="idl"><a data-link-type="idl" href="#htmlcollection">HTMLCollection</a></code>
object may be returned as returned by an earlier call.</p>



   <h3 class="heading settled" data-level="4.5" id="interface-document"><span class="secno">4.5. </span><span class="content">
Interface <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document">Document</a></code></span><a class="self-link" href="#interface-document"></a></h3>


   <pre class="idl" data-dfn-force="Document">[<a class="idl-code" data-global-name="Document<interface>/Document()<constructor>" data-link-type="constructor" href="#dom-document-document">Constructor</a>,
 Exposed=Window]
interface <a class="idl-code" data-global-name="" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document">Document</a> : <a data-link-type="idl-name" href="#node">Node</a> {
  [SameObject] readonly attribute <a data-link-type="idl-name" href="#domimplementation">DOMImplementation</a> <a class="idl-code" data-global-name="Document<interface>/implementation<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMImplementation " href="#dom-document-implementation">implementation</a>;
  readonly attribute DOMString <a class="idl-code" data-global-name="Document<interface>/URL<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-document-url">URL</a>;
  readonly attribute DOMString <a class="idl-code" data-global-name="Document<interface>/documentURI<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-document-documenturi">documentURI</a>;
  readonly attribute DOMString <a class="idl-code" data-global-name="Document<interface>/origin<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-document-origin">origin</a>;
  readonly attribute DOMString <a class="idl-code" data-global-name="Document<interface>/compatMode<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-document-compatmode">compatMode</a>;
  readonly attribute DOMString <a class="idl-code" data-global-name="Document<interface>/characterSet<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-document-characterset">characterSet</a>;
  readonly attribute DOMString <a class="idl-code" data-global-name="Document<interface>/inputEncoding<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-document-inputencoding">inputEncoding</a>; // legacy alias of .characterSet
  readonly attribute DOMString <a class="idl-code" data-global-name="Document<interface>/contentType<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-document-contenttype">contentType</a>;

  readonly attribute <a data-link-type="idl-name" href="#documenttype">DocumentType</a>? <a class="idl-code" data-global-name="Document<interface>/doctype<attribute>" data-link-type="attribute" data-readonly="" data-type="DocumentType? " href="#dom-document-doctype">doctype</a>;
  readonly attribute <a data-link-type="idl-name" href="#element">Element</a>? <a class="idl-code" data-global-name="Document<interface>/documentElement<attribute>" data-link-type="attribute" data-readonly="" data-type="Element? " href="#dom-document-documentelement">documentElement</a>;
  <a data-link-type="idl-name" href="#htmlcollection">HTMLCollection</a> <a class="idl-code" data-global-name="Document<interface>/getElementsByTagName(localName)<method>" data-link-type="method" href="#dom-document-getelementsbytagnamelocalname">getElementsByTagName</a>(DOMString <dfn class="idl-code" data-dfn-for="Document/getElementsByTagName(localName)" data-dfn-type="argument" data-export="" data-global-name="Document<interface>/getElementsByTagName(localName)<method>/localName<argument>" id="dom-document-getelementsbytagnamelocalname-localname">localName<a class="self-link" href="#dom-document-getelementsbytagnamelocalname-localname"></a></dfn>);
  <a data-link-type="idl-name" href="#htmlcollection">HTMLCollection</a> <a class="idl-code" data-global-name="Document<interface>/getElementsByTagNameNS(namespace, localName)<method>" data-link-type="method" href="#dom-document-getelementsbytagnamensnamespace-localname">getElementsByTagNameNS</a>(DOMString? <dfn class="idl-code" data-dfn-for="Document/getElementsByTagNameNS(namespace, localName)" data-dfn-type="argument" data-export="" data-global-name="Document<interface>/getElementsByTagNameNS(namespace, localName)<method>/namespace<argument>" id="dom-document-getelementsbytagnamensnamespace-localname-namespace">namespace<a class="self-link" href="#dom-document-getelementsbytagnamensnamespace-localname-namespace"></a></dfn>, DOMString <dfn class="idl-code" data-dfn-for="Document/getElementsByTagNameNS(namespace, localName)" data-dfn-type="argument" data-export="" data-global-name="Document<interface>/getElementsByTagNameNS(namespace, localName)<method>/localName<argument>" id="dom-document-getelementsbytagnamensnamespace-localname-localname">localName<a class="self-link" href="#dom-document-getelementsbytagnamensnamespace-localname-localname"></a></dfn>);
  <a data-link-type="idl-name" href="#htmlcollection">HTMLCollection</a> <a class="idl-code" data-global-name="Document<interface>/getElementsByClassName(classNames)<method>" data-link-type="method" href="#dom-document-getelementsbyclassnameclassnames">getElementsByClassName</a>(DOMString <dfn class="idl-code" data-dfn-for="Document/getElementsByClassName(classNames)" data-dfn-type="argument" data-export="" data-global-name="Document<interface>/getElementsByClassName(classNames)<method>/classNames<argument>" id="dom-document-getelementsbyclassnameclassnames-classnames">classNames<a class="self-link" href="#dom-document-getelementsbyclassnameclassnames-classnames"></a></dfn>);

  [NewObject] <a data-link-type="idl-name" href="#element">Element</a> <a class="idl-code" data-global-name="Document<interface>/createElement(localName)<method>" data-link-type="method" href="#dom-document-createelementlocalname">createElement</a>(DOMString <dfn class="idl-code" data-dfn-for="Document/createElement(localName)" data-dfn-type="argument" data-export="" data-global-name="Document<interface>/createElement(localName)<method>/localName<argument>" id="dom-document-createelementlocalname-localname">localName<a class="self-link" href="#dom-document-createelementlocalname-localname"></a></dfn>);
  [NewObject] <a data-link-type="idl-name" href="#element">Element</a> <a class="idl-code" data-global-name="Document<interface>/createElementNS(namespace, qualifiedName)<method>" data-link-type="method" href="#dom-document-createelementnsnamespace-qualifiedname">createElementNS</a>(DOMString? <dfn class="idl-code" data-dfn-for="Document/createElementNS(namespace, qualifiedName)" data-dfn-type="argument" data-export="" data-global-name="Document<interface>/createElementNS(namespace, qualifiedName)<method>/namespace<argument>" id="dom-document-createelementnsnamespace-qualifiedname-namespace">namespace<a class="self-link" href="#dom-document-createelementnsnamespace-qualifiedname-namespace"></a></dfn>, DOMString <dfn class="idl-code" data-dfn-for="Document/createElementNS(namespace, qualifiedName)" data-dfn-type="argument" data-export="" data-global-name="Document<interface>/createElementNS(namespace, qualifiedName)<method>/qualifiedName<argument>" id="dom-document-createelementnsnamespace-qualifiedname-qualifiedname">qualifiedName<a class="self-link" href="#dom-document-createelementnsnamespace-qualifiedname-qualifiedname"></a></dfn>);
  [NewObject] <a data-link-type="idl-name" href="#documentfragment">DocumentFragment</a> <a class="idl-code" data-global-name="Document<interface>/createDocumentFragment()<method>" data-link-type="method" href="#dom-document-createdocumentfragment">createDocumentFragment</a>();
  [NewObject] <a data-link-type="idl-name" href="#text">Text</a> <a class="idl-code" data-global-name="Document<interface>/createTextNode(data)<method>" data-link-type="method" href="#dom-document-createtextnodedata">createTextNode</a>(DOMString <dfn class="idl-code" data-dfn-for="Document/createTextNode(data)" data-dfn-type="argument" data-export="" data-global-name="Document<interface>/createTextNode(data)<method>/data<argument>" id="dom-document-createtextnodedata-data">data<a class="self-link" href="#dom-document-createtextnodedata-data"></a></dfn>);
  [NewObject] <a data-link-type="idl-name" href="#comment">Comment</a> <a class="idl-code" data-global-name="Document<interface>/createComment(data)<method>" data-link-type="method" href="#dom-document-createcommentdata">createComment</a>(DOMString <dfn class="idl-code" data-dfn-for="Document/createComment(data)" data-dfn-type="argument" data-export="" data-global-name="Document<interface>/createComment(data)<method>/data<argument>" id="dom-document-createcommentdata-data">data<a class="self-link" href="#dom-document-createcommentdata-data"></a></dfn>);
  [NewObject] <a data-link-type="idl-name" href="#processinginstruction">ProcessingInstruction</a> <a class="idl-code" data-global-name="Document<interface>/createProcessingInstruction(target, data)<method>" data-link-type="method" href="#dom-document-createprocessinginstructiontarget-data">createProcessingInstruction</a>(DOMString <dfn class="idl-code" data-dfn-for="Document/createProcessingInstruction(target, data)" data-dfn-type="argument" data-export="" data-global-name="Document<interface>/createProcessingInstruction(target, data)<method>/target<argument>" id="dom-document-createprocessinginstructiontarget-data-target">target<a class="self-link" href="#dom-document-createprocessinginstructiontarget-data-target"></a></dfn>, DOMString <dfn class="idl-code" data-dfn-for="Document/createProcessingInstruction(target, data)" data-dfn-type="argument" data-export="" data-global-name="Document<interface>/createProcessingInstruction(target, data)<method>/data<argument>" id="dom-document-createprocessinginstructiontarget-data-data">data<a class="self-link" href="#dom-document-createprocessinginstructiontarget-data-data"></a></dfn>);

  [NewObject] <a data-link-type="idl-name" href="#node">Node</a> <a class="idl-code" data-global-name="Document<interface>/importNode(node, deep)<method>/importNode(node)<method>" data-link-type="method" href="#dom-document-importnodenode-deep">importNode</a>(<a data-link-type="idl-name" href="#node">Node</a> <dfn class="idl-code" data-dfn-for="Document/importNode(node, deep)" data-dfn-type="argument" data-export="" data-global-name="Document<interface>/importNode(node, deep)<method>/node<argument>" id="dom-document-importnodenode-deep-node">node<a class="self-link" href="#dom-document-importnodenode-deep-node"></a></dfn>, optional boolean <dfn class="idl-code" data-dfn-for="Document/importNode(node, deep)" data-dfn-type="argument" data-export="" data-global-name="Document<interface>/importNode(node, deep)<method>/deep<argument>" id="dom-document-importnodenode-deep-deep">deep<a class="self-link" href="#dom-document-importnodenode-deep-deep"></a></dfn> = false);
  <a data-link-type="idl-name" href="#node">Node</a> <a class="idl-code" data-global-name="Document<interface>/adoptNode(node)<method>" data-link-type="method" href="#dom-document-adoptnodenode">adoptNode</a>(<a data-link-type="idl-name" href="#node">Node</a> <dfn class="idl-code" data-dfn-for="Document/adoptNode(node)" data-dfn-type="argument" data-export="" data-global-name="Document<interface>/adoptNode(node)<method>/node<argument>" id="dom-document-adoptnodenode-node">node<a class="self-link" href="#dom-document-adoptnodenode-node"></a></dfn>);

  [NewObject] <a data-link-type="idl-name" href="#attr">Attr</a> <a class="idl-code" data-global-name="Document<interface>/createAttribute(localName)<method>" data-link-type="method" href="#dom-document-createattributelocalname">createAttribute</a>(DOMString <dfn class="idl-code" data-dfn-for="Document/createAttribute(localName)" data-dfn-type="argument" data-export="" data-global-name="Document<interface>/createAttribute(localName)<method>/localName<argument>" id="dom-document-createattributelocalname-localname">localName<a class="self-link" href="#dom-document-createattributelocalname-localname"></a></dfn>);
  [NewObject] <a data-link-type="idl-name" href="#attr">Attr</a> <a class="idl-code" data-global-name="Document<interface>/createAttributeNS(namespace, name)<method>" data-link-type="method" href="#dom-document-createattributensnamespace-name">createAttributeNS</a>(DOMString? <dfn class="idl-code" data-dfn-for="Document/createAttributeNS(namespace, name)" data-dfn-type="argument" data-export="" data-global-name="Document<interface>/createAttributeNS(namespace, name)<method>/namespace<argument>" id="dom-document-createattributensnamespace-name-namespace">namespace<a class="self-link" href="#dom-document-createattributensnamespace-name-namespace"></a></dfn>, DOMString <dfn class="idl-code" data-dfn-for="Document/createAttributeNS(namespace, name)" data-dfn-type="argument" data-export="" data-global-name="Document<interface>/createAttributeNS(namespace, name)<method>/name<argument>" id="dom-document-createattributensnamespace-name-name">name<a class="self-link" href="#dom-document-createattributensnamespace-name-name"></a></dfn>);

  [NewObject] <a data-link-type="idl-name" href="#event">Event</a> <a class="idl-code" data-global-name="Document<interface>/createEvent(interface)<method>" data-link-type="method" href="#dom-document-createeventinterface">createEvent</a>(DOMString interface);

  [NewObject] <a data-link-type="idl-name" href="#range">Range</a> <a class="idl-code" data-global-name="Document<interface>/createRange()<method>" data-link-type="method" href="#dom-document-createrange">createRange</a>();

  // NodeFilter.SHOW_ALL = 0xFFFFFFFF
  [NewObject] <a data-link-type="idl-name" href="#nodeiterator">NodeIterator</a> <a class="idl-code" data-global-name="Document<interface>/createNodeIterator(root, whatToShow, filter)<method>/createNodeIterator(root, whatToShow)<method>/createNodeIterator(root)<method>" data-link-type="method" href="#dom-document-createnodeiteratorroot-whattoshow-filter">createNodeIterator</a>(<a data-link-type="idl-name" href="#node">Node</a> <dfn class="idl-code" data-dfn-for="Document/createNodeIterator(root, whatToShow, filter)" data-dfn-type="argument" data-export="" data-global-name="Document<interface>/createNodeIterator(root, whatToShow, filter)<method>/root<argument>" id="dom-document-createnodeiteratorroot-whattoshow-filter-root">root<a class="self-link" href="#dom-document-createnodeiteratorroot-whattoshow-filter-root"></a></dfn>, optional unsigned long <dfn class="idl-code" data-dfn-for="Document/createNodeIterator(root, whatToShow, filter)" data-dfn-type="argument" data-export="" data-global-name="Document<interface>/createNodeIterator(root, whatToShow, filter)<method>/whatToShow<argument>" id="dom-document-createnodeiteratorroot-whattoshow-filter-whattoshow">whatToShow<a class="self-link" href="#dom-document-createnodeiteratorroot-whattoshow-filter-whattoshow"></a></dfn> = 0xFFFFFFFF, optional <a data-link-type="idl-name" href="#callbackdef-nodefilter">NodeFilter</a>? <dfn class="idl-code" data-dfn-for="Document/createNodeIterator(root, whatToShow, filter)" data-dfn-type="argument" data-export="" data-global-name="Document<interface>/createNodeIterator(root, whatToShow, filter)<method>/filter<argument>" id="dom-document-createnodeiteratorroot-whattoshow-filter-filter">filter<a class="self-link" href="#dom-document-createnodeiteratorroot-whattoshow-filter-filter"></a></dfn> = null);
  [NewObject] <a data-link-type="idl-name" href="#treewalker">TreeWalker</a> <a class="idl-code" data-global-name="Document<interface>/createTreeWalker(root, whatToShow, filter)<method>/createTreeWalker(root, whatToShow)<method>/createTreeWalker(root)<method>" data-link-type="method" href="#dom-document-createtreewalkerroot-whattoshow-filter">createTreeWalker</a>(<a data-link-type="idl-name" href="#node">Node</a> <dfn class="idl-code" data-dfn-for="Document/createTreeWalker(root, whatToShow, filter)" data-dfn-type="argument" data-export="" data-global-name="Document<interface>/createTreeWalker(root, whatToShow, filter)<method>/root<argument>" id="dom-document-createtreewalkerroot-whattoshow-filter-root">root<a class="self-link" href="#dom-document-createtreewalkerroot-whattoshow-filter-root"></a></dfn>, optional unsigned long <dfn class="idl-code" data-dfn-for="Document/createTreeWalker(root, whatToShow, filter)" data-dfn-type="argument" data-export="" data-global-name="Document<interface>/createTreeWalker(root, whatToShow, filter)<method>/whatToShow<argument>" id="dom-document-createtreewalkerroot-whattoshow-filter-whattoshow">whatToShow<a class="self-link" href="#dom-document-createtreewalkerroot-whattoshow-filter-whattoshow"></a></dfn> = 0xFFFFFFFF, optional <a data-link-type="idl-name" href="#callbackdef-nodefilter">NodeFilter</a>? <dfn class="idl-code" data-dfn-for="Document/createTreeWalker(root, whatToShow, filter)" data-dfn-type="argument" data-export="" data-global-name="Document<interface>/createTreeWalker(root, whatToShow, filter)<method>/filter<argument>" id="dom-document-createtreewalkerroot-whattoshow-filter-filter">filter<a class="self-link" href="#dom-document-createtreewalkerroot-whattoshow-filter-filter"></a></dfn> = null);
};

[Exposed=Window]
interface <dfn class="idl-code" data-dfn-type="interface" data-export="" data-global-name="" id="xmldocument">XMLDocument<a class="self-link" href="#xmldocument"></a></dfn> : <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document">Document</a> {};
</pre>


   <p><code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document">Document</a></code> <a data-link-type="dfn" href="#concept-node">nodes</a> are simply
known as <dfn data-dfn-type="dfn" data-export="" data-lt="document" id="concept-document">documents<a class="self-link" href="#concept-document"></a></dfn>.</p>


   <p>Each <a data-link-type="dfn" href="#concept-document">document</a> has an associated
<dfn data-dfn-for="Document" data-dfn-type="dfn" data-export="" id="concept-document-encoding">encoding<a class="self-link" href="#concept-document-encoding"></a></dfn>,
<dfn data-dfn-for="Document" data-dfn-type="dfn" data-export="" id="concept-document-content-type">content type<a class="self-link" href="#concept-document-content-type"></a></dfn>, and
<dfn data-dfn-for="Document" data-dfn-type="dfn" data-export="" id="concept-document-url">URL<a class="self-link" href="#concept-document-url"></a></dfn>.
<a data-link-type="biblio" href="#biblio-encoding">[ENCODING]</a>
<a data-link-type="biblio" href="#biblio-url">[URL]</a></p>


   <p>Unless stated otherwise, a <a data-link-type="dfn" href="#concept-document">document</a>’s
<a data-link-type="dfn" href="#concept-document-encoding">encoding</a> is the
<a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf_8">utf-8</a> <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#encoding">encoding</a>, its
<a data-link-type="dfn" href="#concept-document-content-type">content type</a> is
"<code>application/xml</code>", and its
<a data-link-type="dfn" href="#concept-document-url">URL</a> is
"<code>about:blank</code>".</p>


   <p>Unless stated otherwise, a <a data-link-type="dfn" href="#concept-document">document</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#origin">origin</a> is a globally unique identifier
and its <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#effective-script-origin">effective script origin</a> is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-alias">alias</a> of that <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#origin">origin</a>.
<a data-link-type="biblio" href="#biblio-html">[HTML]</a></p>


   <p>A <a data-link-type="dfn" href="#concept-document">document</a> is assumed to be an <dfn data-dfn-type="dfn" data-export="" id="xml-document">XML document<a class="self-link" href="#xml-document"></a></dfn>
unless it is flagged as being an <dfn data-dfn-type="dfn" data-export="" id="html-document">HTML document<a class="self-link" href="#html-document"></a></dfn>.
Whether a <a data-link-type="dfn" href="#concept-document">document</a> is an <a data-link-type="dfn" href="#html-document">HTML document</a> or an <a data-link-type="dfn" href="#xml-document">XML document</a>
affects the behavior of certain APIs.</p>


   <p>A <a data-link-type="dfn" href="#concept-document">document</a> is always set to one of three modes:
<dfn data-dfn-type="dfn" data-export="" id="concept-document-no-quirks">no-quirks mode<a class="self-link" href="#concept-document-no-quirks"></a></dfn>, the default;
<dfn data-dfn-type="dfn" data-export="" id="concept-document-quirks">quirks mode<a class="self-link" href="#concept-document-quirks"></a></dfn>, used typically for legacy documents;
and <dfn data-dfn-type="dfn" data-export="" id="concept-document-limited-quirks">limited-quirks mode<a class="self-link" href="#concept-document-limited-quirks"></a></dfn>.
Unless stated otherwise, a <a data-link-type="dfn" href="#concept-document">document</a> must be in <a data-link-type="dfn" href="#concept-document-no-quirks">no-quirks mode</a>.</p>


   <p class="note" role="note">Note: The mode is only ever changed from the default if the
<a data-link-type="dfn" href="#concept-document">document</a> is created by the
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/syntax.html#html-parser">HTML parser</a>, based on the presence,
absence, or value of the DOCTYPE string.
<a data-link-type="biblio" href="#biblio-html">[HTML]</a></p>


   <p class="note" role="note">Note: <a data-link-type="dfn" href="#concept-document-no-quirks">No-quirks mode</a>
was originally known as "standards mode" and
<a data-link-type="dfn" href="#concept-document-limited-quirks">limited-quirks mode</a> was
once known as "almost standards mode". They have been renamed because their
details are now defined by standards. (And because Ian Hickson vetoed their
original names on the basis that they are nonsensical.)</p>


   <hr>


   <dl class="domintro">
 
    <dt><code><var>document</var> = new <code class="idl"><a data-link-type="idl" href="#dom-document-document">Document()</a></code></code>
 
    <dd>Returns a new <a data-link-type="dfn" href="#concept-document">document</a>.

 
    <dt><code><var>document</var> . <code class="idl"><a data-link-type="idl" href="#dom-document-implementation">implementation</a></code></code>
 
    <dd>Returns <var>document</var>’s <code class="idl"><a data-link-type="idl" href="#domimplementation">DOMImplementation</a></code> object.

 
    <dt><code><var>document</var> . <code class="idl"><a data-link-type="idl" href="#dom-document-url">URL</a></code></code>
 
    <dt><code><var>document</var> . <code class="idl"><a data-link-type="idl" href="#dom-document-documenturi">documentURI</a></code></code>
 
    <dd>Returns <var>document</var>’s <a data-link-type="dfn" href="#concept-document-url">URL</a>.

 
    <dt><code><var>document</var> . <code class="idl"><a data-link-type="idl" href="#dom-document-origin">origin</a></code></code>
 
    <dd>Returns <var>document</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#origin">origin</a>.

 
    <dt><code><var>document</var> . <code class="idl"><a data-link-type="idl" href="#dom-document-compatmode">compatMode</a></code></code>
 
    <dd>
  Returns the string "<code>CSS1Compat</code>" if
  <var>document</var> is in
  <a data-link-type="dfn" href="#concept-document-no-quirks">no-quirks mode</a> or
  <a data-link-type="dfn" href="#concept-document-limited-quirks">limited-quirks mode</a>, and
  "<code>BackCompat</code>", if <var>document</var> is in
  <a data-link-type="dfn" href="#concept-document-quirks">quirks mode</a>.

 
    <dt><code><var>document</var> . <code class="idl"><a data-link-type="idl" href="#dom-document-characterset">characterSet</a></code></code>
 
    <dd>Returns <var>document</var>’s
 <a data-link-type="dfn" href="#concept-document-encoding">encoding</a>.

 
    <dt><code><var>document</var> . <code class="idl"><a data-link-type="idl" href="#dom-document-contenttype">contentType</a></code></code>
 
    <dd>Returns <var>document</var>’s
 <a data-link-type="dfn" href="#concept-document-content-type">content type</a>.
</dl>


   <p>The <dfn class="idl-code" data-dfn-for="Document" data-dfn-type="constructor" data-export="" id="dom-document-document"><code>Document()</code><a class="self-link" href="#dom-document-document"></a></dfn> constructor
must return a new <a data-link-type="dfn" href="#concept-document">document</a> whose
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#origin">origin</a> is an
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-alias">alias</a> to the
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#origin">origin</a> of the global object’s associated
<a data-link-type="dfn" href="#concept-document">document</a>, and
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#effective-script-origin">effective script origin</a> is an
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-alias">alias</a> to the
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#effective-script-origin">effective script origin</a> of the
global object’s associated <a data-link-type="dfn" href="#concept-document">document</a>.
<a data-link-type="biblio" href="#biblio-html">[HTML]</a></p>


   <p class="note" role="note">Note: Unlike
<code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-domimplementation-createdocument">createDocument()</a></code>
this constructor does not return an <code class="idl"><a data-link-type="idl" href="#xmldocument">XMLDocument</a></code> object, but a
<a data-link-type="dfn" href="#concept-document">document</a> (<code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document">Document</a></code> object).</p>


   <p>The
<dfn class="idl-code" data-dfn-for="Document" data-dfn-type="attribute" data-export="" id="dom-document-implementation">implementation<a class="self-link" href="#dom-document-implementation"></a></dfn>
attribute must return the <code class="idl"><a data-link-type="idl" href="#domimplementation">DOMImplementation</a></code> object that is
associated with the <a data-link-type="dfn" href="#concept-document">document</a>.</p>


   <p>The <dfn class="idl-code" data-dfn-for="Document" data-dfn-type="attribute" data-export="" id="dom-document-url">URL<a class="self-link" href="#dom-document-url"></a></dfn> and
<dfn class="idl-code" data-dfn-for="Document" data-dfn-type="attribute" data-export="" id="dom-document-documenturi">documentURI<a class="self-link" href="#dom-document-documenturi"></a></dfn>
attributes must return the <a data-link-type="dfn" href="#concept-document-url">URL</a>.</p>


   <p>The <dfn class="idl-code" data-dfn-for="Document" data-dfn-type="attribute" data-export="" id="dom-document-origin">origin<a class="self-link" href="#dom-document-origin"></a></dfn>
attribute must return the
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#unicode-serialization-of-an-origin">Unicode serialization</a>
of <a data-link-type="dfn" href="#context-object">context object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#origin">origin</a>.</p>


   <p>The <dfn class="idl-code" data-dfn-for="Document" data-dfn-type="attribute" data-export="" id="dom-document-compatmode">compatMode<a class="self-link" href="#dom-document-compatmode"></a></dfn>
attribute must return "<code>BackCompat</code>" if the
<a data-link-type="dfn" href="#context-object">context object</a> is in
<a data-link-type="dfn" href="#concept-document-quirks">quirks mode</a>, and
"<code>CSS1Compat</code>" otherwise.</p>


   <p>The <dfn class="idl-code" data-dfn-for="Document" data-dfn-type="attribute" data-export="" id="dom-document-characterset">characterSet<a class="self-link" href="#dom-document-characterset"></a></dfn> attribute’s
getter and <dfn class="idl-code" data-dfn-for="Document" data-dfn-type="attribute" data-export="" id="dom-document-inputencoding">inputEncoding<a class="self-link" href="#dom-document-inputencoding"></a></dfn>
attribute’s getter must run these steps:</p>


   <ol>
 
    <li>Let <var>name</var> be
 <a data-link-type="dfn" href="#concept-document-encoding">encoding</a>’s
 <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#encoding-name">name</a>.

 
    <li>
  If <var>name</var> is in the first column in the table below, set
  <var>name</var> to the value of the second column on the same row:

  
  
     <table>
   
      <tbody>
       <tr>
    
        <th>Name
    
        <th>Compatibility name
   
       <tr>
    
        <td><a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf_8">utf-8</a>
    
        <td>"<code>UTF-8</code>"
   
       <tr>
    
        <td><a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#ibm866">ibm866</a>
    
        <td>"<code>IBM866</code>"
   
       <tr>
    
        <td><a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#iso_8859_2">iso-8859-2</a>
    
        <td>"<code>ISO-8859-2</code>"
   
       <tr>
    
        <td><a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#iso_8859_3">iso-8859-3</a>
    
        <td>"<code>ISO-8859-3</code>"
   
       <tr>
    
        <td><a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#iso_8859_4">iso-8859-4</a>
    
        <td>"<code>ISO-8859-4</code>"
   
       <tr>
    
        <td><a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#iso_8859_5">iso-8859-5</a>
    
        <td>"<code>ISO-8859-5</code>"
   
       <tr>
    
        <td><a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#iso_8859_6">iso-8859-6</a>
    
        <td>"<code>ISO-8859-6</code>"
   
       <tr>
    
        <td><a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#iso_8859_7">iso-8859-7</a>
    
        <td>"<code>ISO-8859-7</code>"
   
       <tr>
    
        <td><a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#iso_8859_8">iso-8859-8</a>
    
        <td>"<code>ISO-8859-8</code>"
   
       <tr>
    
        <td><a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#iso_8859_8_i">iso-8859-8-i</a>
    
        <td>"<code>ISO-8859-8-I</code>"
   
       <tr>
    
        <td><a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#iso_8859_10">iso-8859-10</a>
    
        <td>"<code>ISO-8859-10</code>"
   
       <tr>
    
        <td><a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#iso_8859_13">iso-8859-13</a>
    
        <td>"<code>ISO-8859-13</code>"
   
       <tr>
    
        <td><a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#iso_8859_14">iso-8859-14</a>
    
        <td>"<code>ISO-8859-14</code>"
   
       <tr>
    
        <td><a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#iso_8859_15">iso-8859-15</a>
    
        <td>"<code>ISO-8859-15</code>"
   
       <tr>
    
        <td><a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#iso_8859_16">iso-8859-16</a>
    
        <td>"<code>ISO-8859-16</code>"
   
       <tr>
    
        <td><a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#koi8_r">koi8-r</a>
    
        <td>"<code>KOI8-R</code>"
   
       <tr>
    
        <td><a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#koi8_u">koi8-u</a>
    
        <td>"<code>KOI8-U</code>"
   
   
       <tr>
    
        <td><a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#gbk">gbk</a>
    
        <td>"<code>GBK</code>"
   
   
       <tr>
    
        <td><a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#big5">big5</a>
    
        <td>"<code>Big5</code>"
   
       <tr>
    
        <td><a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#euc_jp">euc-jp</a>
    
        <td>"<code>EUC-JP</code>"
   
       <tr>
    
        <td><a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#iso_2022_jp">iso-2022-jp</a>
    
        <td>"<code>ISO-2022-JP</code>"
   
       <tr>
    
        <td><a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#shift_jis">shift_jis</a>
    
        <td>"<code>Shift_JIS</code>"
   
       <tr>
    
        <td><a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#euc_kr">euc-kr</a>
    
        <td>"<code>EUC-KR</code>"
   
   
       <tr>
    
        <td><a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf_16be">utf-16be</a>
    
        <td>"<code>UTF-16BE</code>"
   
       <tr>
    
        <td><a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf_16le">utf-16le</a>
    
        <td>"<code>UTF-16LE</code>"
   
  
     </table>
     

 
    <li>Return <var>name</var>.
</ol>


   <p>The <dfn class="idl-code" data-dfn-for="Document" data-dfn-type="attribute" data-export="" id="dom-document-contenttype">contentType<a class="self-link" href="#dom-document-contenttype"></a></dfn>
attribute must return the
<a data-link-type="dfn" href="#concept-document-content-type">content type</a>.</p>


   <hr>


   <dl class="domintro">
 
    <dt><var>document</var> . <code class="idl"><a data-link-type="idl" href="#dom-document-doctype">doctype</a></code>
 
    <dd>Returns the <a data-link-type="dfn" href="#concept-doctype">doctype</a> or null if
 there is none.

 
    <dt><var>document</var> . <code class="idl"><a data-link-type="idl" href="#dom-document-documentelement">documentElement</a></code>
 
    <dd>Returns the <a data-link-type="dfn" href="#document-element">document element</a>.

 
    <dt><var>collection</var> = <var>document</var> . <code class="idl"><a data-link-type="idl" href="#dom-document-getelementsbytagnamelocalname">getElementsByTagName(localName)</a></code>

 
    <dd>
  If <var>localName</var> is "<code>*</code>" returns a
  <code class="idl"><a data-link-type="idl" href="#htmlcollection">HTMLCollection</a></code> of all
  <a data-link-type="dfn" href="#concept-tree-descendant">descendant</a>
  <a data-link-type="dfn" href="#concept-element">elements</a>.


     <p>Otherwise, returns a <code class="idl"><a data-link-type="idl" href="#htmlcollection">HTMLCollection</a></code> of all
  <a data-link-type="dfn" href="#concept-tree-descendant">descendant</a>
  <a data-link-type="dfn" href="#concept-element">elements</a> whose
  <a data-link-type="dfn" href="#concept-element-local-name">local name</a> is
  <var>localName</var>. (Matches case-insensitively against
  <a data-link-type="dfn" href="#concept-element">elements</a> in the
  <a data-link-type="dfn" href="#html-namespace">HTML namespace</a> within an <a data-link-type="dfn" href="#html-document">HTML document</a>.)</p>
     

 
    <dt><var>collection</var> = <var>document</var> . <code class="idl"><a data-link-type="idl" href="#dom-document-getelementsbytagnamensnamespace-localname">getElementsByTagNameNS(namespace, localName)</a></code>

 
    <dd>
  If <var>namespace</var> and <var>localName</var> are
  "<code>*</code>" returns a <code class="idl"><a data-link-type="idl" href="#htmlcollection">HTMLCollection</a></code> of all
  <a data-link-type="dfn" href="#concept-tree-descendant">descendant</a>
  <a data-link-type="dfn" href="#concept-element">elements</a>.


     <p>If only <var>namespace</var> is "<code>*</code>" returns a
  <code class="idl"><a data-link-type="idl" href="#htmlcollection">HTMLCollection</a></code> of all
  <a data-link-type="dfn" href="#concept-tree-descendant">descendant</a>
  <a data-link-type="dfn" href="#concept-element">elements</a> whose
  <a data-link-type="dfn" href="#concept-element-local-name">local name</a> is
  <var>localName</var>.</p>
     


     <p>If only <var>localName</var> is "<code>*</code>" returns a
  <code class="idl"><a data-link-type="idl" href="#htmlcollection">HTMLCollection</a></code> of all
  <a data-link-type="dfn" href="#concept-tree-descendant">descendant</a>
  <a data-link-type="dfn" href="#concept-element">elements</a> whose
  <a data-link-type="dfn" href="#concept-element-namespace">namespace</a> is
  <var>namespace</var>.</p>
     


     <p>Otherwise, returns a <code class="idl"><a data-link-type="idl" href="#htmlcollection">HTMLCollection</a></code> of all
  <a data-link-type="dfn" href="#concept-tree-descendant">descendant</a>
  <a data-link-type="dfn" href="#concept-element">elements</a> whose
  <a data-link-type="dfn" href="#concept-element-namespace">namespace</a> is
  <var>namespace</var> and
  <a data-link-type="dfn" href="#concept-element-local-name">local name</a> is
  <var>localName</var>.</p>
     

 
    <dt><var>collection</var> = <var>document</var> . <code class="idl"><a data-link-type="idl" href="#dom-document-getelementsbyclassnameclassnames">getElementsByClassName(classNames)</a></code>
 
    <dt><var>collection</var> = <var>element</var> . <code class="idl"><a data-link-type="idl" href="#dom-element-getelementsbyclassnameclassnames">getElementsByClassName(classNames)</a></code>
 
    <dd>
  Returns a <code class="idl"><a data-link-type="idl" href="#htmlcollection">HTMLCollection</a></code> of the
  <a data-link-type="dfn" href="#concept-element">elements</a> in the object on which
  the method was invoked (a <a data-link-type="dfn" href="#concept-document">document</a> or
  an <a data-link-type="dfn" href="#concept-element">element</a>) that have all the classes
  given by <var>classNames</var>.
  The <var>classNames</var> argument is interpreted as a
  space-separated list of classes.
</dl>


   <p>The <dfn class="idl-code" data-dfn-for="Document" data-dfn-type="attribute" data-export="" id="dom-document-doctype">doctype<a class="self-link" href="#dom-document-doctype"></a></dfn> attribute
must return the <a data-link-type="dfn" href="#concept-tree-child">child</a> of the
<a data-link-type="dfn" href="#concept-document">document</a> that is a
<a data-link-type="dfn" href="#concept-doctype">doctype</a>, and null otherwise.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="Document" data-dfn-type="attribute" data-export="" id="dom-document-documentelement">documentElement<a class="self-link" href="#dom-document-documentelement"></a></dfn>
attribute must return the <a data-link-type="dfn" href="#document-element">document element</a>.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="Document" data-dfn-type="method" data-export="" id="dom-document-getelementsbytagnamelocalname">getElementsByTagName(<var>localName</var>)<a class="self-link" href="#dom-document-getelementsbytagnamelocalname"></a></dfn>
method must return the
<a data-link-type="dfn" href="#concept-getElementsByTagName">list of elements with local name <var>localName</var></a>
for the <a data-link-type="dfn" href="#context-object">context object</a>.</p>


   <p class="note" role="note">Note: Thus, in an <a data-link-type="dfn" href="#html-document">HTML document</a>,
<code class="lang-javascript">document.getElementsByTagName("FOO")</code> will match
<code>&lt;FOO></code> elements that are not in the
<a data-link-type="dfn" href="#html-namespace">HTML namespace</a>, and <code>&lt;foo></code> elements that are in
the <a data-link-type="dfn" href="#html-namespace">HTML namespace</a>, but not <code>&lt;FOO></code> elements
that are in the <a data-link-type="dfn" href="#html-namespace">HTML namespace</a>.</p>



   <p>The
<dfn class="idl-code" data-dfn-for="Document" data-dfn-type="method" data-export="" id="dom-document-getelementsbytagnamensnamespace-localname">getElementsByTagNameNS(<var>namespace</var>, <var>localName</var>)<a class="self-link" href="#dom-document-getelementsbytagnamensnamespace-localname"></a></dfn>
method must return the
<a data-link-type="dfn" href="#concept-getElementsByTagNameNS">list of elements with namespace <var>namespace</var> and local name <var>localName</var></a>
for the <a data-link-type="dfn" href="#context-object">context object</a>.</p>



   <p>The
<dfn class="idl-code" data-dfn-for="Document" data-dfn-type="method" data-export="" id="dom-document-getelementsbyclassnameclassnames">getElementsByClassName(<var>classNames</var>)<a class="self-link" href="#dom-document-getelementsbyclassnameclassnames"></a></dfn>
method must return the
<a data-link-type="dfn" href="#concept-getElementsByClassName">list of elements with class names <var>classNames</var></a>
for the <a data-link-type="dfn" href="#context-object">context object</a>.</p>


   <div class="example" id="example-48a90db5"><a class="self-link" href="#example-48a90db5"></a>
 Given the following XHTML fragment:

 
    <pre>&lt;div id="example">
  &lt;p id="p1" class="aaa bbb"/>
  &lt;p id="p2" class="aaa ccc"/>
  &lt;p id="p3" class="bbb ccc"/>
&lt;/div>
</pre>


    <p>A call to
 <code class="lang-javascript">document.getElementById("example").getElementsByClassName("aaa")</code>
 would return a <code class="idl"><a data-link-type="idl" href="#htmlcollection">HTMLCollection</a></code> with the two paragraphs
 <code>p1</code> and <code>p2</code> in it.</p>


    <p>A call to
 <code class="lang-javascript">getElementsByClassName("ccc bbb")</code>
 would only return one node, however, namely <code>p3</code>. A call to
 <code class="lang-javascript">document.getElementById("example").getElementsByClassName("bbb  ccc ")</code>
 would return the same thing.</p>


    <p>A call to
 <code class="lang-javascript">getElementsByClassName("aaa,bbb")</code>
 would return no nodes; none of the elements above are in the
 <code>aaa,bbb</code> class.</p>
</div>


   <hr>


   <dl class="domintro">
 
    <dt><var>element</var> = <var>document</var> . <code class="idl"><a data-link-type="idl" href="#dom-document-createelementlocalname">createElement(localName)</a></code>
 
    <dd>
  Returns an <a data-link-type="dfn" href="#concept-element">element</a> in the
  <a data-link-type="dfn" href="#html-namespace">HTML namespace</a> with <var>localName</var> as
  <a data-link-type="dfn" href="#concept-element-local-name">local name</a>. (In an
  <a data-link-type="dfn" href="#html-document">HTML document</a> <var>localName</var> is lowercased.)


     <p>If <var>localName</var> does not match the
  <code><a class="css" data-link-type="type" href="http://www.w3.org/TR/xml/#NT-name" title="Expands to: ">Name</a></code> production an
  <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidcharactererror">InvalidCharacterError</a></code>
  exception will be thrown.</p>
     

 
    <dt><var>element</var> = <var>document</var> . <code class="idl"><a data-link-type="idl" href="#dom-document-createelementnsnamespace-qualifiedname">createElementNS(namespace, qualifiedName)</a></code>

 
    <dd>
  Returns an <a data-link-type="dfn" href="#concept-element">element</a> with
  <a data-link-type="dfn" href="#concept-element-namespace">namespace</a>
  <var>namespace</var>. Its
  <a data-link-type="dfn" href="#concept-element-namespace-prefix">namespace prefix</a> will
  be everything before "<code>:</code>" (U+003E) in
  <var>qualifiedName</var> or null. Its
  <a data-link-type="dfn" href="#concept-element-local-name">local name</a> will be
  everything after "<code>:</code>" (U+003E) in
  <var>qualifiedName</var> or <var>qualifiedName</var>.


     <p>If <var>localName</var> does not match the
  <code><a class="css" data-link-type="type" href="http://www.w3.org/TR/xml/#NT-name" title="Expands to: ">Name</a></code> production an
  <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidcharactererror">InvalidCharacterError</a></code>
  exception will be thrown.</p>
     


     <p>If one of the following conditions is true a
  <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#namespaceerror">NamespaceError</a></code> exception
  will be thrown:</p>
     

  
     <ul>
   
      <li><var>localName</var> does not match the
   <code><a class="css" data-link-type="type" href="http://www.w3.org/TR/xml-names/#NT-qname" title="Expands to: ">QName</a></code> production.
   
      <li><a data-link-type="dfn" href="#concept-element-namespace-prefix">Namespace prefix</a>
   is not null and <var>namespace</var> is the empty string.
   
      <li><a data-link-type="dfn" href="#concept-element-namespace-prefix">Namespace prefix</a>
   is "<code>xml</code>" and <var>namespace</var> is not the
   <a data-link-type="dfn" href="#xml-namespace">XML namespace</a>.
   
      <li><var>qualifiedName</var> or
   <a data-link-type="dfn" href="#concept-element-namespace-prefix">namespace prefix</a>
   is "<code>xmlns</code>" and <var>namespace</var> is not the
   <a data-link-type="dfn" href="#xmlns-namespace">XMLNS namespace</a>.
   
      <li><var>namespace</var> is the <a data-link-type="dfn" href="#xmlns-namespace">XMLNS namespace</a> and
   neither <var>qualifiedName</var> nor
   <a data-link-type="dfn" href="#concept-element-namespace-prefix">namespace prefix</a>
   is "<code>xmlns</code>".
  
     </ul>
     

 
    <dt><var>documentFragment</var> = <var>document</var> . <code class="idl"><a data-link-type="idl" href="#dom-document-createdocumentfragment">createDocumentFragment()</a></code>
 
    <dd>Returns a <code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code>
 <a data-link-type="dfn" href="#concept-node">node</a>.

 
    <dt><var>text</var> = <var>document</var> . <code class="idl"><a data-link-type="idl" href="#dom-document-createtextnodedata">createTextNode(data)</a></code>
 
    <dd>Returns a <code class="idl"><a data-link-type="idl" href="#text">Text</a></code> <a data-link-type="dfn" href="#concept-node">node</a>
 whose <a data-link-type="dfn" href="#concept-CD-data">data</a> is <var>data</var>.

 
    <dt><var>comment</var> = <var>document</var> . <code class="idl"><a data-link-type="idl" href="#dom-document-createcommentdata">createComment(data)</a></code>
 
    <dd>Returns a <code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code> <a data-link-type="dfn" href="#concept-node">node</a>
 whose <a data-link-type="dfn" href="#concept-CD-data">data</a> is <var>data</var>.

 
    <dt><var>processingInstruction</var> = <var>document</var> . <code class="idl"><a data-link-type="idl" href="#dom-document-createprocessinginstructiontarget-data">createProcessingInstruction(target, data)</a></code>
 
    <dd>
  Returns a <code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code>
  <a data-link-type="dfn" href="#concept-node">node</a> whose
  <a data-link-type="dfn" href="#concept-PI-target">target</a> is <var>target</var> and
  <a data-link-type="dfn" href="#concept-CD-data">data</a> is <var>data</var>.
  If <var>target</var> does not match the
  <code><a class="css" data-link-type="type" href="http://www.w3.org/TR/xml/#NT-name" title="Expands to: ">Name</a></code> production an
  <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidcharactererror">InvalidCharacterError</a></code>
  exception will be thrown.
  If <var>data</var> contains "<code>?></code>" an
  <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidcharactererror">InvalidCharacterError</a></code>
  exception will be thrown.
</dl>


   <p>The <dfn data-dfn-type="dfn" data-export="" id="concept-element-interface">element interface<a class="self-link" href="#concept-element-interface"></a></dfn> for any
<var>name</var> and <var>namespace</var> is <code class="idl"><a data-link-type="idl" href="#element">Element</a></code>, unless
stated otherwise.</p>


   <p class="note" role="note">Note: The HTML Standard will e.g. define that for <code>html</code> and the
<a data-link-type="dfn" href="#html-namespace">HTML namespace</a>, the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/semantics.html#htmlhtmlelement">HTMLHtmlElement</a></code> interface is used.
<a data-link-type="biblio" href="#biblio-html">[HTML]</a></p>


   <p>The <dfn class="idl-code" data-dfn-for="Document" data-dfn-type="method" data-export="" id="dom-document-createelementlocalname">createElement(<var>localName</var>)<a class="self-link" href="#dom-document-createelementlocalname"></a></dfn> method must run the these steps:</p>


   <ol>
 
    <li>If <var>localName</var> does not match the
 <code><a class="css" data-link-type="type" href="http://www.w3.org/TR/xml/#NT-name" title="Expands to: ">Name</a></code> production,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> an
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidcharactererror">InvalidCharacterError</a></code> exception.

 
    <li>If the <a data-link-type="dfn" href="#context-object">context object</a> is an <a data-link-type="dfn" href="#html-document">HTML document</a>,
 let <var>localName</var> be
 <a data-link-type="dfn" href="#converted-to-ascii-lowercase">converted to ASCII lowercase</a>.
 

 
    <li>Let <var>interface</var> be the
 <a data-link-type="dfn" href="#concept-element-interface">element interface</a> for
 <var>localName</var> and the <a data-link-type="dfn" href="#html-namespace">HTML namespace</a>.

 
    <li>Return a new <a data-link-type="dfn" href="#concept-element">element</a> that implements <var>interface</var>,
 with no attributes,
 <a data-link-type="dfn" href="#concept-element-namespace">namespace</a> set to the <a data-link-type="dfn" href="#html-namespace">HTML namespace</a>,
 <a data-link-type="dfn" href="#concept-element-local-name">local name</a> set to <var>localName</var>, and
 <a data-link-type="dfn" href="#concept-node-document">node document</a> set to the <a data-link-type="dfn" href="#context-object">context object</a>.
</ol>


   <p>The
<dfn class="idl-code" data-dfn-for="Document" data-dfn-type="method" data-export="" id="dom-document-createelementnsnamespace-qualifiedname">createElementNS(<var>namespace</var>, <var>qualifiedName</var>)<a class="self-link" href="#dom-document-createelementnsnamespace-qualifiedname"></a></dfn>
method must run these steps:</p>

   <ol>
 
    <li>Let <var>namespace</var>, <var>prefix</var>, <var>localName</var>, and
 <var>qualifiedName</var> be the result of passing <var>namespace</var> and
 <var>qualifiedName</var> to <a data-link-type="dfn" href="#validate-and-extract">validate and extract</a>. Rethrow any exceptions.

 
    <li>Let <var>interface</var> be the
 <a data-link-type="dfn" href="#concept-element-interface">element interface</a> for
 <var>localName</var> and <var>namespace</var>.

 
    <li>Return a new <a data-link-type="dfn" href="#concept-element">element</a> that implements <var>interface</var>,
 with no attributes,
 <a data-link-type="dfn" href="#concept-element-namespace">namespace</a> set to <var>namespace</var>,
 <a data-link-type="dfn" href="#concept-element-namespace-prefix">namespace prefix</a> set to <var>prefix</var>,
 <a data-link-type="dfn" href="#concept-element-local-name">local name</a> set to <var>localName</var>, and
 <a data-link-type="dfn" href="#concept-node-document">node document</a> set to the <a data-link-type="dfn" href="#context-object">context object</a>.
</ol>


   <p>The
<dfn class="idl-code" data-dfn-for="Document" data-dfn-type="method" data-export="" id="dom-document-createdocumentfragment">createDocumentFragment()<a class="self-link" href="#dom-document-createdocumentfragment"></a></dfn>
method must return a new <code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code>
<a data-link-type="dfn" href="#concept-node">node</a> with its
<a data-link-type="dfn" href="#concept-node-document">node document</a> set to the
<a data-link-type="dfn" href="#context-object">context object</a>.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="Document" data-dfn-type="method" data-export="" id="dom-document-createtextnodedata">createTextNode(<var>data</var>)<a class="self-link" href="#dom-document-createtextnodedata"></a></dfn>
method must return a new <code class="idl"><a data-link-type="idl" href="#text">Text</a></code>
<a data-link-type="dfn" href="#concept-node">node</a> with its
<a data-link-type="dfn" href="#concept-CD-data">data</a> set to <var>data</var> and
<a data-link-type="dfn" href="#concept-node-document">node document</a> set to the
<a data-link-type="dfn" href="#context-object">context object</a>.
Note: No check is performed that <var>data</var> consists of
characters that match the <a class="css" data-link-type="type" href="http://www.w3.org/TR/xml/#NT-char">Char</a> production.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="Document" data-dfn-type="method" data-export="" id="dom-document-createcommentdata">createComment(<var>data</var>)<a class="self-link" href="#dom-document-createcommentdata"></a></dfn>
method must return a new <code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code>
<a data-link-type="dfn" href="#concept-node">node</a> with its
<a data-link-type="dfn" href="#concept-CD-data">data</a> set to <var>data</var> and
<a data-link-type="dfn" href="#concept-node-document">node document</a> set to the
<a data-link-type="dfn" href="#context-object">context object</a>.
Note: No check is performed that <var>data</var> consists of
characters that match the <a class="css" data-link-type="type" href="http://www.w3.org/TR/xml/#NT-char" title="Expands to: ">Char</a> production
or that it contains two adjacent hyphens or ends with a hyphen.</p>


   <p>The <dfn class="idl-code" data-dfn-for="Document" data-dfn-type="method" data-export="" id="dom-document-createprocessinginstructiontarget-data">createProcessingInstruction(<var>target</var>, <var title="">data</var>)<a class="self-link" href="#dom-document-createprocessinginstructiontarget-data"></a></dfn> method must run these steps:</p>


   <ol>
 
    <li>If <var>target</var> does not match the
 
 <code><a class="css" data-link-type="type" href="http://www.w3.org/TR/xml/#NT-name" title="Expands to: ">Name</a></code> production,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> an
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidcharactererror">InvalidCharacterError</a></code> exception. 

 
    <li>If <var>data</var> contains the string
 "<code>?></code>", <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> an
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidcharactererror">InvalidCharacterError</a></code> exception. 

 
 

 
    <li>Return a new <code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code>
 <a data-link-type="dfn" href="#concept-node">node</a>, with
 <a data-link-type="dfn" href="#concept-PI-target">target</a> set to <var>target</var>,
 <a data-link-type="dfn" href="#concept-CD-data">data</a> set to <var>data</var>, and
 <a data-link-type="dfn" href="#concept-node-document">node document</a> set to the
 <a data-link-type="dfn" href="#context-object">context object</a>.
</ol>


   <p class="note" role="note">Note: No check is performed that <var>target</var> contains
"<code>xml</code>" or "<code>:</code>", or that
<var>data</var> contains characters that match the
<a class="css" data-link-type="type" href="http://www.w3.org/TR/xml/#NT-char" title="Expands to: ">Char</a> production.</p>


   <hr>


   <dl class="domintro">
 
    <dt><var>clone</var> = <var>document</var> . <a class="idl-code" data-link-type="method" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document-importnode">importNode(<var>node</var> [, <var>deep</var> = false])</a>
 
    <dd>
 
    <dd>
  Returns a copy of <var>node</var>. If
  <var>deep</var> is true, the copy also includes the
  <var>node</var>’s <a data-link-type="dfn" href="#concept-tree-descendant">descendants</a>.


     <p>If <var>node</var> is a
  <a data-link-type="dfn" href="#concept-document">document</a> throws a
  <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notsupportederror">NotSupportedError</a></code>
  exception.</p>
     

 
    <dt><var>node</var> = <var>document</var> . <code class="idl"><a data-link-type="idl" href="#dom-document-adoptnodenode">adoptNode(node)</a></code>

 
    <dd>
  Moves <var>node</var> from another
  <a data-link-type="dfn" href="#concept-document">document</a> and returns it.


     <p>If <var>node</var> is a
  <a data-link-type="dfn" href="#concept-document">document</a> throws a
  <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notsupportederror">NotSupportedError</a></code>
  exception.</p>
     
</dl>


   <p>The
<dfn class="idl-code" data-dfn-for="Document" data-dfn-type="method" data-export="" data-lt="importNode(node, deep)|importNode(node)" id="dom-document-importnodenode-deep">importNode(<var>node</var>, <var>deep</var>)<a class="self-link" href="#dom-document-importnodenode-deep"></a></dfn>
method must run these steps:</p>


   <ol>
 
    <li>If <var>node</var> is a
 <a data-link-type="dfn" href="#concept-document">document</a>,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notsupportederror">NotSupportedError</a></code> exception.

 
    <li>Return a <a data-link-type="dfn" href="#concept-node-clone">clone</a> of
 <var>node</var>, with <a data-link-type="dfn" href="#context-object">context object</a> and the
 <i>clone children flag</i> set if <var>deep</var> is true.
</ol>


   <p><a data-link-type="dfn" href="#other-applicable-specifications">Specifications</a> may define
<dfn data-dfn-for="Node" data-dfn-type="dfn" data-export="" id="concept-node-adopt-ext">adopting steps<a class="self-link" href="#concept-node-adopt-ext"></a></dfn> for all or some
<a data-link-type="dfn" href="#concept-node">nodes</a>. The algorithm is passed <var>node</var> and
<var>oldDocument</var>, as indicated in the
<a data-link-type="dfn" href="#concept-node-adopt">adopt</a> algorithm.</p>


   <p>To <dfn data-dfn-for="Node" data-dfn-type="dfn" data-export="" id="concept-node-adopt">adopt<a class="self-link" href="#concept-node-adopt"></a></dfn> a <var>node</var> into
a <var>document</var>, run these steps:</p>


   <ol>
 
    <li>Let <var>oldDocument</var> be <var>node</var>’s
 <a data-link-type="dfn" href="#concept-node-document">node document</a>.

 
    <li>If <var>node</var>’s
 <a data-link-type="dfn" href="#concept-tree-parent">parent</a> is not null,
 <a data-link-type="dfn" href="#concept-node-remove">remove</a> <var>node</var> from
 its <a data-link-type="dfn" href="#concept-tree-parent">parent</a>.

 
    <li>Set <var>node</var>’s
 <a data-link-type="dfn" href="#concept-tree-inclusive-descendant">inclusive descendants</a>’s
 <a data-link-type="dfn" href="#concept-node-document">node document</a> to <var>document</var>.
 

 
    <li>Run any <a data-link-type="dfn" href="#concept-node-adopt-ext">adopting steps</a> defined for
 <var>node</var> in <a data-link-type="dfn" href="#other-applicable-specifications">other applicable specifications</a> and pass
 <var>node</var> and <var>oldDocument</var> as parameters.
</ol>


   <p>The
<dfn class="idl-code" data-dfn-for="Document" data-dfn-type="method" data-export="" id="dom-document-adoptnodenode">adoptNode(<var>node</var>)<a class="self-link" href="#dom-document-adoptnodenode"></a></dfn>
method must run these steps:</p>


   <ol>
 
    <li>If <var>node</var> is a
 <a data-link-type="dfn" href="#concept-document">document</a>,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notsupportederror">NotSupportedError</a></code> exception.

 
    <li><a data-link-type="dfn" href="#concept-node-adopt">Adopt</a> <var>node</var>
 into the <a data-link-type="dfn" href="#context-object">context object</a>.

 
    <li>Return <var>node</var>.
</ol>


   <hr>


   <p>The
<dfn class="idl-code" data-dfn-for="Document" data-dfn-type="method" data-export="" id="dom-document-createattributelocalname">createAttribute(<var>localName</var>)<a class="self-link" href="#dom-document-createattributelocalname"></a></dfn>
method, when invoked, must run these steps:</p>


   <ol>
 
    <li>If <var>localName</var> does not match the <code><a class="css" data-link-type="type" href="http://www.w3.org/TR/xml/#NT-name" title="Expands to: ">Name</a></code>
 production in XML, <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> an
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidcharactererror">InvalidCharacterError</a></code> exception.

 
    <li>Return a new <a data-link-type="dfn" href="#concept-attribute">attribute</a> whose
 <a data-link-type="dfn" href="#concept-attribute-local-name">local name</a> is <var>localName</var>.
</ol>


   <p class="note" role="note">Note: This method does not have its input
<a data-link-type="dfn" href="#converted-to-ascii-lowercase">converted to ASCII lowercase</a>.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="Document" data-dfn-type="method" data-export="" id="dom-document-createattributensnamespace-name">createAttributeNS(<var>namespace</var>, <var>name</var>)<a class="self-link" href="#dom-document-createattributensnamespace-name"></a></dfn>
method, when invoked, must run these steps:</p>


   <ol>
 
    <li>Let <var>namespace</var>, <var>prefix</var>, <var>localName</var>, and
 <var>name</var> be the result of passing <var>namespace</var> and <var>name</var> to
 <a data-link-type="dfn" href="#validate-and-extract">validate and extract</a>. Rethrow any exceptions.

 
    <li>Return a new <a data-link-type="dfn" href="#concept-attribute">attribute</a> whose
 <a data-link-type="dfn" href="#concept-attribute-namespace">namespace</a> is <var>namespace</var>,
 <a data-link-type="dfn" href="#concept-attribute-namespace-prefix">namespace prefix</a> is
 <var>prefix</var>, <a data-link-type="dfn" href="#concept-attribute-local-name">local name</a> is
 <var>localName</var>, and <a data-link-type="dfn" href="#concept-attribute-name">name</a> is
 <var>name</var>.
</ol>


   <hr>


   <p>The
<dfn class="idl-code" data-dfn-for="Document" data-dfn-type="method" data-export="" id="dom-document-createeventinterface">createEvent(<var>interface</var>)<a class="self-link" href="#dom-document-createeventinterface"></a></dfn>
method must run these steps:</p>


   <ol>
 
    <li>Let <var>constructor</var> be null.

 
    <li>
  If <var>interface</var> is an
  <a data-link-type="dfn" href="#ascii-case_insensitive">ASCII case-insensitive</a> match for any of the strings in the
  first column in the following table, set <var>constructor</var> to the
  interface in the second column on the same row as the matching string:

  
     <table>
   
      <thead>
    
       <tr>
        <th>String
        <th>Interface
        <td>Notes
   
      <tbody>
    
       <tr>
        <td>"<code>customevent</code>"
        <td><code class="idl"><a data-link-type="idl" href="#customevent">CustomEvent</a></code>
        <td rowspan="4">
    
       <tr>
        <td>"<code>event</code>
        <td rowspan="3"><code class="idl"><a data-link-type="idl" href="#event">Event</a></code>
    
       <tr>
        <td>"<code>events</code>"
    
       <tr>
        <td>"<code>htmlevents</code>"
    
       <tr>
        <td>"<code>keyboardevent</code>"
        <td rowspan="2"><code class="idl"><a data-link-type="idl" href="https://dvcs.w3.org/hg/d4e/raw-file/tip/source_respec.htm#keyboard-event-interface">KeyboardEvent</a></code>
        <td rowspan="2"><a data-link-type="biblio" href="#biblio-uievents">[UIEVENTS]</a>
    
       <tr>
        <td>"<code>keyevents</code>"
    
       <tr>
        <td>"<code>messageevent</code>"
        <td><code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/comms.html#messageevent">MessageEvent</a></code>
        <td><a data-link-type="biblio" href="#biblio-html">[HTML]</a>
    
       <tr>
        <td>"<code>mouseevent</code>"
        <td rowspan="2"><code class="idl"><a data-link-type="idl" href="https://dvcs.w3.org/hg/dom3events/raw-file/tip/html/DOM3-Events.html#interface-mouseevent">MouseEvent</a></code>
        <td rowspan="2"><a data-link-type="biblio" href="#biblio-uievents">[UIEVENTS]</a>
    
       <tr>
        <td>"<code>mouseevents</code>"
    
       <tr>
        <td>"<code>touchevent</code>"
        <td><code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/touch-events/#touchevent-interface">TouchEvent</a></code>
        <td class="XXX">
    
       <tr>
        <td>"<code>uievent</code>"
        <td rowspan="2"><code class="idl"><a data-link-type="idl" href="https://dvcs.w3.org/hg/dom3events/raw-file/tip/html/DOM3-Events.html#interface-uievent">UIEvent</a></code>
        <td rowspan="2"><a data-link-type="biblio" href="#biblio-uievents">[UIEVENTS]</a>
    
       <tr>
        <td>"<code>uievents</code>"
  
     </table>
     
  

 
    <li>If <var>constructor</var> is null, <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notsupportederror">NotSupportedError</a></code>.

 
    <li>Let <var>event</var> be the result of
 <a data-link-type="dfn" href="#concept-event-listener-invoke">invoking</a> the initial value of
 <var>constructor</var> with the empty string as argument.
 

 
    <li>Unset <var>event</var>’s <a data-link-type="dfn" href="#initialized-flag">initialized flag</a>.

 
    <li>Return <var>event</var>.
</ol>


   <p class="note" role="note"><a data-link-type="dfn" href="#concept-event">Event</a> constructors can be used instead.

</p>
   <hr>


   <p>The <dfn class="idl-code" data-dfn-for="Document" data-dfn-type="method" data-export="" id="dom-document-createrange">createRange()<a class="self-link" href="#dom-document-createrange"></a></dfn>
method must return a new <a data-link-type="dfn" href="#concept-range">range</a> with
(<a data-link-type="dfn" href="#context-object">context object</a>, 0) as its
<a data-link-type="dfn" href="#concept-range-start">start</a> and
<a data-link-type="dfn" href="#concept-range-end">end</a>.</p>


   <p class="note" role="note">Note: The <code class="idl"><a data-link-type="idl" href="#dom-range-range">Range()</a></code> constructor can be used instead.</p>


   <hr>


   <p>The
<dfn class="idl-code" data-dfn-for="Document" data-dfn-type="method" data-export="" data-lt="createNodeIterator(root, whatToShow, filter)|createNodeIterator(root, whatToShow)|createNodeIterator(root)" id="dom-document-createnodeiteratorroot-whattoshow-filter">createNodeIterator(<var>root</var>, <var>whatToShow</var>, <var>filter</var>)<a class="self-link" href="#dom-document-createnodeiteratorroot-whattoshow-filter"></a></dfn>
method must run these steps:</p>


   <ol>
 
    <li>Create a <code class="idl"><a data-link-type="idl" href="#nodeiterator">NodeIterator</a></code> object.
 
    <li>Set <a data-link-type="dfn" href="#concept-traversal-root">root</a> and initialize
 the <code class="idl"><a data-link-type="idl" href="#dom-nodeiterator-referencenode">referenceNode</a></code>
 attribute to the <var>root</var> argument.
 
    <li>Initialize the
 <code class="idl"><a data-link-type="idl" href="#dom-nodeiterator-pointerbeforereferencenode">pointerBeforeReferenceNode</a></code>
 attribute to true.
 
    <li>Set <a data-link-type="dfn" href="#concept-traversal-whatToShow">whatToShow</a> to
 the <var>whatToShow</var> argument.
 
    <li>Set <a data-link-type="dfn" href="#concept-traversal-filter">filter</a> to
 <var>filter</var>.
 
    <li>Return the newly created <code class="idl"><a data-link-type="idl" href="#nodeiterator">NodeIterator</a></code> object.
</ol>


   <p>The
<dfn class="idl-code" data-dfn-for="Document" data-dfn-type="method" data-export="" data-lt="createTreeWalker(root, whatToShow, filter)|createTreeWalker(root, whatToShow)|createTreeWalker(root)" id="dom-document-createtreewalkerroot-whattoshow-filter">createTreeWalker(<var>root</var>, <var>whatToShow</var>, <var>filter</var>)<a class="self-link" href="#dom-document-createtreewalkerroot-whattoshow-filter"></a></dfn>
method must run these steps:</p>


   <ol>
 
    <li>Create a <code class="idl"><a data-link-type="idl" href="#treewalker">TreeWalker</a></code> object.
 
    <li>Set <a data-link-type="dfn" href="#concept-traversal-root">root</a> and initialize
 the <code class="idl"><a data-link-type="idl" href="#dom-treewalker-currentnode">currentNode</a></code> attribute to
 the <var>root</var> argument.
 
    <li>Set <a data-link-type="dfn" href="#concept-traversal-whatToShow">whatToShow</a> to
 the <var>whatToShow</var> argument.
 
    <li>Set <a data-link-type="dfn" href="#concept-traversal-filter">filter</a> to
 <var>filter</var>.
 
    <li>Return the newly created <code class="idl"><a data-link-type="idl" href="#treewalker">TreeWalker</a></code> object.
</ol>




   <h4 class="heading settled" data-level="4.5.1" id="interface=domimplementation"><span class="secno">4.5.1. </span><span class="content">
Interface <code class="idl"><a data-link-type="idl" href="#domimplementation">DOMImplementation</a></code></span><a class="self-link" href="#interface%3Ddomimplementation"></a></h4>


   <p>User agents must create a <code class="idl"><a data-link-type="idl" href="#domimplementation">DOMImplementation</a></code> object whenever
a <a data-link-type="dfn" href="#concept-document">document</a> is created and associate it
with that <a data-link-type="dfn" href="#concept-document">document</a>.</p>


   <pre class="idl">[Exposed=Window]
interface <dfn class="idl-code" data-dfn-type="interface" data-export="" data-global-name="" id="domimplementation">DOMImplementation<a class="self-link" href="#domimplementation"></a></dfn> {
  [NewObject] <a data-link-type="idl-name" href="#documenttype">DocumentType</a> <a class="idl-code" data-global-name="DOMImplementation<interface>/createDocumentType(qualifiedName, publicId, systemId)<method>" data-link-type="method" href="#dom-domimplementation-createdocumenttypequalifiedname-publicid-systemid">createDocumentType</a>(DOMString <dfn class="idl-code" data-dfn-for="DOMImplementation/createDocumentType(qualifiedName, publicId, systemId)" data-dfn-type="argument" data-export="" data-global-name="DOMImplementation<interface>/createDocumentType(qualifiedName, publicId, systemId)<method>/qualifiedName<argument>" id="dom-domimplementation-createdocumenttypequalifiedname-publicid-systemid-qualifiedname">qualifiedName<a class="self-link" href="#dom-domimplementation-createdocumenttypequalifiedname-publicid-systemid-qualifiedname"></a></dfn>, DOMString <dfn class="idl-code" data-dfn-for="DOMImplementation/createDocumentType(qualifiedName, publicId, systemId)" data-dfn-type="argument" data-export="" data-global-name="DOMImplementation<interface>/createDocumentType(qualifiedName, publicId, systemId)<method>/publicId<argument>" id="dom-domimplementation-createdocumenttypequalifiedname-publicid-systemid-publicid">publicId<a class="self-link" href="#dom-domimplementation-createdocumenttypequalifiedname-publicid-systemid-publicid"></a></dfn>, DOMString <dfn class="idl-code" data-dfn-for="DOMImplementation/createDocumentType(qualifiedName, publicId, systemId)" data-dfn-type="argument" data-export="" data-global-name="DOMImplementation<interface>/createDocumentType(qualifiedName, publicId, systemId)<method>/systemId<argument>" id="dom-domimplementation-createdocumenttypequalifiedname-publicid-systemid-systemid">systemId<a class="self-link" href="#dom-domimplementation-createdocumenttypequalifiedname-publicid-systemid-systemid"></a></dfn>);
  [NewObject] <a data-link-type="idl-name" href="#xmldocument">XMLDocument</a> <a class="idl-code" data-global-name="DOMImplementation<interface>/createDocument(namespace, qualifiedName, doctype)<method>/createDocument(namespace, qualifiedName)<method>" data-link-type="method" href="#dom-domimplementation-createdocumentnamespace-qualifiedname-doctype">createDocument</a>(DOMString? <dfn class="idl-code" data-dfn-for="DOMImplementation/createDocument(namespace, qualifiedName, doctype)" data-dfn-type="argument" data-export="" data-global-name="DOMImplementation<interface>/createDocument(namespace, qualifiedName, doctype)<method>/namespace<argument>" id="dom-domimplementation-createdocumentnamespace-qualifiedname-doctype-namespace">namespace<a class="self-link" href="#dom-domimplementation-createdocumentnamespace-qualifiedname-doctype-namespace"></a></dfn>, [TreatNullAs=<a data-link-type="idl-name">EmptyString</a>] DOMString <dfn class="idl-code" data-dfn-for="DOMImplementation/createDocument(namespace, qualifiedName, doctype)" data-dfn-type="argument" data-export="" data-global-name="DOMImplementation<interface>/createDocument(namespace, qualifiedName, doctype)<method>/qualifiedName<argument>" id="dom-domimplementation-createdocumentnamespace-qualifiedname-doctype-qualifiedname">qualifiedName<a class="self-link" href="#dom-domimplementation-createdocumentnamespace-qualifiedname-doctype-qualifiedname"></a></dfn>, optional <a data-link-type="idl-name" href="#documenttype">DocumentType</a>? <dfn class="idl-code" data-dfn-for="DOMImplementation/createDocument(namespace, qualifiedName, doctype)" data-dfn-type="argument" data-export="" data-global-name="DOMImplementation<interface>/createDocument(namespace, qualifiedName, doctype)<method>/doctype<argument>" id="dom-domimplementation-createdocumentnamespace-qualifiedname-doctype-doctype">doctype<a class="self-link" href="#dom-domimplementation-createdocumentnamespace-qualifiedname-doctype-doctype"></a></dfn> = null);
  [NewObject] <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document">Document</a> <a class="idl-code" data-global-name="DOMImplementation<interface>/createHTMLDocument(title)<method>/createHTMLDocument()<method>" data-link-type="method" href="#dom-domimplementation-createhtmldocumenttitle">createHTMLDocument</a>(optional DOMString <dfn class="idl-code" data-dfn-for="DOMImplementation/createHTMLDocument(title)" data-dfn-type="argument" data-export="" data-global-name="DOMImplementation<interface>/createHTMLDocument(title)<method>/title<argument>" id="dom-domimplementation-createhtmldocumenttitle-title">title<a class="self-link" href="#dom-domimplementation-createhtmldocumenttitle-title"></a></dfn>);

  boolean <a class="idl-code" data-global-name="DOMImplementation<interface>/hasFeature()<method>" data-link-type="method" href="#dom-domimplementation-hasfeature">hasFeature</a>(); // useless; always returns true
};
</pre>


   <dl class="domintro">
 
    <dt><code><var>doctype</var> = <var>document</var> . <code class="idl"><a data-link-type="idl" href="#dom-document-implementation">implementation</a></code> . <code class="idl"><a data-link-type="idl" href="#dom-domimplementation-createdocumenttypequalifiedname-publicid-systemid">createDocumentType(qualifiedName, publicId, systemId)</a></code></code>

 
    <dd>
  Returns a <a data-link-type="dfn" href="#concept-doctype">doctype</a>, with the given
  <var>qualifiedName</var>, <var>publicId</var>, and
  <var>systemId</var>. If <var>qualifiedName</var> does not
  match the <code><a class="css" data-link-type="type" href="http://www.w3.org/TR/xml/#NT-name" title="Expands to: ">Name</a></code> production, an
  <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidcharactererror">InvalidCharacterError</a></code>
  exception is thrown, and if it does not match the
  <code><a class="css" data-link-type="type" href="http://www.w3.org/TR/xml-names/#NT-qname" title="Expands to: ">QName</a></code> production, a
  <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#namespaceerror">NamespaceError</a></code> exception
  is thrown.

 
    <dt><code><var>doc</var> = <var>document</var> . <code class="idl"><a data-link-type="idl" href="#dom-document-implementation">implementation</a></code> . <a class="idl-code" data-link-type="method" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-domimplementation-createdocument">createDocument(<var>namespace</var>, <var>qualifiedName</var> [, <var>doctype</var> = null])</a></code>

 
    <dd>
  Returns an <code class="idl"><a data-link-type="idl" href="#xmldocument">XMLDocument</a></code>, with a
  <a data-link-type="dfn" href="#document-element">document element</a> whose
  <a data-link-type="dfn" href="#concept-element-local-name">local name</a> is
  <var>qualifiedName</var> and whose
  <a data-link-type="dfn" href="#concept-element-namespace">namespace</a> is
  <var>namespace</var> (unless <var>qualifiedName</var> is the
  empty string), and with <var>doctype</var>, if it is given, as its
  <a data-link-type="dfn" href="#concept-doctype">doctype</a>.


     <p>This method throws the same exceptions as the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document-createelementns">createElementNS()</a></code> method, when
  invoked with the same arguments.</p>
     

 
    <dt><code><var>doc</var> = <var>document</var> . <code class="idl"><a data-link-type="idl" href="#dom-document-implementation">implementation</a></code> . <a data-link-type="functionish" href="#dom-domimplementation-createhtmldocumenttitle">createHTMLDocument([<var>title</var>])</a></code>

 
    <dd>
  Returns a <a data-link-type="dfn" href="#concept-document">document</a>, with a basic
  <a data-link-type="dfn" href="#concept-tree">tree</a> already constructed including a
  <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/semantics.html#the-title-element">title</a></code> element, unless the <var>title</var>
  argument is omitted.
</dl>


   <div class="impl">


    <p>The
<dfn class="idl-code" data-dfn-for="DOMImplementation" data-dfn-type="method" data-export="" id="dom-domimplementation-createdocumenttypequalifiedname-publicid-systemid">createDocumentType(<var>qualifiedName</var>, <var>publicId</var>, <var>systemId</var>)<a class="self-link" href="#dom-domimplementation-createdocumenttypequalifiedname-publicid-systemid"></a></dfn>
method must run these steps:</p>


    <ol>
 
     <li><a data-link-type="dfn" href="#validate">Validate</a> <var>qualifiedName</var>. Rethrow any exceptions.
  
  
 
     <li>Return a new <a data-link-type="dfn" href="#concept-doctype">doctype</a>, with
 <var>qualifiedName</var> as its
 <a data-link-type="dfn" href="#concept-doctype-name">name</a>, <var>publicId</var> as
 its <a data-link-type="dfn" href="#concept-doctype-publicid">public ID</a>, and
 <var>systemId</var> as its
 <a data-link-type="dfn" href="#concept-doctype-systemid">system ID</a>, and with its
 <a data-link-type="dfn" href="#concept-node-document">node document</a> set to the
 associated <a data-link-type="dfn" href="#concept-document">document</a> of the
 <a data-link-type="dfn" href="#context-object">context object</a>.
</ol>
Note: No check is performed that <var>publicId</var>
matches the <code>PublicChar</code> production or that
<var>systemId</var> does not contain both a '<code>"</code>' and
"<code>'</code>".


    <p>The
<dfn class="idl-code" data-dfn-for="DOMImplementation" data-dfn-type="method" data-export="" data-lt="createDocument(namespace, qualifiedName, doctype)|createDocument(namespace, qualifiedName)" id="dom-domimplementation-createdocumentnamespace-qualifiedname-doctype">createDocument(<var>namespace</var>, <var>qualifiedName</var>, <var>doctype</var>)<a class="self-link" href="#dom-domimplementation-createdocumentnamespace-qualifiedname-doctype"></a></dfn>
method must run these steps:</p>


    <ol>
 
     <li>
  Let <var>document</var> be a new <code class="idl"><a data-link-type="idl" href="#xmldocument">XMLDocument</a></code>.


      <p class="note" role="note">Note: This method creates an <code class="idl"><a data-link-type="idl" href="#xmldocument">XMLDocument</a></code> rather than
  a normal <a data-link-type="dfn" href="#concept-document">document</a>. They are identical
  except for the addition of the
  <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dom.html#dom-xmldocument-load">load()</a></code>
  method deployed content relies upon.
  <a data-link-type="biblio" href="#biblio-html">[HTML]</a></p>
      

 
     <li>Let <var>element</var> be null.

 
     <li>If <var>qualifiedName</var> is not the empty string, set
 <var>element</var> to the result of invoking the
 <code class="idl"><a data-link-type="idl" href="#dom-document-createelementnsnamespace-qualifiedname">createElementNS()</a></code> method
 with the arguments <var>namespace</var> and
 <var>qualifiedName</var> on <var>document</var>. Rethrow any exceptions.
 

 
     <li>If <var>doctype</var> is not null,
 <a data-link-type="dfn" href="#concept-node-append">append</a>
 <var>doctype</var> to <var>document</var>.

 
     <li>If <var>element</var> is not null,
 <a data-link-type="dfn" href="#concept-node-append">append</a>
 <var>element</var> to <var>document</var>.

 
     <li><var>document</var>’s
 <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#origin">origin</a> is an
 <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-alias">alias</a> to the
 <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#origin">origin</a> of the
 <a data-link-type="dfn" href="#context-object">context object</a>’s associated
 <a data-link-type="dfn" href="#concept-document">document</a>, and
 <var>document</var>’s
 <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#effective-script-origin">effective script origin</a> is an
 <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-alias">alias</a> to the
 <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#effective-script-origin">effective script origin</a> of the
 <a data-link-type="dfn" href="#context-object">context object</a>’s associated
 <a data-link-type="dfn" href="#concept-document">document</a>.
 <a data-link-type="biblio" href="#biblio-html">[HTML]</a>

 
     <li>Return <var>document</var>.
</ol>


    <p>The
<dfn class="idl-code" data-dfn-for="DOMImplementation" data-dfn-type="method" data-export="" data-lt="createHTMLDocument(title)|createHTMLDocument()" id="dom-domimplementation-createhtmldocumenttitle">createHTMLDocument(<var>title</var>)<a class="self-link" href="#dom-domimplementation-createhtmldocumenttitle"></a></dfn>
method must run these steps:</p>


    <ol>
 
     <li>Let <var>doc</var> be a new
 <a data-link-type="dfn" href="#concept-document">document</a> that is an
 <a data-link-type="dfn" href="#html-document">HTML document</a>.

 
     <li>Set <var>doc</var>’s
 <a data-link-type="dfn" href="#concept-document-content-type">content type</a> to
 "<code>text/html</code>".

 
     <li>Create a <a data-link-type="dfn" href="#concept-doctype">doctype</a>, with
 "<code>html</code>"
 as its <a data-link-type="dfn" href="#concept-doctype-name">name</a> and with its
 <a data-link-type="dfn" href="#concept-node-document">node document</a> set to
 <var>doc</var>. <a data-link-type="dfn" href="#concept-node-append">Append</a>
 the newly created node to <var>doc</var>.

 
     <li>Create an <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/semantics.html#the-html-element">html</a></code> element in the <span>HTML
 namespace</span>, and <a data-link-type="dfn" href="#concept-node-append">append</a>
 it to <var>doc</var>.

 
     <li>Create a <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/semantics.html#the-head-element">head</a></code> element in the <span>HTML
 namespace</span>, and  <a data-link-type="dfn" href="#concept-node-append">append</a>
 it to the <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/semantics.html#the-html-element">html</a></code> element created in the previous step.

 
     <li>
  If the <var>title</var> argument is not omitted:

  
      <ol>
   
       <li>Create a <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/semantics.html#the-title-element">title</a></code> element in the
   <a data-link-type="dfn" href="#html-namespace">HTML namespace</a>, and
   <a data-link-type="dfn" href="#concept-node-append">append</a> it to the
   <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/semantics.html#the-head-element">head</a></code> element created in the previous step.

   
       <li>Create a <code class="idl"><a data-link-type="idl" href="#text">Text</a></code> <a data-link-type="dfn" href="#concept-node">node</a>,
   set its <a data-link-type="dfn" href="#concept-CD-data">data</a> to <var>title</var>
   (which could be the empty string), and
   <a data-link-type="dfn" href="#concept-node-append">append</a> it to the
   <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/semantics.html#the-title-element">title</a></code> element created in the previous step.
  
      </ol>
      

 
     <li>Create a <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/semantics.html#the-body-element">body</a></code> element in the
 <a data-link-type="dfn" href="#html-namespace">HTML namespace</a>, and
 <a data-link-type="dfn" href="#concept-node-append">append</a> it to the
 <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/semantics.html#the-html-element">html</a></code> element created in the earlier step.

 
     <li><var>doc</var>’s
 <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#origin">origin</a> is an
 <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-alias">alias</a> to the
 <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#origin">origin</a> of the
 <a data-link-type="dfn" href="#context-object">context object</a>’s associated
 <a data-link-type="dfn" href="#concept-document">document</a>, and
 <var>doc</var>’s
 <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#effective-script-origin">effective script origin</a> is an
 <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-alias">alias</a> to the
 <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#effective-script-origin">effective script origin</a> of the
 <a data-link-type="dfn" href="#context-object">context object</a>’s associated
 <a data-link-type="dfn" href="#concept-document">document</a>.
 <a data-link-type="biblio" href="#biblio-html">[HTML]</a>

 
     <li>Return <var>doc</var>.
</ol>


    <p>The <dfn class="idl-code" data-dfn-for="DOMImplementation" data-dfn-type="method" data-export="" id="dom-domimplementation-hasfeature">hasFeature()<a class="self-link" href="#dom-domimplementation-hasfeature"></a></dfn> method
must return true.</p>


    <p class="note" role="note">Note: <code class="idl"><a data-link-type="idl" href="#dom-domimplementation-hasfeature">hasFeature()</a></code>
originally would report whether the user agent claimed to support a given DOM
feature, but experience proved it was not nearly as reliable or granular as
simply checking whether the desired objects, attributes, or methods existed.
As such, it should no longer be used, but continues to exist (and simply
returns true) so that old pages don’t stop working.</p>

</div>



   <h3 class="heading settled" data-level="4.6" id="interface-documentfragment"><span class="secno">4.6. </span><span class="content">Interface <code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code></span><a class="self-link" href="#interface-documentfragment"></a></h3>

   <pre class="idl">[<a class="idl-code" data-global-name="DocumentFragment<interface>/DocumentFragment()<constructor>" data-link-type="constructor" href="#dom-documentfragment-documentfragment">Constructor</a>,
 Exposed=Window]
interface <dfn class="idl-code" data-dfn-type="interface" data-export="" data-global-name="" id="documentfragment">DocumentFragment<a class="self-link" href="#documentfragment"></a></dfn> : <a data-link-type="idl-name" href="#node">Node</a> {
};
</pre>


   <p>A <code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code> <a data-link-type="dfn" href="#concept-node">node</a> can have an
associated <a data-link-type="dfn" href="#concept-element">element</a> named
<dfn data-dfn-for="DocumentFragment" data-dfn-type="dfn" data-export="" id="concept-DocumentFragment-host">host<a class="self-link" href="#concept-DocumentFragment-host"></a></dfn>.</p>


   <p>An object <var>A</var> is a
<dfn data-dfn-type="dfn" data-export="" id="concept-tree-host-including-inclusive-ancestor">host-including inclusive ancestor<a class="self-link" href="#concept-tree-host-including-inclusive-ancestor"></a></dfn>
of an object <var>B</var>, if either <var>A</var> is an
<a data-link-type="dfn" href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of
<var>B</var>, or if <var>B</var>’s <a data-link-type="dfn" href="#concept-tree-root">root</a>
has an associated <a data-link-type="dfn" href="#concept-DocumentFragment-host">host</a> and
<var>A</var> is a
<a data-link-type="dfn" href="#concept-tree-host-including-inclusive-ancestor">host-including inclusive ancestor</a>
of <var>B</var>’s <a data-link-type="dfn" href="#concept-tree-root">root</a>’s
<a data-link-type="dfn" href="#concept-DocumentFragment-host">host</a>.</p>


   <p class="note" role="note">Note: The <code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code> <a data-link-type="dfn" href="#concept-node">node</a>’s
<a data-link-type="dfn" href="#concept-DocumentFragment-host">host</a> concept is useful for HTML’s
<code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/scripting.html#the-template-element">template</a></code> element and the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webcomponents/spec/shadow/#the-shadowroot-interface">ShadowRoot</a></code> object and impacts the
<a data-link-type="dfn" href="#concept-node-pre-insert">pre-insert</a> and
<a data-link-type="dfn" href="#concept-node-replace">replace</a> algorithms.</p>




   <dl class="domintro">
 
    <dt><code><var>tree</var> = new <code class="idl"><a data-link-type="idl" href="#dom-documentfragment-documentfragment">DocumentFragment()</a></code></code>
 
    <dd>Returns a new <code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code> <a data-link-type="dfn" href="#concept-node">node</a>.
</dl>


   <p>The <dfn class="idl-code" data-dfn-for="DocumentFragment" data-dfn-type="constructor" data-export="" id="dom-documentfragment-documentfragment">DocumentFragment()<a class="self-link" href="#dom-documentfragment-documentfragment"></a></dfn> constructor
must return a new <code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code> <a data-link-type="dfn" href="#concept-node">node</a> whose
<a data-link-type="dfn" href="#concept-node-document">node document</a> is the global object’s associated
<a data-link-type="dfn" href="#concept-document">document</a>.</p>



   <h3 class="heading settled" data-level="4.7" id="interface-documenttype"><span class="secno">4.7. </span><span class="content">Interface <code class="idl"><a data-link-type="idl" href="#documenttype">DocumentType</a></code></span><a class="self-link" href="#interface-documenttype"></a></h3>


   <pre class="idl">[Exposed=Window]
interface <dfn class="idl-code" data-dfn-type="interface" data-export="" data-global-name="" id="documenttype">DocumentType<a class="self-link" href="#documenttype"></a></dfn> : <a data-link-type="idl-name" href="#node">Node</a> {
  readonly attribute DOMString <a class="idl-code" data-global-name="DocumentType<interface>/name<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-documenttype-name">name</a>;
  readonly attribute DOMString <a class="idl-code" data-global-name="DocumentType<interface>/publicId<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-documenttype-publicid">publicId</a>;
  readonly attribute DOMString <a class="idl-code" data-global-name="DocumentType<interface>/systemId<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-documenttype-systemid">systemId</a>;
};
</pre>


   <p><code class="idl"><a data-link-type="idl" href="#documenttype">DocumentType</a></code> <a data-link-type="dfn" href="#concept-node">nodes</a> are
simply known as <dfn data-dfn-type="dfn" data-export="" data-lt="doctype" id="concept-doctype">doctypes<a class="self-link" href="#concept-doctype"></a></dfn>.</p>


   <p><a data-link-type="dfn" href="#concept-doctype">Doctypes</a> have an associated
<dfn data-dfn-for="DocumentType" data-dfn-type="dfn" data-export="" id="concept-doctype-name">name<a class="self-link" href="#concept-doctype-name"></a></dfn>,
<dfn data-dfn-for="DocumentType" data-dfn-type="dfn" data-export="" id="concept-doctype-publicid">public ID<a class="self-link" href="#concept-doctype-publicid"></a></dfn>, and
<dfn data-dfn-for="DocumentType" data-dfn-type="dfn" data-export="" id="concept-doctype-systemid">system ID<a class="self-link" href="#concept-doctype-systemid"></a></dfn>.</p>


   <p>When a <a data-link-type="dfn" href="#concept-doctype">doctype</a> is created, its
<a data-link-type="dfn" href="#concept-doctype-name">name</a> is always given. Unless
explicitly given when a <a data-link-type="dfn" href="#concept-doctype">doctype</a> is
created, its <a data-link-type="dfn" href="#concept-doctype-publicid">public ID</a> and
<a data-link-type="dfn" href="#concept-doctype-systemid">system ID</a> are the empty string.</p>


   <p>The <dfn class="idl-code" data-dfn-for="DocumentType" data-dfn-type="attribute" data-export="" id="dom-documenttype-name">name<a class="self-link" href="#dom-documenttype-name"></a></dfn> attribute
must return the <a data-link-type="dfn" href="#concept-doctype-name">name</a>.</p>


   <p>The <dfn class="idl-code" data-dfn-for="DocumentType" data-dfn-type="attribute" data-export="" id="dom-documenttype-publicid">publicId<a class="self-link" href="#dom-documenttype-publicid"></a></dfn>
attribute must return the
<a data-link-type="dfn" href="#concept-doctype-publicid">public ID</a>.</p>


   <p>The <dfn class="idl-code" data-dfn-for="DocumentType" data-dfn-type="attribute" data-export="" id="dom-documenttype-systemid">systemId<a class="self-link" href="#dom-documenttype-systemid"></a></dfn>
attribute must return the
<a data-link-type="dfn" href="#concept-doctype-systemid">system ID</a>.</p>




   <h3 class="heading settled" data-level="4.8" id="interface-element"><span class="secno">4.8. </span><span class="content">Interface <code class="idl"><a data-link-type="idl" href="#element">Element</a></code></span><a class="self-link" href="#interface-element"></a></h3>


   <pre class="idl">[Exposed=Window]
interface <dfn class="idl-code" data-dfn-type="interface" data-export="" data-global-name="" id="element">Element<a class="self-link" href="#element"></a></dfn> : <a data-link-type="idl-name" href="#node">Node</a> {
  readonly attribute DOMString? <a class="idl-code" data-global-name="Element<interface>/namespaceURI<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString? " href="#dom-element-namespaceuri">namespaceURI</a>;
  readonly attribute DOMString? <a class="idl-code" data-global-name="Element<interface>/prefix<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString? " href="#dom-element-prefix">prefix</a>;
  readonly attribute DOMString <a class="idl-code" data-global-name="Element<interface>/localName<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-element-localname">localName</a>;
  readonly attribute DOMString <a class="idl-code" data-global-name="Element<interface>/tagName<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-element-tagname">tagName</a>;

           attribute DOMString <a class="idl-code" data-global-name="Element<interface>/id<attribute>" data-link-type="attribute" data-type="DOMString " href="#dom-element-id">id</a>;
           attribute DOMString <a class="idl-code" data-global-name="Element<interface>/className<attribute>" data-link-type="attribute" data-type="DOMString " href="#dom-element-classname">className</a>;
  [SameObject] readonly attribute <a data-link-type="idl-name" href="#domtokenlist">DOMTokenList</a> <a class="idl-code" data-global-name="Element<interface>/classList<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMTokenList " href="#dom-element-classlist">classList</a>;

  boolean <a class="idl-code" data-global-name="Element<interface>/hasAttributes()<method>" data-link-type="method" href="#dom-element-hasattributes">hasAttributes</a>();
  [SameObject] readonly attribute <a data-link-type="idl-name" href="#namednodemap">NamedNodeMap</a> <a class="idl-code" data-global-name="Element<interface>/attributes<attribute>" data-link-type="attribute" data-readonly="" data-type="NamedNodeMap " href="#dom-element-attributes">attributes</a>;
  DOMString? <a class="idl-code" data-global-name="Element<interface>/getAttribute(name)<method>" data-link-type="method" href="#dom-element-getattributename">getAttribute</a>(DOMString <dfn class="idl-code" data-dfn-for="Element/getAttribute(name)" data-dfn-type="argument" data-export="" data-global-name="Element<interface>/getAttribute(name)<method>/name<argument>" id="dom-element-getattributename-name">name<a class="self-link" href="#dom-element-getattributename-name"></a></dfn>);
  DOMString? <a class="idl-code" data-global-name="Element<interface>/getAttributeNS(namespace, localName)<method>" data-link-type="method" href="#dom-element-getattributensnamespace-localname">getAttributeNS</a>(DOMString? <dfn class="idl-code" data-dfn-for="Element/getAttributeNS(namespace, localName)" data-dfn-type="argument" data-export="" data-global-name="Element<interface>/getAttributeNS(namespace, localName)<method>/namespace<argument>" id="dom-element-getattributensnamespace-localname-namespace">namespace<a class="self-link" href="#dom-element-getattributensnamespace-localname-namespace"></a></dfn>, DOMString <dfn class="idl-code" data-dfn-for="Element/getAttributeNS(namespace, localName)" data-dfn-type="argument" data-export="" data-global-name="Element<interface>/getAttributeNS(namespace, localName)<method>/localName<argument>" id="dom-element-getattributensnamespace-localname-localname">localName<a class="self-link" href="#dom-element-getattributensnamespace-localname-localname"></a></dfn>);
  void <a class="idl-code" data-global-name="Element<interface>/setAttribute(name, value)<method>" data-link-type="method" href="#dom-element-setattributename-value">setAttribute</a>(DOMString <dfn class="idl-code" data-dfn-for="Element/setAttribute(name, value)" data-dfn-type="argument" data-export="" data-global-name="Element<interface>/setAttribute(name, value)<method>/name<argument>" id="dom-element-setattributename-value-name">name<a class="self-link" href="#dom-element-setattributename-value-name"></a></dfn>, DOMString <dfn class="idl-code" data-dfn-for="Element/setAttribute(name, value)" data-dfn-type="argument" data-export="" data-global-name="Element<interface>/setAttribute(name, value)<method>/value<argument>" id="dom-element-setattributename-value-value">value<a class="self-link" href="#dom-element-setattributename-value-value"></a></dfn>);
  void <a class="idl-code" data-global-name="Element<interface>/setAttributeNS(namespace, name, value)<method>" data-link-type="method" href="#dom-element-setattributensnamespace-name-value">setAttributeNS</a>(DOMString? <dfn class="idl-code" data-dfn-for="Element/setAttributeNS(namespace, name, value)" data-dfn-type="argument" data-export="" data-global-name="Element<interface>/setAttributeNS(namespace, name, value)<method>/namespace<argument>" id="dom-element-setattributensnamespace-name-value-namespace">namespace<a class="self-link" href="#dom-element-setattributensnamespace-name-value-namespace"></a></dfn>, DOMString <dfn class="idl-code" data-dfn-for="Element/setAttributeNS(namespace, name, value)" data-dfn-type="argument" data-export="" data-global-name="Element<interface>/setAttributeNS(namespace, name, value)<method>/name<argument>" id="dom-element-setattributensnamespace-name-value-name">name<a class="self-link" href="#dom-element-setattributensnamespace-name-value-name"></a></dfn>, DOMString <dfn class="idl-code" data-dfn-for="Element/setAttributeNS(namespace, name, value)" data-dfn-type="argument" data-export="" data-global-name="Element<interface>/setAttributeNS(namespace, name, value)<method>/value<argument>" id="dom-element-setattributensnamespace-name-value-value">value<a class="self-link" href="#dom-element-setattributensnamespace-name-value-value"></a></dfn>);
  void <a class="idl-code" data-global-name="Element<interface>/removeAttribute(name)<method>" data-link-type="method" href="#dom-element-removeattributename">removeAttribute</a>(DOMString <dfn class="idl-code" data-dfn-for="Element/removeAttribute(name)" data-dfn-type="argument" data-export="" data-global-name="Element<interface>/removeAttribute(name)<method>/name<argument>" id="dom-element-removeattributename-name">name<a class="self-link" href="#dom-element-removeattributename-name"></a></dfn>);
  void <a class="idl-code" data-global-name="Element<interface>/removeAttributeNS(namespace, localName)<method>" data-link-type="method" href="#dom-element-removeattributensnamespace-localname">removeAttributeNS</a>(DOMString? <dfn class="idl-code" data-dfn-for="Element/removeAttributeNS(namespace, localName)" data-dfn-type="argument" data-export="" data-global-name="Element<interface>/removeAttributeNS(namespace, localName)<method>/namespace<argument>" id="dom-element-removeattributensnamespace-localname-namespace">namespace<a class="self-link" href="#dom-element-removeattributensnamespace-localname-namespace"></a></dfn>, DOMString <dfn class="idl-code" data-dfn-for="Element/removeAttributeNS(namespace, localName)" data-dfn-type="argument" data-export="" data-global-name="Element<interface>/removeAttributeNS(namespace, localName)<method>/localName<argument>" id="dom-element-removeattributensnamespace-localname-localname">localName<a class="self-link" href="#dom-element-removeattributensnamespace-localname-localname"></a></dfn>);
  boolean <a class="idl-code" data-global-name="Element<interface>/hasAttribute(name)<method>" data-link-type="method" href="#dom-element-hasattributename">hasAttribute</a>(DOMString <dfn class="idl-code" data-dfn-for="Element/hasAttribute(name)" data-dfn-type="argument" data-export="" data-global-name="Element<interface>/hasAttribute(name)<method>/name<argument>" id="dom-element-hasattributename-name">name<a class="self-link" href="#dom-element-hasattributename-name"></a></dfn>);
  boolean <a class="idl-code" data-global-name="Element<interface>/hasAttributeNS(namespace, localName)<method>" data-link-type="method" href="#dom-element-hasattributensnamespace-localname">hasAttributeNS</a>(DOMString? <dfn class="idl-code" data-dfn-for="Element/hasAttributeNS(namespace, localName)" data-dfn-type="argument" data-export="" data-global-name="Element<interface>/hasAttributeNS(namespace, localName)<method>/namespace<argument>" id="dom-element-hasattributensnamespace-localname-namespace">namespace<a class="self-link" href="#dom-element-hasattributensnamespace-localname-namespace"></a></dfn>, DOMString <dfn class="idl-code" data-dfn-for="Element/hasAttributeNS(namespace, localName)" data-dfn-type="argument" data-export="" data-global-name="Element<interface>/hasAttributeNS(namespace, localName)<method>/localName<argument>" id="dom-element-hasattributensnamespace-localname-localname">localName<a class="self-link" href="#dom-element-hasattributensnamespace-localname-localname"></a></dfn>);

  <a data-link-type="idl-name" href="#attr">Attr</a>? <a class="idl-code" data-global-name="Element<interface>/getAttributeNode(name)<method>" data-link-type="method" href="#dom-element-getattributenodename">getAttributeNode</a>(DOMString <dfn class="idl-code" data-dfn-for="Element/getAttributeNode(name)" data-dfn-type="argument" data-export="" data-global-name="Element<interface>/getAttributeNode(name)<method>/name<argument>" id="dom-element-getattributenodename-name">name<a class="self-link" href="#dom-element-getattributenodename-name"></a></dfn>);
  <a data-link-type="idl-name" href="#attr">Attr</a>? <a class="idl-code" data-global-name="Element<interface>/getAttributeNodeNS(namespace, localName)<method>" data-link-type="method" href="#dom-element-getattributenodensnamespace-localname">getAttributeNodeNS</a>(DOMString? <dfn class="idl-code" data-dfn-for="Element/getAttributeNodeNS(namespace, localName)" data-dfn-type="argument" data-export="" data-global-name="Element<interface>/getAttributeNodeNS(namespace, localName)<method>/namespace<argument>" id="dom-element-getattributenodensnamespace-localname-namespace">namespace<a class="self-link" href="#dom-element-getattributenodensnamespace-localname-namespace"></a></dfn>, DOMString <dfn class="idl-code" data-dfn-for="Element/getAttributeNodeNS(namespace, localName)" data-dfn-type="argument" data-export="" data-global-name="Element<interface>/getAttributeNodeNS(namespace, localName)<method>/localName<argument>" id="dom-element-getattributenodensnamespace-localname-localname">localName<a class="self-link" href="#dom-element-getattributenodensnamespace-localname-localname"></a></dfn>);
  <a data-link-type="idl-name" href="#attr">Attr</a>? <a class="idl-code" data-global-name="Element<interface>/setAttributeNode(attr)<method>" data-link-type="method" href="#dom-element-setattributenodeattr">setAttributeNode</a>(<a data-link-type="idl-name" href="#attr">Attr</a> <dfn class="idl-code" data-dfn-for="Element/setAttributeNode(attr)" data-dfn-type="argument" data-export="" data-global-name="Element<interface>/setAttributeNode(attr)<method>/attr<argument>" id="dom-element-setattributenodeattr-attr">attr<a class="self-link" href="#dom-element-setattributenodeattr-attr"></a></dfn>);
  <a data-link-type="idl-name" href="#attr">Attr</a>? <a class="idl-code" data-global-name="Element<interface>/setAttributeNodeNS(attr)<method>" data-link-type="method" href="#dom-element-setattributenodensattr">setAttributeNodeNS</a>(<a data-link-type="idl-name" href="#attr">Attr</a> <dfn class="idl-code" data-dfn-for="Element/setAttributeNodeNS(attr)" data-dfn-type="argument" data-export="" data-global-name="Element<interface>/setAttributeNodeNS(attr)<method>/attr<argument>" id="dom-element-setattributenodensattr-attr">attr<a class="self-link" href="#dom-element-setattributenodensattr-attr"></a></dfn>);
  <a data-link-type="idl-name" href="#attr">Attr</a> <a class="idl-code" data-global-name="Element<interface>/removeAttributeNode(attr)<method>" data-link-type="method" href="#dom-element-removeattributenodeattr">removeAttributeNode</a>(<a data-link-type="idl-name" href="#attr">Attr</a> <dfn class="idl-code" data-dfn-for="Element/removeAttributeNode(attr)" data-dfn-type="argument" data-export="" data-global-name="Element<interface>/removeAttributeNode(attr)<method>/attr<argument>" id="dom-element-removeattributenodeattr-attr">attr<a class="self-link" href="#dom-element-removeattributenodeattr-attr"></a></dfn>);

  <a data-link-type="idl-name" href="#element">Element</a>? <a class="idl-code" data-global-name="Element<interface>/closest(selectors)<method>" data-link-type="method" href="#dom-element-closestselectors">closest</a>(DOMString <dfn class="idl-code" data-dfn-for="Element/closest(selectors)" data-dfn-type="argument" data-export="" data-global-name="Element<interface>/closest(selectors)<method>/selectors<argument>" id="dom-element-closestselectors-selectors">selectors<a class="self-link" href="#dom-element-closestselectors-selectors"></a></dfn>);
  boolean <a class="idl-code" data-global-name="Element<interface>/matches(selectors)<method>" data-link-type="method" href="#dom-element-matchesselectors">matches</a>(DOMString <dfn class="idl-code" data-dfn-for="Element/matches(selectors)" data-dfn-type="argument" data-export="" data-global-name="Element<interface>/matches(selectors)<method>/selectors<argument>" id="dom-element-matchesselectors-selectors">selectors<a class="self-link" href="#dom-element-matchesselectors-selectors"></a></dfn>);

  <a data-link-type="idl-name" href="#htmlcollection">HTMLCollection</a> <a class="idl-code" data-global-name="Element<interface>/getElementsByTagName(localName)<method>" data-link-type="method" href="#dom-element-getelementsbytagnamelocalname">getElementsByTagName</a>(DOMString <dfn class="idl-code" data-dfn-for="Element/getElementsByTagName(localName)" data-dfn-type="argument" data-export="" data-global-name="Element<interface>/getElementsByTagName(localName)<method>/localName<argument>" id="dom-element-getelementsbytagnamelocalname-localname">localName<a class="self-link" href="#dom-element-getelementsbytagnamelocalname-localname"></a></dfn>);
  <a data-link-type="idl-name" href="#htmlcollection">HTMLCollection</a> <a class="idl-code" data-global-name="Element<interface>/getElementsByTagNameNS(namespace, localName)<method>" data-link-type="method" href="#dom-element-getelementsbytagnamensnamespace-localname">getElementsByTagNameNS</a>(DOMString? <dfn class="idl-code" data-dfn-for="Element/getElementsByTagNameNS(namespace, localName)" data-dfn-type="argument" data-export="" data-global-name="Element<interface>/getElementsByTagNameNS(namespace, localName)<method>/namespace<argument>" id="dom-element-getelementsbytagnamensnamespace-localname-namespace">namespace<a class="self-link" href="#dom-element-getelementsbytagnamensnamespace-localname-namespace"></a></dfn>, DOMString <dfn class="idl-code" data-dfn-for="Element/getElementsByTagNameNS(namespace, localName)" data-dfn-type="argument" data-export="" data-global-name="Element<interface>/getElementsByTagNameNS(namespace, localName)<method>/localName<argument>" id="dom-element-getelementsbytagnamensnamespace-localname-localname">localName<a class="self-link" href="#dom-element-getelementsbytagnamensnamespace-localname-localname"></a></dfn>);
  <a data-link-type="idl-name" href="#htmlcollection">HTMLCollection</a> <a class="idl-code" data-global-name="Element<interface>/getElementsByClassName(classNames)<method>" data-link-type="method" href="#dom-element-getelementsbyclassnameclassnames">getElementsByClassName</a>(DOMString <dfn class="idl-code" data-dfn-for="Element/getElementsByClassName(classNames)" data-dfn-type="argument" data-export="" data-global-name="Element<interface>/getElementsByClassName(classNames)<method>/classNames<argument>" id="dom-element-getelementsbyclassnameclassnames-classnames">classNames<a class="self-link" href="#dom-element-getelementsbyclassnameclassnames-classnames"></a></dfn>);
};</pre>



   <p><code class="idl"><a data-link-type="idl" href="#element">Element</a></code> <a data-link-type="dfn" href="#concept-node">nodes</a> are simply
known as <dfn data-dfn-type="dfn" data-export="" data-lt="element" id="concept-element">elements<a class="self-link" href="#concept-element"></a></dfn>.</p>


   <p><a data-link-type="dfn" href="#concept-element">Elements</a> have an associated
<dfn data-dfn-for="Element" data-dfn-type="dfn" data-export="" id="concept-element-namespace">namespace<a class="self-link" href="#concept-element-namespace"></a></dfn>,
<dfn data-dfn-for="Element" data-dfn-type="dfn" data-export="" id="concept-element-namespace-prefix">namespace prefix<a class="self-link" href="#concept-element-namespace-prefix"></a></dfn>, and
<dfn data-dfn-for="Element" data-dfn-type="dfn" data-export="" id="concept-element-local-name">local name<a class="self-link" href="#concept-element-local-name"></a></dfn>. When an
<a data-link-type="dfn" href="#concept-element">element</a> is created, its
<a data-link-type="dfn" href="#concept-element-local-name">local name</a> is always given.
Unless explicitly given when an <a data-link-type="dfn" href="#concept-element">element</a>
is created, its <a data-link-type="dfn" href="#concept-element-namespace">namespace</a> and
<a data-link-type="dfn" href="#concept-element-namespace-prefix">namespace prefix</a> are
null.</p>


   <p><a data-link-type="dfn" href="#concept-element">Elements</a> also have an ordered
<dfn data-dfn-for="Element" data-dfn-type="dfn" data-export="" id="concept-element-attribute">attribute list<a class="self-link" href="#concept-element-attribute"></a></dfn> exposed through a
<code class="idl"><a data-link-type="idl" href="#namednodemap">NamedNodeMap</a></code>. Unless explicitly given when an
<a data-link-type="dfn" href="#concept-element">element</a> is created, its
<a data-link-type="dfn" href="#concept-element-attribute">attribute list</a> is empty. An
<a data-link-type="dfn" href="#concept-element">element</a>
<dfn data-dfn-type="dfn" data-export="" data-lt="has an attribute" id="concept-element-attribute-has">has<a class="self-link" href="#concept-element-attribute-has"></a></dfn> an
<a data-link-type="dfn" href="#concept-attribute">attribute</a> <var>A</var> if
<var>A</var> is in its
<a data-link-type="dfn" href="#concept-element-attribute">attribute list</a>.</p>


   <p><a data-link-type="dfn" href="#other-applicable-specifications">Applicable specifications</a>
and this specification (can) use the hooks an <dfn data-dfn-type="dfn" data-export="" id="attribute-is-set">attribute is set<a class="self-link" href="#attribute-is-set"></a></dfn>,
an <dfn data-dfn-type="dfn" data-export="" id="attribute-is-changed">attribute is changed<a class="self-link" href="#attribute-is-changed"></a></dfn>, an <dfn data-dfn-type="dfn" data-export="" id="attribute-is-added">attribute is added<a class="self-link" href="#attribute-is-added"></a></dfn>, and
an <dfn data-dfn-type="dfn" data-export="" id="attribute-is-removed">attribute is removed<a class="self-link" href="#attribute-is-removed"></a></dfn>, for further processing of the
<a data-link-type="dfn" href="#concept-attribute">attribute</a>’s
<a data-link-type="dfn" href="#concept-attribute-value">value</a>.</p>


   <p>To <dfn data-dfn-type="dfn" data-export="" data-lt="change an attribute" id="concept-element-attributes-change">change<a class="self-link" href="#concept-element-attributes-change"></a></dfn> an
<a data-link-type="dfn" href="#concept-attribute">attribute</a> <var>attribute</var>
from an <a data-link-type="dfn" href="#concept-element">element</a> <var>element</var>
to <var>value</var>, run these steps:</p>


   <ol>
 
    <li><a data-link-type="dfn" href="#queue-a-mutation-record">Queue a mutation record</a> of "<code>attributes</code>"
 for <var>element</var> with name <var>attribute</var>’s
 <a data-link-type="dfn" href="#concept-attribute-local-name">local name</a>, namespace
 <var>attribute</var>’s
 <a data-link-type="dfn" href="#concept-attribute-namespace">namespace</a>, and oldValue
 <var>attribute</var>’s
 <a data-link-type="dfn" href="#concept-attribute-value">value</a>.

 
    <li>Set <var>attribute</var>’s
 <a data-link-type="dfn" href="#concept-attribute-value">value</a> to <var>value</var>.

 
    <li>An <a data-link-type="dfn" href="#attribute-is-set">attribute is set</a> and an
 <a data-link-type="dfn" href="#attribute-is-changed">attribute is changed</a>.
</ol>


   <p>To <dfn data-dfn-type="dfn" data-export="" data-lt="append an attribute" id="concept-element-attributes-append">append<a class="self-link" href="#concept-element-attributes-append"></a></dfn> an
<a data-link-type="dfn" href="#concept-attribute">attribute</a> <var>attribute</var> to
an <a data-link-type="dfn" href="#concept-element">element</a> <var>element</var>,
run these steps:</p>


   <ol>
 
    <li><a data-link-type="dfn" href="#queue-a-mutation-record">Queue a mutation record</a> of "<code>attributes</code>"
 for <var>element</var> with name <var>attribute</var>’s
 <a data-link-type="dfn" href="#concept-attribute-local-name">local name</a>, namespace
 <var>attribute</var>’s
 <a data-link-type="dfn" href="#concept-attribute-namespace">namespace</a>, and oldValue
 null.

 
    <li>Append the <var>attribute</var> to the <var>element</var>’s
 <a data-link-type="dfn" href="#concept-element-attribute">attribute list</a>.

 
    <li>Set <var>attribute</var>’s
 <a data-link-type="dfn" href="#concept-attribute-element">element</a> to <var>element</var>.

 
    <li>An <a data-link-type="dfn" href="#attribute-is-set">attribute is set</a> and an
 <a data-link-type="dfn" href="#attribute-is-added">attribute is added</a>.
</ol>


   <p>To <dfn data-dfn-type="dfn" data-export="" data-lt="remove an attribute" id="concept-element-attributes-remove">remove<a class="self-link" href="#concept-element-attributes-remove"></a></dfn> an
<a data-link-type="dfn" href="#concept-attribute">attribute</a> <var>attribute</var>
from an <a data-link-type="dfn" href="#concept-element">element</a> <var>element</var>,
run these steps:</p>


   <ol>
 
    <li><a data-link-type="dfn" href="#queue-a-mutation-record">Queue a mutation record</a> of "<code>attributes</code>"
 for <var>element</var> with name <var>attribute</var>’s
 <a data-link-type="dfn" href="#concept-attribute-local-name">local name</a>, namespace
 <var>attribute</var>’s
 <a data-link-type="dfn" href="#concept-attribute-namespace">namespace</a>, and oldValue
 <var>attribute</var>’s
 <a data-link-type="dfn" href="#concept-attribute-value">value</a>.

 
    <li>Remove <var>attribute</var> from the
 <var>element</var>’s
 <a data-link-type="dfn" href="#concept-element-attribute">attribute list</a>.

 
    <li>Set <var>attribute</var>’s
 <a data-link-type="dfn" href="#concept-attribute-element">element</a> to null.

 
    <li>An <a data-link-type="dfn" href="#attribute-is-removed">attribute is removed</a>.
</ol>


   <hr>


   <p>To <dfn data-dfn-type="dfn" data-export="" id="concept-element-attributes-get-by-name">get an attribute by name<a class="self-link" href="#concept-element-attributes-get-by-name"></a></dfn>
given a <var>name</var> and <a data-link-type="dfn" href="#concept-element">element</a>
<var>element</var>, run these steps:</p>


   <ol>
 
    <li>If <var>element</var> is in the <a data-link-type="dfn" href="#html-namespace">HTML namespace</a> and its
 <a data-link-type="dfn" href="#concept-node-document">node document</a> is an
 <a data-link-type="dfn" href="#html-document">HTML document</a>, let <var>name</var> be
 <a data-link-type="dfn" href="#converted-to-ascii-lowercase">converted to ASCII lowercase</a>.

 
    <li>Return the first <a data-link-type="dfn" href="#concept-attribute">attribute</a> in
 <var>element</var>’s <a data-link-type="dfn" href="#concept-element-attribute">attribute list</a>
 whose <a data-link-type="dfn" href="#concept-attribute-name">name</a> is <var>name</var>, and null
 otherwise.
</ol>


   <p>To <dfn data-dfn-type="dfn" data-export="" id="concept-element-attributes-get-by-namespace">get an attribute by namespace and local name<a class="self-link" href="#concept-element-attributes-get-by-namespace"></a></dfn>
given a <var>namespace</var>, <var>localName</var>, and
<a data-link-type="dfn" href="#concept-element">element</a> <var>element</var>, run these steps:</p>


   <ol>
 
    <li>If <var>namespace</var> is the empty string, set it to null.

 
    <li>Return the <a data-link-type="dfn" href="#concept-attribute">attribute</a> in
 <var>element</var>’s <a data-link-type="dfn" href="#concept-element-attribute">attribute list</a>
 whose <a data-link-type="dfn" href="#concept-attribute-namespace">namespace</a> is
 <var>namespace</var> and
 <a data-link-type="dfn" href="#concept-attribute-local-name">local name</a> is
 <var>localName</var>, if any, and null otherwise.
</ol>


   <p>To <dfn data-dfn-type="dfn" data-export="" id="concept-element-attributes-set">set an attribute<a class="self-link" href="#concept-element-attributes-set"></a></dfn> given an
<a data-link-type="dfn" href="#concept-attribute">attribute</a> <var>attr</var>,
<a data-link-type="dfn" href="#concept-element">element</a> <var>element</var>, and optionally a
<i>namespace and local name flag</i>, run these steps:</p>


   <ol>
 
    <li>If <var>attr</var>’s <a data-link-type="dfn" href="#concept-attribute-element">element</a> is
 neither null nor <var>element</var>, <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> an
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#inuseattributeerror">InUseAttributeError</a></code>.

 
    <li>Let <var>oldAttr</var> be null.

 
    <li>If the <i>namespace and local name flag</i> is set, set <var>oldAttr</var>
 to the result of
 <a data-link-type="dfn" href="#concept-element-attributes-get-by-namespace">getting an attribute</a>
 given <var>attr</var>’s <a data-link-type="dfn" href="#concept-attribute-namespace">namespace</a>,
 <var>attr</var>’s <a data-link-type="dfn" href="#concept-attribute-local-name">local name</a>, and
 <var>element</var>.

 
    <li>
  Otherwise, set <var>oldAttr</var> to the result of
  <a data-link-type="dfn" href="#concept-element-attributes-get-by-name">getting an attribute</a> given
  <var>attr</var>’s <a data-link-type="dfn" href="#concept-attribute-name">name</a> and
  <var>element</var>.

  
     <p class="note no-backref" role="note">The result of this is that an
  <a data-link-type="dfn" href="#concept-attribute">attribute</a> on an
  <a data-link-type="dfn" href="#concept-element">element</a> with an <a data-link-type="dfn" href="#html-namespace">HTML namespace</a> in an
  <a data-link-type="dfn" href="#html-document">HTML document</a> can be replaced with another
  <a data-link-type="dfn" href="#concept-attribute">attribute</a> whose
  <a data-link-type="dfn" href="#concept-attribute-name">name</a> is only an
  <a data-link-type="dfn" href="#ascii-case_insensitive">ASCII case-insensitive</a> match. We do not care, because nobody ought to be
  working with <a data-link-type="dfn" href="#concept-attribute">attributes</a> in this way.

 </p>
    <li>If <var>oldAttr</var> is <var>attr</var>, return <var>attr</var>.

 
    <li>If <var>oldAttr</var> is non-null,
 <a data-link-type="dfn" href="#concept-element-attributes-remove">remove</a> it from
 <var>element</var>.

 
    <li><a data-link-type="dfn" href="#concept-element-attributes-append">Append</a> <var>attr</var>
 to <var>element</var>.

 
    <li>Return <var>oldAttr</var>.
</ol>


   <p>To <dfn data-dfn-type="dfn" data-export="" id="concept-element-attributes-set-value">set an attribute value<a class="self-link" href="#concept-element-attributes-set-value"></a></dfn> for
an <a data-link-type="dfn" href="#concept-element">element</a> <var>element</var>
using a <var>localName</var> and <var>value</var>, and
optionally a <var>name</var>, <var>prefix</var>, and
<var>namespace</var>, run these steps:</p>


   <ol>
 
    <li>If <var>name</var> is not given, set it to <var>localName</var>.

 
    <li>If <var>prefix</var> is not given, set it to null.

 
    <li>If <var>namespace</var> is not given, set it to null.

 
    <li>Let <var>attribute</var> be the result of
 <a data-link-type="dfn" href="#concept-element-attributes-get-by-namespace">getting an attribute</a> given
 <var>namespace</var>, <var>localName</var>, and <var>element</var>.

 
    <li>If <var>attribute</var> is null, create an
 <a data-link-type="dfn" href="#concept-attribute">attribute</a> whose
 <a data-link-type="dfn" href="#concept-attribute-namespace">namespace</a> is <var>namespace</var>,
 <a data-link-type="dfn" href="#concept-attribute-namespace-prefix">namespace prefix</a> is
 <var>prefix</var>, <a data-link-type="dfn" href="#concept-attribute-local-name">local name</a> is
 <var>localName</var>, <a data-link-type="dfn" href="#concept-attribute-name">name</a> is <var>name</var>,
 and <a data-link-type="dfn" href="#concept-attribute-value">value</a> is <var>value</var>, and then
 <a data-link-type="dfn" href="#concept-element-attributes-append">append</a> this
 <a data-link-type="dfn" href="#concept-attribute">attribute</a> to <var>element</var>
 and terminate these steps.

 
    <li><a data-link-type="dfn" href="#concept-element-attributes-change">Change</a>
 <var>attribute</var> from <var>element</var> to
 <var>value</var>.
</ol>


   <p>To
<dfn data-dfn-type="dfn" data-export="" id="concept-element-attributes-remove-by-name">remove an attribute by name<a class="self-link" href="#concept-element-attributes-remove-by-name"></a></dfn>
given a <var>name</var> and <a data-link-type="dfn" href="#concept-element">element</a>
<var>element</var>, run these steps:</p>


   <ol>
 
    <li>Let <var>attr</var> be the result of
 <a data-link-type="dfn" href="#concept-element-attributes-get-by-name">getting an attribute</a> given
 <var>name</var> and <var>element</var>.

 
    <li>If <var>attr</var> is non-null,
 <a data-link-type="dfn" href="#concept-element-attributes-remove">remove</a> it from
 <var>element</var>.

 
    <li>Return <var>attr</var>.
</ol>


   <p>To
<dfn data-dfn-type="dfn" data-export="" id="concept-element-attributes-remove-by-namespace">remove an attribute by namespace and local name<a class="self-link" href="#concept-element-attributes-remove-by-namespace"></a></dfn>
given a <var>namespace</var>, <var>localName</var>, and
<a data-link-type="dfn" href="#concept-element">element</a> <var>element</var>, run these steps:</p>


   <ol>
 
    <li>Let <var>attr</var> be the result of
 <a data-link-type="dfn" href="#concept-element-attributes-get-by-namespace">getting an attribute</a> given
 <var>namespace</var>, <var>localName</var>, and <var>element</var>.

 
    <li>If <var>attr</var> is non-null,
 <a data-link-type="dfn" href="#concept-element-attributes-remove">remove</a> it from
 <var>element</var>.

 
    <li>Return <var>attr</var>.
</ol>


   <hr>


   <p><a data-link-type="dfn" href="#concept-element">Elements</a> can have an associated
<dfn data-dfn-for="Element" data-dfn-type="dfn" data-export="" data-lt="ID" id="concept-id">unique identifier (ID)<a class="self-link" href="#concept-id"></a></dfn> and have an associated
<code class="idl"><a data-link-type="idl" href="#domtokenlist">DOMTokenList</a></code> object. The <code class="idl"><a data-link-type="idl" href="#domtokenlist">DOMTokenList</a></code> object’s
associated <a data-link-type="dfn" href="#concept-attribute">attribute</a>’s
<a data-link-type="dfn" href="#concept-attribute-local-name">local name</a> is
<code>class</code> and its associated ordered set of tokens is called
the <a data-link-type="dfn" href="#concept-element">element</a>’s
<dfn data-dfn-for="Element" data-dfn-type="dfn" data-export="" data-lt="class" id="concept-class">classes<a class="self-link" href="#concept-class"></a></dfn>.</p>


   <p class="note" role="note">Note: Historically <a data-link-type="dfn" href="#concept-element">elements</a> could
have multiple identifiers e.g. by using the HTML <code>id</code>
<a data-link-type="dfn" href="#concept-attribute">attribute</a> and a DTD. This specification
makes <a data-link-type="dfn" href="#concept-id">ID</a> a concept of the DOM and allows for
only one per <a data-link-type="dfn" href="#concept-element">element</a>, given by an
<a data-link-type="dfn" href="#concept-named-attribute"><code>id</code> attribute</a>.</p>


   <p>Either when an <a data-link-type="dfn" href="#concept-element">element</a> is created that
<a data-link-type="dfn" href="#concept-element-attribute-has">has</a> an
<a data-link-type="dfn" href="#concept-named-attribute"><code>id</code> attribute</a> whose
<a data-link-type="dfn" href="#concept-attribute-value">value</a> is not the empty string or
when an <a data-link-type="dfn" href="#concept-element">element</a>’s
<a data-link-type="dfn" href="#concept-named-attribute"><code>id</code> attribute</a> is
<a data-link-type="dfn" href="#attribute-is-set">set</a> to a
<a data-link-type="dfn" href="#concept-attribute-value">value</a> other than the empty
string, set the <a data-link-type="dfn" href="#concept-element">element</a>’s
<a data-link-type="dfn" href="#concept-id">ID</a> to the new
<a data-link-type="dfn" href="#concept-attribute-value">value</a>.</p>


   <p>When an <a data-link-type="dfn" href="#concept-element">element</a>’s
<a data-link-type="dfn" href="#concept-named-attribute"><code>id</code> attribute</a> is
<a data-link-type="dfn" href="#attribute-is-removed">removed</a> or
<a data-link-type="dfn" href="#attribute-is-set">set</a> to the empty string, unset the
<a data-link-type="dfn" href="#concept-element">element</a>’s
<a data-link-type="dfn" href="#concept-id">ID</a>.</p>


   <p>Either when an <a data-link-type="dfn" href="#concept-element">element</a> is created that
<a data-link-type="dfn" href="#concept-element-attribute-has">has</a> a
<a data-link-type="dfn" href="#concept-named-attribute"><code>class</code> attribute</a> or
when an <a data-link-type="dfn" href="#concept-element">element</a>’s
<a data-link-type="dfn" href="#concept-named-attribute"><code>class</code> attribute</a> is
<a data-link-type="dfn" href="#attribute-is-set">set</a>, set the
<a data-link-type="dfn" href="#concept-element">element</a>’s
<a data-link-type="dfn" href="#concept-class">classes</a> to the new
<a data-link-type="dfn" href="#concept-attribute-value">value</a>,
<a data-link-type="dfn" href="#concept-ordered-set-parser">parsed</a>.</p>


   <p>When an <a data-link-type="dfn" href="#concept-element">element</a>’s
<a data-link-type="dfn" href="#concept-named-attribute"><code>class</code> attribute</a> is
<a data-link-type="dfn" href="#attribute-is-removed">removed</a>, set the
<a data-link-type="dfn" href="#concept-element">element</a>’s
<a data-link-type="dfn" href="#concept-class">classes</a> to the empty set.</p>


   <p class="note" role="note">Note: While this specification defines user agent processing
requirements for <code>id</code> and <code>class</code>
<a data-link-type="dfn" href="#concept-attribute">attributes</a> on any
<a data-link-type="dfn" href="#concept-element">element</a>, it makes no claims as to whether
using them is conforming or not.</p>


   <hr>


   <p>A <a data-link-type="dfn" href="#concept-node">node</a>’s
<a data-link-type="dfn" href="#concept-tree-parent">parent</a> of type
<code class="idl"><a data-link-type="idl" href="#element">Element</a></code> is known as a <dfn data-dfn-type="dfn" data-export="" id="parent-element">parent element<a class="self-link" href="#parent-element"></a></dfn>. If the
<a data-link-type="dfn" href="#concept-node">node</a> has a
<a data-link-type="dfn" href="#concept-tree-parent">parent</a> of a different type, its
<a data-link-type="dfn" href="#parent-element">parent element</a> is null.</p>


   <p>The <dfn data-dfn-type="dfn" data-export="" id="document-element">document element<a class="self-link" href="#document-element"></a></dfn> of a
<a data-link-type="dfn" href="#concept-document">document</a> is the
<a data-link-type="dfn" href="#concept-element">element</a> whose
<a data-link-type="dfn" href="#concept-tree-parent">parent</a> is that
<a data-link-type="dfn" href="#concept-document">document</a>, if it exists, and null otherwise.</p>


   <p class="note" role="note">Note: Per the <a data-link-type="dfn" href="#concept-node-tree">node tree</a>
constraints, there can only be one such
<a data-link-type="dfn" href="#concept-element">element</a>.</p>


   <p>When an <a data-link-type="dfn" href="#concept-element">element</a> or one of its
<a data-link-type="dfn" href="#concept-tree-ancestor">ancestors</a> is the
<a data-link-type="dfn" href="#document-element">document element</a>, it is <dfn data-dfn-type="dfn" data-export="" id="in-a-document">in a document<a class="self-link" href="#in-a-document"></a></dfn>.</p>


   <hr>


   <dl class="domintro">
 
    <dt><var>namespace</var> = <var>element</var> . <code class="idl"><a data-link-type="idl" href="#dom-element-namespaceuri">namespaceURI</a></code>
 
    <dd>Returns the <a data-link-type="dfn" href="#concept-element-namespace">namespace</a>.

 
    <dt><var>prefix</var> = <var>element</var> . <code class="idl"><a data-link-type="idl" href="#dom-element-prefix">prefix</a></code>
 
    <dd>Returns the
 <a data-link-type="dfn" href="#concept-element-namespace-prefix">namespace prefix</a>.

 
    <dt><var>localName</var> = <var>element</var> . <code class="idl"><a data-link-type="idl" href="#dom-element-localname">localName</a></code>
 
    <dd>Returns the
 <a data-link-type="dfn" href="#concept-element-local-name">local name</a>.

 
    <dt><var>qualifiedName</var> = <var>element</var> . <code class="idl"><a data-link-type="idl" href="#dom-element-tagname">tagName</a></code>
 
    <dd>If
 <a data-link-type="dfn" href="#concept-element-namespace-prefix">namespace prefix</a> is not
 null, returns the concatenation of
 <a data-link-type="dfn" href="#concept-element-namespace-prefix">namespace prefix</a>,
 "<code>:</code>", and
 <a data-link-type="dfn" href="#concept-element-local-name">local name</a>. Otherwise it
 returns the <a data-link-type="dfn" href="#concept-element-local-name">local name</a>.
 (The return value is uppercased in an <a data-link-type="dfn" href="#html-document">HTML document</a>.)
</dl>


   <p>The <dfn class="idl-code" data-dfn-for="Element" data-dfn-type="attribute" data-export="" id="dom-element-namespaceuri">namespaceURI<a class="self-link" href="#dom-element-namespaceuri"></a></dfn>
attribute must return the <a data-link-type="dfn" href="#context-object">context object</a>’s
<a data-link-type="dfn" href="#concept-element-namespace">namespace</a>.</p>


   <p>The <dfn class="idl-code" data-dfn-for="Element" data-dfn-type="attribute" data-export="" id="dom-element-prefix">prefix<a class="self-link" href="#dom-element-prefix"></a></dfn> attribute must return the <a data-link-type="dfn" href="#context-object">context object</a>’s
<a data-link-type="dfn" href="#concept-element-namespace-prefix">namespace prefix</a>.</p>


   <p>The <dfn class="idl-code" data-dfn-for="Element" data-dfn-type="attribute" data-export="" id="dom-element-localname">localName<a class="self-link" href="#dom-element-localname"></a></dfn>
attribute must return the <a data-link-type="dfn" href="#context-object">context object</a>’s
<a data-link-type="dfn" href="#concept-element-local-name">local name</a>.</p>


   <p>The <dfn class="idl-code" data-dfn-for="Element" data-dfn-type="attribute" data-export="" id="dom-element-tagname">tagName<a class="self-link" href="#dom-element-tagname"></a></dfn> attribute
must run these steps:</p>

   <ol>
 
    <li>If <a data-link-type="dfn" href="#context-object">context object</a>’s
 <a data-link-type="dfn" href="#concept-element-namespace-prefix">namespace prefix</a> is not
 null, let <var>qualified name</var> be its
 <a data-link-type="dfn" href="#concept-element-namespace-prefix">namespace prefix</a>, followed
 by a "<code>:</code>" (U+003A), followed by its
 <a data-link-type="dfn" href="#concept-element-local-name">local name</a>. Otherwise, let
 <var>qualified name</var> be its
 <a data-link-type="dfn" href="#concept-element-local-name">local name</a>.

 
    <li>If the <a data-link-type="dfn" href="#context-object">context object</a> is in the <a data-link-type="dfn" href="#html-namespace">HTML namespace</a> and
 its <a data-link-type="dfn" href="#concept-node-document">node document</a> is an
 <a data-link-type="dfn" href="#html-document">HTML document</a>, let <var>qualified name</var> be
 <span>converted to ASCII uppercase</span>.

 
    <li>Return <var>qualified name</var>.
</ol>


   <hr>


   <p>Some IDL attributes are defined to <dfn data-dfn-for="Attr" data-dfn-type="dfn" data-export="" id="concept-reflect">reflect<a class="self-link" href="#concept-reflect"></a></dfn> a content
<a data-link-type="dfn" href="#concept-attribute">attribute</a> of a given <var>name</var>. This
means that on getting, these steps must be run:</p>


   <ol>
 
    <li>Let <var>attr</var> be the result of
 <a data-link-type="dfn" href="#concept-element-attributes-get-by-namespace">getting an attribute</a>
 given null, <var>name</var>, and the <a data-link-type="dfn" href="#context-object">context object</a>.

 
    <li>If <var>attr</var> is null, return the empty string.

 
    <li>Return <var>attr</var>’s <a data-link-type="dfn" href="#concept-attribute-value">value</a>.
</ol>


   <p>On setting,
<a data-link-type="dfn" href="#concept-element-attributes-set-value">set an attribute value</a> for the
<a data-link-type="dfn" href="#context-object">context object</a> using <var>name</var> and the given value.</p>


   <p>The <dfn class="idl-code" data-dfn-for="Element" data-dfn-type="attribute" data-export="" id="dom-element-id">id<a class="self-link" href="#dom-element-id"></a></dfn> attribute must
<a data-link-type="dfn" href="#concept-reflect">reflect</a> the "<code>id</code>"
content attribute.</p>


   <p>The <dfn class="idl-code" data-dfn-for="Element" data-dfn-type="attribute" data-export="" id="dom-element-classname">className<a class="self-link" href="#dom-element-classname"></a></dfn>
attribute must <a data-link-type="dfn" href="#concept-reflect">reflect</a> the
"<code>class</code>" content attribute.</p>


   <p>The <dfn class="idl-code" data-dfn-for="Element" data-dfn-type="attribute" data-export="" id="dom-element-classlist">classList<a class="self-link" href="#dom-element-classlist"></a></dfn>
attribute must return the associated <code class="idl"><a data-link-type="idl" href="#domtokenlist">DOMTokenList</a></code> object
representing the <a data-link-type="dfn" href="#context-object">context object</a>’s
<a data-link-type="dfn" href="#concept-class">classes</a>.</p>


   <hr>




   <p>The <dfn class="idl-code" data-dfn-for="Element" data-dfn-type="method" data-export="" id="dom-element-hasattributes">hasAttributes()<a class="self-link" href="#dom-element-hasattributes"></a></dfn> method,
when invoked, must return false if <a data-link-type="dfn" href="#context-object">context object</a>’s
<a data-link-type="dfn" href="#concept-element-attribute">attribute list</a> is empty, and true
otherwise.</p>


   <p>The <dfn class="idl-code" data-dfn-for="Element" data-dfn-type="attribute" data-export="" id="dom-element-attributes">attributes<a class="self-link" href="#dom-element-attributes"></a></dfn>
attribute must return the associated <code class="idl"><a data-link-type="idl" href="#namednodemap">NamedNodeMap</a></code>.</p>


   <p>The <dfn class="idl-code" data-dfn-for="Element" data-dfn-type="method" data-export="" id="dom-element-getattributename">getAttribute(<var>name</var>)<a class="self-link" href="#dom-element-getattributename"></a></dfn> method must run these steps:</p>

   <ol>
 
    <li>Let <var>attr</var> be the result of
 <a data-link-type="dfn" href="#concept-element-attributes-get-by-name">getting an attribute</a> given
 <var>name</var> and the <a data-link-type="dfn" href="#context-object">context object</a>.

 
    <li>If <var>attr</var> is null, return null.

 
    <li>Return <var>attr</var>’s <a data-link-type="dfn" href="#concept-attribute-value">value</a>.
</ol>


   <p>The
<dfn class="idl-code" data-dfn-for="Element" data-dfn-type="method" data-export="" id="dom-element-getattributensnamespace-localname">getAttributeNS(<var>namespace</var>, <var>localName</var>)<a class="self-link" href="#dom-element-getattributensnamespace-localname"></a></dfn>
method must run the following steps:</p>


   <ol>
  
    <li>Let <var>attr</var> be the result of
  <a data-link-type="dfn" href="#concept-element-attributes-get-by-namespace">getting an attribute</a>
  given <var>namespace</var>, <var>localName</var>, and the
  <a data-link-type="dfn" href="#context-object">context object</a>.

  
    <li>If <var>attr</var> is null, return null.

  
    <li>Return <var>attr</var>’s <a data-link-type="dfn" href="#concept-attribute-value">value</a>.
</ol>


   <p>The
<dfn class="idl-code" data-dfn-for="Element" data-dfn-type="method" data-export="" id="dom-element-setattributename-value">setAttribute(<var>name</var>, <var>value</var>)<a class="self-link" href="#dom-element-setattributename-value"></a></dfn>
method must run these steps:</p>


   <ol>
 
    <li>If <var>name</var> does not match the
 <code><a class="css" data-link-type="type" href="http://www.w3.org/TR/xml/#NT-name" title="Expands to: ">Name</a></code> production in XML,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> an
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidcharactererror">InvalidCharacterError</a></code> exception.

 
    <li>If the <a data-link-type="dfn" href="#context-object">context object</a> is in the <a data-link-type="dfn" href="#html-namespace">HTML namespace</a> and its
 <a data-link-type="dfn" href="#concept-node-document">node document</a> is an <a data-link-type="dfn" href="#html-document">HTML document</a>, let <var>name</var> be
 <a data-link-type="dfn" href="#converted-to-ascii-lowercase">converted to ASCII lowercase</a>.

 
    <li>Let <var>attribute</var> be the result of
 <a data-link-type="dfn" href="#concept-element-attributes-get-by-name">getting an attribute</a> given
 <var>name</var> and the <a data-link-type="dfn" href="#context-object">context object</a>.

 
    <li>If <var>attribute</var> is null, create an
 <a data-link-type="dfn" href="#concept-attribute">attribute</a> whose
 <a data-link-type="dfn" href="#concept-attribute-local-name">local name</a> is <var>name</var> and
 <a data-link-type="dfn" href="#concept-attribute-value">value</a> is <var>value</var>,
 <a data-link-type="dfn" href="#concept-element-attributes-append">append</a> this
 <a data-link-type="dfn" href="#concept-attribute">attribute</a> to the <a data-link-type="dfn" href="#context-object">context object</a>’s
 <a data-link-type="dfn" href="#concept-element-attribute">attribute list</a>, and then terminate these
 steps.

 
    <li><a data-link-type="dfn" href="#concept-element-attributes-change">Change</a>
 <var>attribute</var> from <a data-link-type="dfn" href="#context-object">context object</a> to
 <var>value</var>.
</ol>


   <p>The
<dfn class="idl-code" data-dfn-for="Element" data-dfn-type="method" data-export="" id="dom-element-setattributensnamespace-name-value">setAttributeNS(<var>namespace</var>, <var>name</var>, <var>value</var>)<a class="self-link" href="#dom-element-setattributensnamespace-name-value"></a></dfn>
method must run these steps:</p>


   <ol>
 
    <li>Let <var>namespace</var>, <var>prefix</var>, <var>localName</var>, and
 <var>name</var> be the result of passing <var>namespace</var> and <var>name</var> to
 <a data-link-type="dfn" href="#validate-and-extract">validate and extract</a>. Rethrow any exceptions.

 
    <li><a data-link-type="dfn" href="#concept-element-attributes-set-value">Set an attribute value</a>
 for the <a data-link-type="dfn" href="#context-object">context object</a> using
 <var>localName</var>, <var>value</var>, and also
 <var>name</var>, <var>prefix</var>, and
 <var>namespace</var>.
</ol>


   <p>The
<dfn class="idl-code" data-dfn-for="Element" data-dfn-type="method" data-export="" id="dom-element-removeattributename">removeAttribute(<var>name</var>)<a class="self-link" href="#dom-element-removeattributename"></a></dfn>
method must
<a data-link-type="dfn" href="#concept-element-attributes-remove-by-name">remove an attribute</a> given
<var>name</var> and the <a data-link-type="dfn" href="#context-object">context object</a>, and then return undefined.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="Element" data-dfn-type="method" data-export="" id="dom-element-removeattributensnamespace-localname">removeAttributeNS(<var>namespace</var>, <var>localName</var>)<a class="self-link" href="#dom-element-removeattributensnamespace-localname"></a></dfn>
method must
<a data-link-type="dfn" href="#concept-element-attributes-remove-by-namespace">remove an attribute</a>
given <var>namespace</var>, <var>localName</var>, and the
<a data-link-type="dfn" href="#context-object">context object</a>, and then return undefined.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="Element" data-dfn-type="method" data-export="" id="dom-element-hasattributename">hasAttribute(<var>name</var>)<a class="self-link" href="#dom-element-hasattributename"></a></dfn>
method must run these steps:</p>

   <ol>
 
    <li>If the <a data-link-type="dfn" href="#context-object">context object</a> is in the
 <a data-link-type="dfn" href="#html-namespace">HTML namespace</a> and its
 <a data-link-type="dfn" href="#concept-node-document">node document</a> is an
 <a data-link-type="dfn" href="#html-document">HTML document</a>, let <var>name</var> be
 <a data-link-type="dfn" href="#converted-to-ascii-lowercase">converted to ASCII lowercase</a>.

 
    <li>Return true if the <a data-link-type="dfn" href="#context-object">context object</a>
 <a data-link-type="dfn" href="#concept-element-attribute-has">has</a> an
 <a data-link-type="dfn" href="#concept-attribute">attribute</a> whose
 <a data-link-type="dfn" href="#concept-attribute-name">name</a> is
 <var>name</var>, and false otherwise.
</ol>


   <p>The
<dfn class="idl-code" data-dfn-for="Element" data-dfn-type="method" data-export="" id="dom-element-hasattributensnamespace-localname">hasAttributeNS(<var>namespace</var>, <var>localName</var>)<a class="self-link" href="#dom-element-hasattributensnamespace-localname"></a></dfn>
method must run these steps:</p>


   <ol>
 
    <li>If <var>namespace</var> is the empty string, set it to null.

 
    <li>Return true if the <a data-link-type="dfn" href="#context-object">context object</a>
 <a data-link-type="dfn" href="#concept-element-attribute-has">has</a> an
 <a data-link-type="dfn" href="#concept-attribute">attribute</a> whose
 <a data-link-type="dfn" href="#concept-attribute-namespace">namespace</a> is <var>namespace</var>
 and <a data-link-type="dfn" href="#concept-attribute-local-name">local name</a> is
 <var>localName</var>, and false otherwise.
</ol>


   <hr>


   <p>The
<dfn class="idl-code" data-dfn-for="Element" data-dfn-type="method" data-export="" id="dom-element-getattributenodename">getAttributeNode(<var>name</var>)<a class="self-link" href="#dom-element-getattributenodename"></a></dfn>
method, when invoked, must return the result of
<a data-link-type="dfn" href="#concept-element-attributes-get-by-name">getting an attribute</a> given
<var>name</var> and the <a data-link-type="dfn" href="#context-object">context object</a>.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="Element" data-dfn-type="method" data-export="" id="dom-element-getattributenodensnamespace-localname">getAttributeNodeNS(<var>namespace</var>, <var>localName</var>)<a class="self-link" href="#dom-element-getattributenodensnamespace-localname"></a></dfn>
method, when invoked, must return the result of
<a data-link-type="dfn" href="#concept-element-attributes-get-by-namespace">getting an attribute</a> given
<var>namespace</var>, <var>localName</var>, and the <a data-link-type="dfn" href="#context-object">context object</a>.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="Element" data-dfn-type="method" data-export="" id="dom-element-setattributenodeattr">setAttributeNode(<var>attr</var>)<a class="self-link" href="#dom-element-setattributenodeattr"></a></dfn>
method, when invoked, must return the result of
<a data-link-type="dfn" href="#concept-element-attributes-set">setting an attribute</a> given
<var>attr</var> and the <a data-link-type="dfn" href="#context-object">context object</a>. Rethrow any exceptions.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="Element" data-dfn-type="method" data-export="" id="dom-element-setattributenodensattr">setAttributeNodeNS(<var>attr</var>)<a class="self-link" href="#dom-element-setattributenodensattr"></a></dfn>
method, when invoked, must return the result of
<a data-link-type="dfn" href="#concept-element-attributes-set">setting an attribute</a> given
<var>attr</var>, the <a data-link-type="dfn" href="#context-object">context object</a>, and
<i>namespace and local name flag</i> set. Rethrow any exceptions.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="Element" data-dfn-type="method" data-export="" id="dom-element-removeattributenodeattr">removeAttributeNode(<var>attr</var>)<a class="self-link" href="#dom-element-removeattributenodeattr"></a></dfn>
method, when invoked, must run these steps:</p>


   <ol>
 
    <li>If <var>attr</var> is not in <a data-link-type="dfn" href="#context-object">context object</a>’s
 <a data-link-type="dfn" href="#concept-element-attribute">attribute list</a>,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> exception.

 
    <li><a data-link-type="dfn" href="#concept-element-attributes-remove">Remove</a> <var>attr</var>
 from <a data-link-type="dfn" href="#context-object">context object</a>.

 
    <li>Return <var>attr</var>.
</ol>


   <hr>


   <dl class="domintro">
 
    <dt><code><var>element</var> . <code class="idl"><a data-link-type="idl" href="#dom-element-closestselectors">closest(selectors)</a></code></code>
 
    <dd>Returns the first (starting at <var>element</var>)
 <a data-link-type="dfn" href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> that matches
 <var>selectors</var>, and null otherwise.

 
    <dt><code><var>element</var> . <code class="idl"><a data-link-type="idl" href="#dom-element-matchesselectors">matches(selectors)</a></code></code>
 
    <dd>Returns true if matching <var>selectors</var> against
 <var>element</var>’s <a data-link-type="dfn" href="#concept-tree-root">root</a> yields
 <var>element</var>, and false otherwise.
</dl>


   <p>The <dfn class="idl-code" data-dfn-for="Element" data-dfn-type="method" data-export="" id="dom-element-closestselectors">closest(<var>selectors</var>)<a class="self-link" href="#dom-element-closestselectors"></a></dfn>
method, when invoked, must run these steps:</p>


   <ol>
 
    <li>Let <var>s</var> be the result of
 <a data-link-type="dfn" href="http://dev.w3.org/csswg/selectors-4/#parse-a-selector">parse a selector</a> from <var>selectors</var>.
 <a data-link-type="biblio" href="#biblio-selectors4">[SELECTORS4]</a>

 
    <li>If <var>s</var> is failure, <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#syntaxerror">SyntaxError</a></code>.

 
    <li>Let <var>elements</var> be <a data-link-type="dfn" href="#context-object">context object</a>’s
 <a data-link-type="dfn" href="#concept-tree-inclusive-ancestor">inclusive ancestors</a> that are
 <a data-link-type="dfn" href="#concept-element">elements</a>, in reverse
 <a data-link-type="dfn" href="#concept-tree-order">tree order</a>.

 
    <li>For each <var>element</var> in <var>elements</var>, if
 <a data-link-type="dfn" href="http://dev.w3.org/csswg/selectors-4/#match-a-selector-against-an-element">match a selector against an element</a>, using
 <var>s</var>, <var>element</var>, and
 <a data-link-type="dfn" href="http://dev.w3.org/csswg/selectors-4/#scope-element">:scope element</a> <a data-link-type="dfn" href="#context-object">context object</a>,
 returns success, return <var>element</var>. <a data-link-type="biblio" href="#biblio-selectors4">[SELECTORS4]</a>

 
    <li>Return null.
</ol>


   <p>The <dfn class="idl-code" data-dfn-for="Element" data-dfn-type="method" data-export="" id="dom-element-matchesselectors">matches(<var>selectors</var>)<a class="self-link" href="#dom-element-matchesselectors"></a></dfn>
method, when invoked, must run these steps:</p>


   <ol>
 
    <li>Let <var>s</var> be the result of
 <a data-link-type="dfn" href="http://dev.w3.org/csswg/selectors-4/#parse-a-selector">parse a selector</a> from <var>selectors</var>.
 <a data-link-type="biblio" href="#biblio-selectors4">[SELECTORS4]</a>

 
    <li>If <var>s</var> is failure, <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#syntaxerror">SyntaxError</a></code>.

 
    <li>Return true if the result of
 <a data-link-type="dfn" href="http://dev.w3.org/csswg/selectors-4/#match-a-selector-against-an-element">match a selector against an element</a>, using
 <var>s</var>, <var>element</var>, and
 <a data-link-type="dfn" href="http://dev.w3.org/csswg/selectors-4/#scope-element">:scope element</a> <a data-link-type="dfn" href="#context-object">context object</a>,
 returns success, and false otherwise. <a data-link-type="biblio" href="#biblio-selectors4">[SELECTORS4]</a>
</ol>


   <hr>


   <p>The
<dfn class="idl-code" data-dfn-for="Element" data-dfn-type="method" data-export="" id="dom-element-getelementsbytagnamelocalname">getElementsByTagName(<var>localName</var>)<a class="self-link" href="#dom-element-getelementsbytagnamelocalname"></a></dfn>
method must return the
<a data-link-type="dfn" href="#concept-getElementsByTagName">list of elements with local name <var>localName</var></a>
for the <a data-link-type="dfn" href="#context-object">context object</a>.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="Element" data-dfn-type="method" data-export="" id="dom-element-getelementsbytagnamensnamespace-localname">getElementsByTagNameNS(<var>namespace</var>, <var>localName</var>)<a class="self-link" href="#dom-element-getelementsbytagnamensnamespace-localname"></a></dfn>
method must return the
<a data-link-type="dfn" href="#concept-getElementsByTagNameNS">list of elements with namespace <var>namespace</var> and local name <var>localName</var></a>
for the <a data-link-type="dfn" href="#context-object">context object</a>.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="Element" data-dfn-type="method" data-export="" id="dom-element-getelementsbyclassnameclassnames">getElementsByClassName(<var title="">classNames</var>)<a class="self-link" href="#dom-element-getelementsbyclassnameclassnames"></a></dfn>
method must return the
<a data-link-type="dfn" href="#concept-getElementsByClassName">list of elements with class names <var>classNames</var></a>
for the <a data-link-type="dfn" href="#context-object">context object</a>.</p>



   <h4 class="heading settled" data-level="4.8.1" id="interface-namednodemap"><span class="secno">4.8.1. </span><span class="content">Interface <code class="idl"><a data-link-type="idl" href="#namednodemap">NamedNodeMap</a></code></span><a class="self-link" href="#interface-namednodemap"></a></h4>


   <pre class="idl">[Exposed=Window]
interface <dfn class="idl-code" data-dfn-type="interface" data-export="" data-global-name="" id="namednodemap">NamedNodeMap<a class="self-link" href="#namednodemap"></a></dfn> {
  readonly attribute unsigned long <a class="idl-code" data-global-name="NamedNodeMap<interface>/length<attribute>" data-link-type="attribute" data-readonly="" data-type="unsigned long " href="#dom-namednodemap-length">length</a>;
  getter <a data-link-type="idl-name" href="#attr">Attr</a>? <a class="idl-code" data-global-name="NamedNodeMap<interface>/item(index)<method>" data-link-type="method" href="#dom-namednodemap-itemindex">item</a>(unsigned long <dfn class="idl-code" data-dfn-for="NamedNodeMap/item(index)" data-dfn-type="argument" data-export="" data-global-name="NamedNodeMap<interface>/item(index)<method>/index<argument>" id="dom-namednodemap-itemindex-index">index<a class="self-link" href="#dom-namednodemap-itemindex-index"></a></dfn>);
  getter <a data-link-type="idl-name" href="#attr">Attr</a>? <a class="idl-code" data-global-name="NamedNodeMap<interface>/getNamedItem(name)<method>" data-link-type="method" href="#dom-namednodemap-getnameditemname">getNamedItem</a>(DOMString <dfn class="idl-code" data-dfn-for="NamedNodeMap/getNamedItem(name)" data-dfn-type="argument" data-export="" data-global-name="NamedNodeMap<interface>/getNamedItem(name)<method>/name<argument>" id="dom-namednodemap-getnameditemname-name">name<a class="self-link" href="#dom-namednodemap-getnameditemname-name"></a></dfn>);
  <a data-link-type="idl-name" href="#attr">Attr</a>? <a class="idl-code" data-global-name="NamedNodeMap<interface>/getNamedItemNS(namespace, localName)<method>" data-link-type="method" href="#dom-namednodemap-getnameditemnsnamespace-localname">getNamedItemNS</a>(DOMString? <dfn class="idl-code" data-dfn-for="NamedNodeMap/getNamedItemNS(namespace, localName)" data-dfn-type="argument" data-export="" data-global-name="NamedNodeMap<interface>/getNamedItemNS(namespace, localName)<method>/namespace<argument>" id="dom-namednodemap-getnameditemnsnamespace-localname-namespace">namespace<a class="self-link" href="#dom-namednodemap-getnameditemnsnamespace-localname-namespace"></a></dfn>, DOMString <dfn class="idl-code" data-dfn-for="NamedNodeMap/getNamedItemNS(namespace, localName)" data-dfn-type="argument" data-export="" data-global-name="NamedNodeMap<interface>/getNamedItemNS(namespace, localName)<method>/localName<argument>" id="dom-namednodemap-getnameditemnsnamespace-localname-localname">localName<a class="self-link" href="#dom-namednodemap-getnameditemnsnamespace-localname-localname"></a></dfn>);
  <a data-link-type="idl-name" href="#attr">Attr</a>? <a class="idl-code" data-global-name="NamedNodeMap<interface>/setNamedItem(attr)<method>" data-link-type="method" href="#dom-namednodemap-setnameditemattr">setNamedItem</a>(<a data-link-type="idl-name" href="#attr">Attr</a> <dfn class="idl-code" data-dfn-for="NamedNodeMap/setNamedItem(attr)" data-dfn-type="argument" data-export="" data-global-name="NamedNodeMap<interface>/setNamedItem(attr)<method>/attr<argument>" id="dom-namednodemap-setnameditemattr-attr">attr<a class="self-link" href="#dom-namednodemap-setnameditemattr-attr"></a></dfn>);
  <a data-link-type="idl-name" href="#attr">Attr</a>? <a class="idl-code" data-global-name="NamedNodeMap<interface>/setNamedItemNS(attr)<method>" data-link-type="method" href="#dom-namednodemap-setnameditemnsattr">setNamedItemNS</a>(<a data-link-type="idl-name" href="#attr">Attr</a> <dfn class="idl-code" data-dfn-for="NamedNodeMap/setNamedItemNS(attr)" data-dfn-type="argument" data-export="" data-global-name="NamedNodeMap<interface>/setNamedItemNS(attr)<method>/attr<argument>" id="dom-namednodemap-setnameditemnsattr-attr">attr<a class="self-link" href="#dom-namednodemap-setnameditemnsattr-attr"></a></dfn>);
  <a data-link-type="idl-name" href="#attr">Attr</a> <a class="idl-code" data-global-name="NamedNodeMap<interface>/removeNamedItem(name)<method>" data-link-type="method" href="#dom-namednodemap-removenameditemname">removeNamedItem</a>(DOMString <dfn class="idl-code" data-dfn-for="NamedNodeMap/removeNamedItem(name)" data-dfn-type="argument" data-export="" data-global-name="NamedNodeMap<interface>/removeNamedItem(name)<method>/name<argument>" id="dom-namednodemap-removenameditemname-name">name<a class="self-link" href="#dom-namednodemap-removenameditemname-name"></a></dfn>);
  <a data-link-type="idl-name" href="#attr">Attr</a> <a class="idl-code" data-global-name="NamedNodeMap<interface>/removeNamedItemNS(namespace, localName)<method>" data-link-type="method" href="#dom-namednodemap-removenameditemnsnamespace-localname">removeNamedItemNS</a>(DOMString? <dfn class="idl-code" data-dfn-for="NamedNodeMap/removeNamedItemNS(namespace, localName)" data-dfn-type="argument" data-export="" data-global-name="NamedNodeMap<interface>/removeNamedItemNS(namespace, localName)<method>/namespace<argument>" id="dom-namednodemap-removenameditemnsnamespace-localname-namespace">namespace<a class="self-link" href="#dom-namednodemap-removenameditemnsnamespace-localname-namespace"></a></dfn>, DOMString <dfn class="idl-code" data-dfn-for="NamedNodeMap/removeNamedItemNS(namespace, localName)" data-dfn-type="argument" data-export="" data-global-name="NamedNodeMap<interface>/removeNamedItemNS(namespace, localName)<method>/localName<argument>" id="dom-namednodemap-removenameditemnsnamespace-localname-localname">localName<a class="self-link" href="#dom-namednodemap-removenameditemnsnamespace-localname-localname"></a></dfn>);
};
</pre>


   <p>A <code class="idl"><a data-link-type="idl" href="#namednodemap">NamedNodeMap</a></code> has an associated
<dfn data-dfn-for="NamedNodeMap" data-dfn-type="dfn" data-export="" id="concept-NamedNodeMap-element">element<a class="self-link" href="#concept-NamedNodeMap-element"></a></dfn> (an
<a data-link-type="dfn" href="#concept-element">element</a>).</p>


   <p>A <code class="idl"><a data-link-type="idl" href="#namednodemap">NamedNodeMap</a></code> object’s
<dfn data-dfn-for="NamedNodeMap" data-dfn-type="dfn" data-export="" id="concept-NamedNodeMap-attribute">attribute list<a class="self-link" href="#concept-NamedNodeMap-attribute"></a></dfn> is its
<a data-link-type="dfn" href="#concept-NamedNodeMap-element">element</a>’s
<a data-link-type="dfn" href="#concept-element-attribute">attribute list</a>.</p>


   <hr>


   <p>A <code class="idl"><a data-link-type="idl" href="#namednodemap">NamedNodeMap</a></code> object’s
<a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-supported-property-indices">supported property indices</a> are the numbers in the
range zero to the number of <a data-link-type="dfn" href="#concept-attribute">attributes</a> in its
<a data-link-type="dfn" href="#concept-NamedNodeMap-attribute">attribute list</a> map minus one, unless the
<a data-link-type="dfn" href="#concept-NamedNodeMap-attribute">attribute list</a> is empty, in which case
there are no <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-supported-property-indices">supported property indices</a>.</p>


   <p>The <dfn class="idl-code" data-dfn-for="NamedNodeMap" data-dfn-type="attribute" data-export="" id="dom-namednodemap-length">length<a class="self-link" href="#dom-namednodemap-length"></a></dfn> attribute’s getter
must return the number of <a data-link-type="dfn" href="#concept-attribute">attributes</a> in the
<a data-link-type="dfn" href="#concept-NamedNodeMap-attribute">attribute list</a>.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="NamedNodeMap" data-dfn-type="method" data-export="" id="dom-namednodemap-itemindex">item(<var>index</var>)<a class="self-link" href="#dom-namednodemap-itemindex"></a></dfn> method,
when invoked, must run these steps:</p>


   <ol>
 
    <li>If <var>index</var> is equal to or greater than the number of
 <a data-link-type="dfn" href="#concept-attribute">attributes</a> in the
 <a data-link-type="dfn" href="#concept-NamedNodeMap-attribute">attribute list</a>, return null.

 
    <li>Otherwise, return the <var>index</var>th
 <a data-link-type="dfn" href="#concept-attribute">attribute</a> in the
 <a data-link-type="dfn" href="#concept-NamedNodeMap-attribute">attribute list</a>.
</ol>


   <p>A <code class="idl"><a data-link-type="idl" href="#namednodemap">NamedNodeMap</a></code> object’s
<a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-supported-property-names">supported property names</a>, all
<a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-unenumerable">unenumerable</a>, are the
<a data-link-type="dfn" href="#concept-attribute-name">names</a> of the
<a data-link-type="dfn" href="#concept-attribute">attributes</a> in the
<a data-link-type="dfn" href="#concept-NamedNodeMap-attribute">attribute list</a>, in order.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="NamedNodeMap" data-dfn-type="method" data-export="" id="dom-namednodemap-getnameditemname">getNamedItem(<var>name</var>)<a class="self-link" href="#dom-namednodemap-getnameditemname"></a></dfn>
method, when invoked, must return the result of
<a data-link-type="dfn" href="#concept-element-attributes-get-by-name">getting an attribute</a> given
<var>name</var> and <a data-link-type="dfn" href="#concept-NamedNodeMap-element">element</a>.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="NamedNodeMap" data-dfn-type="method" data-export="" id="dom-namednodemap-getnameditemnsnamespace-localname">getNamedItemNS(<var>namespace</var>, <var>localName</var>)<a class="self-link" href="#dom-namednodemap-getnameditemnsnamespace-localname"></a></dfn>
method, when invoked, must return the result of
<a data-link-type="dfn" href="#concept-element-attributes-get-by-namespace">getting an attribute</a> given
<var>namespace</var>, <var>localName</var>, and
<a data-link-type="dfn" href="#concept-NamedNodeMap-element">element</a>.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="NamedNodeMap" data-dfn-type="method" data-export="" id="dom-namednodemap-setnameditemattr">setNamedItem(<var>attr</var>)<a class="self-link" href="#dom-namednodemap-setnameditemattr"></a></dfn>
method, when invoked, must return the result of
<a data-link-type="dfn" href="#concept-element-attributes-set">setting an attribute</a> given
<var>attr</var> and <a data-link-type="dfn" href="#concept-NamedNodeMap-element">element</a>. Rethrow
any exceptions.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="NamedNodeMap" data-dfn-type="method" data-export="" id="dom-namednodemap-setnameditemnsattr">setNamedItemNS(<var>attr</var>)<a class="self-link" href="#dom-namednodemap-setnameditemnsattr"></a></dfn>
method, when invoked, must return the result of
<a data-link-type="dfn" href="#concept-element-attributes-set">setting an attribute</a> given
<var>attr</var>, <a data-link-type="dfn" href="#concept-NamedNodeMap-element">element</a>, and
<i>namespace and local name flag</i> set. Rethrow any exceptions.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="NamedNodeMap" data-dfn-type="method" data-export="" id="dom-namednodemap-removenameditemname">removeNamedItem(<var>name</var>)<a class="self-link" href="#dom-namednodemap-removenameditemname"></a></dfn>
method, when invoked, must run these steps:</p>


   <ol>
 
    <li>Let <var>attr</var> be the result of
 <a data-link-type="dfn" href="#concept-element-attributes-remove-by-name">removing an attribute</a> given
 <var>name</var> and <a data-link-type="dfn" href="#concept-NamedNodeMap-element">element</a>.

 
    <li>If <var>attr</var> is null, <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> exception.

 
    <li>Return <var>attr</var>.
</ol>


   <p>The
<dfn class="idl-code" data-dfn-for="NamedNodeMap" data-dfn-type="method" data-export="" id="dom-namednodemap-removenameditemnsnamespace-localname">removeNamedItemNS(<var>namespace</var>, <var>localName</var>)<a class="self-link" href="#dom-namednodemap-removenameditemnsnamespace-localname"></a></dfn>
method, when invoked, must run these steps:</p>


   <ol>
 
    <li>Let <var>attr</var> be the result of
 <a data-link-type="dfn" href="#concept-element-attributes-remove-by-namespace">removing an attribute</a>
 given <var>namespace</var>, <var>localName</var>, and
 <a data-link-type="dfn" href="#concept-NamedNodeMap-element">element</a>.

 
    <li>If <var>attr</var> is null, <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> exception.

 
    <li>Return <var>attr</var>.
</ol>



   <h4 class="heading settled" data-level="4.8.2" id="interface-attr"><span class="secno">4.8.2. </span><span class="content">Interface <code class="idl"><a data-link-type="idl" href="#attr">Attr</a></code></span><a class="self-link" href="#interface-attr"></a></h4>


   <pre class="idl">[Exposed=Window]
interface <dfn class="idl-code" data-dfn-type="interface" data-export="" data-global-name="" id="attr">Attr<a class="self-link" href="#attr"></a></dfn> {
  readonly attribute DOMString? <a class="idl-code" data-global-name="Attr<interface>/namespaceURI<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString? " href="#dom-attr-namespaceuri">namespaceURI</a>;
  readonly attribute DOMString? <a class="idl-code" data-global-name="Attr<interface>/prefix<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString? " href="#dom-attr-prefix">prefix</a>;
  readonly attribute DOMString <a class="idl-code" data-global-name="Attr<interface>/localName<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-attr-localname">localName</a>;
  readonly attribute DOMString <a class="idl-code" data-global-name="Attr<interface>/name<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-attr-name">name</a>;
           attribute DOMString <a class="idl-code" data-global-name="Attr<interface>/value<attribute>" data-link-type="attribute" data-type="DOMString " href="#dom-attr-value">value</a>;
           attribute DOMString <a class="idl-code" data-global-name="Attr<interface>/nodeValue<attribute>" data-link-type="attribute" data-type="DOMString " href="#dom-attr-nodevalue">nodeValue</a>; // legacy alias of .value
           attribute DOMString <a class="idl-code" data-global-name="Attr<interface>/textContent<attribute>" data-link-type="attribute" data-type="DOMString " href="#dom-attr-textcontent">textContent</a>; // legacy alias of .value

  readonly attribute <a data-link-type="idl-name" href="#element">Element</a>? <a class="idl-code" data-global-name="Attr<interface>/ownerElement<attribute>" data-link-type="attribute" data-readonly="" data-type="Element? " href="#dom-attr-ownerelement">ownerElement</a>;

  readonly attribute boolean <a class="idl-code" data-global-name="Attr<interface>/specified<attribute>" data-link-type="attribute" data-readonly="" data-type="boolean " href="#dom-attr-specified">specified</a>; // useless; always returns true
};</pre>



   <p><code class="idl"><a data-link-type="idl" href="#attr">Attr</a></code> objects are simply known as
<dfn data-dfn-type="dfn" data-export="" data-lt="attribute" id="concept-attribute">attributes<a class="self-link" href="#concept-attribute"></a></dfn>. They are sometimes referred
to as <em>content attributes</em> to avoid confusion with IDL attributes.</p>


   <p><a data-link-type="dfn" href="#concept-attribute">Attributes</a> have a
<dfn data-dfn-for="Attr" data-dfn-type="dfn" data-export="" id="concept-attribute-namespace">namespace<a class="self-link" href="#concept-attribute-namespace"></a></dfn> (null or a non-empty string),
<dfn data-dfn-for="Attr" data-dfn-type="dfn" data-export="" id="concept-attribute-namespace-prefix">namespace prefix<a class="self-link" href="#concept-attribute-namespace-prefix"></a></dfn> (null or a non-empty string),
<dfn data-dfn-for="Attr" data-dfn-type="dfn" data-export="" id="concept-attribute-local-name">local name<a class="self-link" href="#concept-attribute-local-name"></a></dfn> (a non-empty string),
<dfn data-dfn-for="Attr" data-dfn-type="dfn" data-export="" id="concept-attribute-name">name<a class="self-link" href="#concept-attribute-name"></a></dfn> (a non-empty string),
<dfn data-dfn-for="Attr" data-dfn-type="dfn" data-export="" id="concept-attribute-value">value<a class="self-link" href="#concept-attribute-value"></a></dfn> (a string), and
<dfn data-dfn-for="Attr" data-dfn-type="dfn" data-export="" id="concept-attribute-element">element<a class="self-link" href="#concept-attribute-element"></a></dfn> (null or an
<a data-link-type="dfn" href="#concept-element">element</a>).</p>


   <p class="note" role="note">Note: If designed today they would just have a name and value. ☹</p>


   <p>When an <a data-link-type="dfn" href="#concept-attribute">attribute</a> is created, its
<a data-link-type="dfn" href="#concept-attribute-local-name">local name</a> is given. Unless explicitly
given when an <a data-link-type="dfn" href="#concept-attribute">attribute</a> is created, its
<a data-link-type="dfn" href="#concept-attribute-name">name</a> is set to its
<a data-link-type="dfn" href="#concept-attribute-local-name">local name</a>, its
<a data-link-type="dfn" href="#concept-attribute-namespace">namespace</a>,
<a data-link-type="dfn" href="#concept-attribute-namespace-prefix">namespace prefix</a>, and
<a data-link-type="dfn" href="#concept-attribute-element">element</a> are set to null, and its
<a data-link-type="dfn" href="#concept-attribute-value">value</a> is set to the empty string.</p>


   <p>An
<dfn data-dfn-type="dfn" data-export="" data-lt="named attribute" id="concept-named-attribute"><code><var>A</var></code> attribute<a class="self-link" href="#concept-named-attribute"></a></dfn>
is an <a data-link-type="dfn" href="#concept-attribute">attribute</a> whose
<a data-link-type="dfn" href="#concept-attribute-local-name">local name</a> is
<code><var>A</var></code> and whose
<a data-link-type="dfn" href="#concept-attribute-namespace">namespace</a> and
<a data-link-type="dfn" href="#concept-attribute-namespace-prefix">namespace prefix</a> are
null.</p>


   <hr>


   <p>The <dfn class="idl-code" data-dfn-for="Attr" data-dfn-type="attribute" data-export="" id="dom-attr-namespaceuri">namespaceURI<a class="self-link" href="#dom-attr-namespaceuri"></a></dfn>
attribute’s getter must return the
<a data-link-type="dfn" href="#concept-attribute-namespace">namespace</a>.</p>


   <p>The <dfn class="idl-code" data-dfn-for="Attr" data-dfn-type="attribute" data-export="" id="dom-attr-prefix">prefix<a class="self-link" href="#dom-attr-prefix"></a></dfn> attribute’s getter must return
the <a data-link-type="dfn" href="#concept-attribute-namespace-prefix">namespace prefix</a>.</p>


   <p>The <dfn class="idl-code" data-dfn-for="Attr" data-dfn-type="attribute" data-export="" id="dom-attr-localname">localName<a class="self-link" href="#dom-attr-localname"></a></dfn> attribute’s getter must
return the <a data-link-type="dfn" href="#concept-attribute-local-name">local name</a>.</p>


   <p>The <dfn class="idl-code" data-dfn-for="Attr" data-dfn-type="attribute" data-export="" id="dom-attr-name">name<a class="self-link" href="#dom-attr-name"></a></dfn> attribute’s getter must return the
<a data-link-type="dfn" href="#concept-attribute-name">name</a>.</p>


   <p>The <dfn class="idl-code" data-dfn-for="Attr" data-dfn-type="attribute" data-export="" id="dom-attr-value">value<a class="self-link" href="#dom-attr-value"></a></dfn> attribute’s getter,
<dfn class="idl-code" data-dfn-for="Attr" data-dfn-type="attribute" data-export="" id="dom-attr-nodevalue">nodeValue<a class="self-link" href="#dom-attr-nodevalue"></a></dfn> attribute’s getter, and
<dfn class="idl-code" data-dfn-for="Attr" data-dfn-type="attribute" data-export="" id="dom-attr-textcontent">textContent<a class="self-link" href="#dom-attr-textcontent"></a></dfn> attribute’s getter, must
return the <a data-link-type="dfn" href="#concept-attribute-value">value</a>.</p>


   <p>The <code class="idl"><a data-link-type="idl" href="#dom-attr-value">value</a></code> attribute’s setter,
<code class="idl"><a data-link-type="idl" href="#dom-attr-nodevalue">nodeValue</a></code> attribute’s setter, and
<code class="idl"><a data-link-type="idl" href="#dom-attr-textcontent">textContent</a></code> attribute’s setter, must run these
steps:</p>


   <ol>
 
    <li>If <a data-link-type="dfn" href="#context-object">context object</a>’s
 <a data-link-type="dfn" href="#concept-attribute-element">element</a> is null, set
 <a data-link-type="dfn" href="#context-object">context object</a>’s <a data-link-type="dfn" href="#concept-attribute-value">value</a> to the
 given value.

 
    <li>Otherwise, <a data-link-type="dfn" href="#concept-element-attributes-change">change</a> the
 <a data-link-type="dfn" href="#context-object">context object</a> from <a data-link-type="dfn" href="#context-object">context object</a>’s
 <a data-link-type="dfn" href="#concept-attribute-element">element</a> to the given value.
</ol>


   <p class="note" role="note">Note: Unlike with <a data-link-type="dfn" href="#concept-node">node</a>’s
<code class="idl"><a data-link-type="idl" href="#dom-node-textcontent">textContent</a></code>, no special null handling is required
here.</p>


   <hr>


   <p>The <dfn class="idl-code" data-dfn-for="Attr" data-dfn-type="attribute" data-export="" id="dom-attr-ownerelement">ownerElement<a class="self-link" href="#dom-attr-ownerelement"></a></dfn> attribute’s getter
must return the <a data-link-type="dfn" href="#concept-attribute-element">element</a>.</p>


   <hr>


   <p>The <dfn class="idl-code" data-dfn-for="Attr" data-dfn-type="attribute" data-export="" id="dom-attr-specified">specified<a class="self-link" href="#dom-attr-specified"></a></dfn> attribute’s getter must
return true.</p>



   <h3 class="heading settled" data-level="4.9" id="interface-characterdata"><span class="secno">4.9. </span><span class="content">Interface <code class="idl"><a data-link-type="idl" href="#characterdata">CharacterData</a></code></span><a class="self-link" href="#interface-characterdata"></a></h3>


   <pre class="idl">[Exposed=Window]
interface <dfn class="idl-code" data-dfn-type="interface" data-export="" data-global-name="" id="characterdata">CharacterData<a class="self-link" href="#characterdata"></a></dfn> : <a data-link-type="idl-name" href="#node">Node</a> {
  [TreatNullAs=<a data-link-type="idl-name">EmptyString</a>] attribute DOMString <a class="idl-code" data-global-name="CharacterData<interface>/data<attribute>" data-link-type="attribute" data-type="DOMString " href="#dom-characterdata-data">data</a>;
  readonly attribute unsigned long <a class="idl-code" data-global-name="CharacterData<interface>/length<attribute>" data-link-type="attribute" data-readonly="" data-type="unsigned long " href="#dom-characterdata-length">length</a>;
  DOMString <a class="idl-code" data-global-name="CharacterData<interface>/substringData(offset, count)<method>" data-link-type="method" href="#dom-characterdata-substringdataoffset-count">substringData</a>(unsigned long <dfn class="idl-code" data-dfn-for="CharacterData/substringData(offset, count)" data-dfn-type="argument" data-export="" data-global-name="CharacterData<interface>/substringData(offset, count)<method>/offset<argument>" id="dom-characterdata-substringdataoffset-count-offset">offset<a class="self-link" href="#dom-characterdata-substringdataoffset-count-offset"></a></dfn>, unsigned long <dfn class="idl-code" data-dfn-for="CharacterData/substringData(offset, count)" data-dfn-type="argument" data-export="" data-global-name="CharacterData<interface>/substringData(offset, count)<method>/count<argument>" id="dom-characterdata-substringdataoffset-count-count">count<a class="self-link" href="#dom-characterdata-substringdataoffset-count-count"></a></dfn>);
  void <a class="idl-code" data-global-name="CharacterData<interface>/appendData(data)<method>" data-link-type="method" href="#dom-characterdata-appenddatadata">appendData</a>(DOMString <dfn class="idl-code" data-dfn-for="CharacterData/appendData(data)" data-dfn-type="argument" data-export="" data-global-name="CharacterData<interface>/appendData(data)<method>/data<argument>" id="dom-characterdata-appenddatadata-data">data<a class="self-link" href="#dom-characterdata-appenddatadata-data"></a></dfn>);
  void <a class="idl-code" data-global-name="CharacterData<interface>/insertData(offset, data)<method>" data-link-type="method" href="#dom-characterdata-insertdataoffset-data">insertData</a>(unsigned long <dfn class="idl-code" data-dfn-for="CharacterData/insertData(offset, data)" data-dfn-type="argument" data-export="" data-global-name="CharacterData<interface>/insertData(offset, data)<method>/offset<argument>" id="dom-characterdata-insertdataoffset-data-offset">offset<a class="self-link" href="#dom-characterdata-insertdataoffset-data-offset"></a></dfn>, DOMString <dfn class="idl-code" data-dfn-for="CharacterData/insertData(offset, data)" data-dfn-type="argument" data-export="" data-global-name="CharacterData<interface>/insertData(offset, data)<method>/data<argument>" id="dom-characterdata-insertdataoffset-data-data">data<a class="self-link" href="#dom-characterdata-insertdataoffset-data-data"></a></dfn>);
  void <a class="idl-code" data-global-name="CharacterData<interface>/deleteData(offset, count)<method>" data-link-type="method" href="#dom-characterdata-deletedataoffset-count">deleteData</a>(unsigned long <dfn class="idl-code" data-dfn-for="CharacterData/deleteData(offset, count)" data-dfn-type="argument" data-export="" data-global-name="CharacterData<interface>/deleteData(offset, count)<method>/offset<argument>" id="dom-characterdata-deletedataoffset-count-offset">offset<a class="self-link" href="#dom-characterdata-deletedataoffset-count-offset"></a></dfn>, unsigned long <dfn class="idl-code" data-dfn-for="CharacterData/deleteData(offset, count)" data-dfn-type="argument" data-export="" data-global-name="CharacterData<interface>/deleteData(offset, count)<method>/count<argument>" id="dom-characterdata-deletedataoffset-count-count">count<a class="self-link" href="#dom-characterdata-deletedataoffset-count-count"></a></dfn>);
  void <a class="idl-code" data-global-name="CharacterData<interface>/replaceData(offset, count, data)<method>" data-link-type="method" href="#dom-characterdata-replacedataoffset-count-data">replaceData</a>(unsigned long <dfn class="idl-code" data-dfn-for="CharacterData/replaceData(offset, count, data)" data-dfn-type="argument" data-export="" data-global-name="CharacterData<interface>/replaceData(offset, count, data)<method>/offset<argument>" id="dom-characterdata-replacedataoffset-count-data-offset">offset<a class="self-link" href="#dom-characterdata-replacedataoffset-count-data-offset"></a></dfn>, unsigned long <dfn class="idl-code" data-dfn-for="CharacterData/replaceData(offset, count, data)" data-dfn-type="argument" data-export="" data-global-name="CharacterData<interface>/replaceData(offset, count, data)<method>/count<argument>" id="dom-characterdata-replacedataoffset-count-data-count">count<a class="self-link" href="#dom-characterdata-replacedataoffset-count-data-count"></a></dfn>, DOMString <dfn class="idl-code" data-dfn-for="CharacterData/replaceData(offset, count, data)" data-dfn-type="argument" data-export="" data-global-name="CharacterData<interface>/replaceData(offset, count, data)<method>/data<argument>" id="dom-characterdata-replacedataoffset-count-data-data">data<a class="self-link" href="#dom-characterdata-replacedataoffset-count-data-data"></a></dfn>);
};
</pre>


   <p class="note" role="note"><code class="idl"><a data-link-type="idl" href="#characterdata">CharacterData</a></code> is an abstract interface and does
not exist as <a data-link-type="dfn" href="#concept-node">node</a>. It is used by
<code class="idl"><a data-link-type="idl" href="#text">Text</a></code>, <code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code>, and
<code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code> <a data-link-type="dfn" href="#concept-node">nodes</a>.

</p>
   <p>Each <a data-link-type="dfn" href="#concept-node">node</a> inheriting from the
<code class="idl"><a data-link-type="idl" href="#characterdata">CharacterData</a></code> interface has an associated mutable string
called <dfn data-dfn-for="CharacterData, Text, Comment, ProcessingInstruction" data-dfn-type="dfn" data-export="" id="concept-CD-data">data<a class="self-link" href="#concept-CD-data"></a></dfn>.</p>


   <p>To <dfn data-dfn-for="CharacterData, Text, Comment, ProcessingInstruction" data-dfn-type="dfn" data-export="" id="concept-CD-replace">replace data<a class="self-link" href="#concept-CD-replace"></a></dfn> of node
<var>node</var> with offset <var>offset</var>, count
<var>count</var>, and data <var>data</var>, run these steps:</p>


   <ol>
 
    <li>Let <var>length</var> be <var>node</var>’s
 <code class="idl"><a data-link-type="idl" href="#dom-characterdata-length">length</a></code> attribute value.

 
    <li>If <var>offset</var> is greater than <var>length</var>,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> an
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#indexsizeerror">IndexSizeError</a></code> exception.

 
    <li>If <var>offset</var> plus <var>count</var> is greater
 than <var>length</var> let <var>count</var> be
 <var>length</var> minus <var>offset</var>.

 
    <li><a data-link-type="dfn" href="#queue-a-mutation-record">Queue a mutation record</a> of "<code>characterData</code>"
 for <var>node</var> with oldValue <var>node</var>’s
 <a data-link-type="dfn" href="#concept-CD-data">data</a>.

 
    <li>Insert <var>data</var> into <var>node</var>’s
 <a data-link-type="dfn" href="#concept-CD-data">data</a> after <var>offset</var>
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-code-unit">code units</a>.

 
    <li>Let <var>delete offset</var> be <var>offset</var> plus
 the number of
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-code-unit">code units</a> in
 <var>data</var>.

 
    <li>Starting from <var>delete offset</var>
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-code-unit">code units</a>, remove
 <var>count</var>
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-code-unit">code units</a> from
 <var>node</var>’s <a data-link-type="dfn" href="#concept-CD-data">data</a>.

 
 
    <li>For each <a data-link-type="dfn" href="#concept-range">range</a> whose
 <a data-link-type="dfn" href="#concept-range-start-node">start node</a> is
 <var>node</var> and
 <a data-link-type="dfn" href="#concept-range-start-offset">start offset</a> is greater than
 <var>offset</var> but less than or equal to <var>offset</var>
 plus <var>count</var>, set its
 <a data-link-type="dfn" href="#concept-range-start-offset">start offset</a> to
 <var>offset</var>.

 
    <li>For each <a data-link-type="dfn" href="#concept-range">range</a> whose
 <a data-link-type="dfn" href="#concept-range-end-node">end node</a> is
 <var>node</var> and
 <a data-link-type="dfn" href="#concept-range-end-offset">end offset</a> is greater than
 <var>offset</var> but less than or equal to <var>offset</var>
 plus <var>count</var>, set its
 <a data-link-type="dfn" href="#concept-range-end-offset">end offset</a> to
 <var>offset</var>.

 
    <li>For each <a data-link-type="dfn" href="#concept-range">range</a> whose
 <a data-link-type="dfn" href="#concept-range-start-node">start node</a> is
 <var>node</var> and
 <a data-link-type="dfn" href="#concept-range-start-offset">start offset</a> is greater than
 <var>offset</var> plus <var>count</var>, increase its
 <a data-link-type="dfn" href="#concept-range-start-offset">start offset</a> by the number of
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-code-unit">code units</a> in
 <var>data</var>, then decrease it by <var>count</var>.

 
    <li>For each <a data-link-type="dfn" href="#concept-range">range</a> whose
 <a data-link-type="dfn" href="#concept-range-end-node">end node</a> is
 <var>node</var> and
 <a data-link-type="dfn" href="#concept-range-end-offset">end offset</a> is greater than
 <var>offset</var> plus <var>count</var>, increase its
 <a data-link-type="dfn" href="#concept-range-end-offset">end offset</a> by the number of
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-code-unit">code units</a> in
 <var>data</var>, then decrease it by <var>count</var>.
</ol>



   <p></p>



   <p>To <dfn data-dfn-for="CharacterData, Text, Comment, ProcessingInstruction" data-dfn-type="dfn" data-export="" id="concept-CD-substring">substring data<a class="self-link" href="#concept-CD-substring"></a></dfn> with node
<var>node</var>, offset <var>offset</var>, and count
<var>count</var>, run these steps:</p>


   <ol>
 
    <li>Let <var>length</var> be <var>node</var>’s
 <code class="idl"><a data-link-type="idl" href="#dom-characterdata-length">length</a></code> attribute value.

 
    <li>If <var>offset</var> is greater than <var>length</var>,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> an
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#indexsizeerror">IndexSizeError</a></code> exception.

 
    <li>If <var>offset</var> plus <var>count</var> is
 greater than <var>length</var>, return a string whose value is the
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-code-unit">code units</a> from the
 <var>offset</var><sup>th</sup>
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-code-unit">code unit</a> to the end of
 <var>node</var>’s <a data-link-type="dfn" href="#concept-CD-data">data</a>, and then
 terminate these steps.

 
    <li>Return a string whose value is the
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-code-unit">code units</a> from the
 <var>offset</var><sup>th</sup>
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-code-unit">code unit</a> to the
 <var>offset</var>+<var>count</var><sup>th</sup>
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-code-unit">code unit</a> in <var>node</var>’s
 <a data-link-type="dfn" href="#concept-CD-data">data</a>.
</ol>


   <p>The <dfn class="idl-code" data-dfn-for="CharacterData" data-dfn-type="attribute" data-export="" id="dom-characterdata-data">data<a class="self-link" href="#dom-characterdata-data"></a></dfn> attribute
must return <a data-link-type="dfn" href="#concept-CD-data">data</a>, and on setting, must
<a data-link-type="dfn" href="#concept-CD-replace">replace data</a> with node
<a data-link-type="dfn" href="#context-object">context object</a> offset 0, count
<code class="idl"><a data-link-type="idl" href="#dom-characterdata-length">length</a></code> attribute value, and data
new value.</p>


   <p>The <dfn class="idl-code" data-dfn-for="CharacterData" data-dfn-type="attribute" data-export="" id="dom-characterdata-length">length<a class="self-link" href="#dom-characterdata-length"></a></dfn>
attribute must return the number of
<a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-code-unit">code units</a> in
<a data-link-type="dfn" href="#concept-CD-data">data</a>.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="CharacterData" data-dfn-type="method" data-export="" id="dom-characterdata-substringdataoffset-count">substringData(<var>offset</var>, <var>count</var>)<a class="self-link" href="#dom-characterdata-substringdataoffset-count"></a></dfn>
method must <a data-link-type="dfn" href="#concept-CD-substring">substring data</a> with node
<a data-link-type="dfn" href="#context-object">context object</a>, offset <var>offset</var>, and count
<var>count</var>.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="CharacterData" data-dfn-type="method" data-export="" id="dom-characterdata-appenddatadata">appendData(<var>data</var>)<a class="self-link" href="#dom-characterdata-appenddatadata"></a></dfn>
method must <a data-link-type="dfn" href="#concept-CD-replace">replace data</a> with node
<a data-link-type="dfn" href="#context-object">context object</a>, offset
<code class="idl"><a data-link-type="idl" href="#dom-characterdata-length">length</a></code> attribute value, count 0,
and data <var>data</var>.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="CharacterData" data-dfn-type="method" data-export="" id="dom-characterdata-insertdataoffset-data">insertData(<var>offset</var>, <var>data</var>)<a class="self-link" href="#dom-characterdata-insertdataoffset-data"></a></dfn>
method must <a data-link-type="dfn" href="#concept-CD-replace">replace data</a> with node
<a data-link-type="dfn" href="#context-object">context object</a>, offset <var>offset</var>, count 0, and
data <var>data</var>.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="CharacterData" data-dfn-type="method" data-export="" id="dom-characterdata-deletedataoffset-count">deleteData(<var>offset</var>, <var>count</var>)<a class="self-link" href="#dom-characterdata-deletedataoffset-count"></a></dfn>
method must <a data-link-type="dfn" href="#concept-CD-replace">replace data</a> with node
<a data-link-type="dfn" href="#context-object">context object</a>, offset <var>offset</var>, count
<var>count</var>, and data the empty string.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="CharacterData" data-dfn-type="method" data-export="" id="dom-characterdata-replacedataoffset-count-data">replaceData(<var>offset</var>, <var>count</var>, <var>data</var>)<a class="self-link" href="#dom-characterdata-replacedataoffset-count-data"></a></dfn>
method must <a data-link-type="dfn" href="#concept-CD-replace">replace data</a> with node
<a data-link-type="dfn" href="#context-object">context object</a>, offset <var>offset</var>, count
<var>count</var>, and data <var>data</var>.</p>



   <h3 class="heading settled" data-level="4.10" id="interface-text"><span class="secno">4.10. </span><span class="content">Interface <code class="idl"><a data-link-type="idl" href="#text">Text</a></code></span><a class="self-link" href="#interface-text"></a></h3>


   <pre class="idl">[<a class="idl-code" data-global-name="Text<interface>/Text(data)<constructor>" data-link-type="constructor" href="#dom-text-textdata">Constructor</a>(optional DOMString <dfn class="idl-code" data-dfn-for="Text/Text(data)" data-dfn-type="argument" data-export="" data-global-name="Text<interface>/Text(data)<method>/data<argument>" id="dom-text-textdata-data">data<a class="self-link" href="#dom-text-textdata-data"></a></dfn> = ""),
 Exposed=Window]
interface <dfn class="idl-code" data-dfn-type="interface" data-export="" data-global-name="" id="text">Text<a class="self-link" href="#text"></a></dfn> : <a data-link-type="idl-name" href="#characterdata">CharacterData</a> {
  [NewObject] <a data-link-type="idl-name" href="#text">Text</a> <a class="idl-code" data-global-name="Text<interface>/splitText(offset)<method>" data-link-type="method" href="#dom-text-splittextoffset">splitText</a>(unsigned long <dfn class="idl-code" data-dfn-for="Text/splitText(offset)" data-dfn-type="argument" data-export="" data-global-name="Text<interface>/splitText(offset)<method>/offset<argument>" id="dom-text-splittextoffset-offset">offset<a class="self-link" href="#dom-text-splittextoffset-offset"></a></dfn>);
  readonly attribute DOMString <a class="idl-code" data-global-name="Text<interface>/wholeText<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-text-wholetext">wholeText</a>;
};</pre>



   <dl class="domintro">
 
    <dt><code><var>text</var> = new <a class="idl-code" data-link-type="constructor" href="#dom-text-textdata">Text([<var>data</var> = ""])</a></code>
 
    <dd>Returns a new <code class="idl"><a data-link-type="idl" href="#text">Text</a></code> <a data-link-type="dfn" href="#concept-node">node</a> whose
 <a data-link-type="dfn" href="#concept-CD-data">data</a> is <var>data</var>.

 
    <dt><code><var>text</var> . <code class="idl"><a data-link-type="idl" href="#dom-text-splittextoffset">splitText(offset)</a></code></code>
 
    <dd>Splits <a data-link-type="dfn" href="#concept-CD-data">data</a> at the given
 <var>offset</var> and returns the remainder as <code class="idl"><a data-link-type="idl" href="#text">Text</a></code>
 <a data-link-type="dfn" href="#concept-node">node</a>.

 
    <dt><code><var>text</var> . <code class="idl"><a data-link-type="idl" href="#dom-text-wholetext">wholeText</a></code></code>
 
    <dd>Returns the combined <a data-link-type="dfn" href="#concept-CD-data">data</a> of all direct
 <code class="idl"><a data-link-type="idl" href="#text">Text</a></code> <a data-link-type="dfn" href="#concept-node">node</a>
 <a data-link-type="dfn" href="#concept-tree-sibling">siblings</a>.
</dl>


   <p>The <dfn class="idl-code" data-dfn-for="Text" data-dfn-type="constructor" data-export="" id="dom-text-textdata">Text(<var>data</var>)<a class="self-link" href="#dom-text-textdata"></a></dfn> constructor
must return a new <code class="idl"><a data-link-type="idl" href="#text">Text</a></code> <a data-link-type="dfn" href="#concept-node">node</a> whose
<a data-link-type="dfn" href="#concept-CD-data">data</a> is <var>data</var> and
<a data-link-type="dfn" href="#concept-node-document">node document</a> is the global object’s associated
<a data-link-type="dfn" href="#concept-document">document</a>.</p>


   <p>To <dfn data-dfn-type="dfn" data-export="" data-lt="split a Text node" id="concept-Text-split">split<a class="self-link" href="#concept-Text-split"></a></dfn> a <code class="idl"><a data-link-type="idl" href="#text">Text</a></code>
<a data-link-type="dfn" href="#concept-node">node</a> <var>node</var> with offset
<var>offset</var>, run these steps:</p>


   <ol>
 
    <li>Let <var>length</var> be <var>node</var>’s
 <code class="idl"><a data-link-type="idl" href="#dom-characterdata-length">length</a></code> attribute value.

 
    <li>If <var>offset</var> is greater than <var>length</var>,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> an
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#indexsizeerror">IndexSizeError</a></code> exception.

 
    <li>Let <var>count</var> be <var>length</var> minus
 <var>offset</var>.

 
    <li>Let <var>new data</var> be the result of
 <a data-link-type="dfn" href="#concept-CD-substring">substringing data</a> with node
 <var>node</var>, offset <var>offset</var>, and count
 <var>count</var>.

 
    <li>Let <var>new node</var> be a new <code class="idl"><a data-link-type="idl" href="#text">Text</a></code>
 <a data-link-type="dfn" href="#concept-node">node</a>, with the same
 <a data-link-type="dfn" href="#concept-node-document">node document</a> as
 <var>node</var>. Set <var>new node</var>’s
 <a data-link-type="dfn" href="#concept-CD-data">data</a> to <var>new data</var>.

 
    <li>Let <var>parent</var> be <var>node</var>’s
 <a data-link-type="dfn" href="#concept-tree-parent">parent</a>.

 
    <li>
  If <var>parent</var> is not null, run these substeps:

  
     <ol>
   
      <li><a data-link-type="dfn" href="#concept-node-insert">Insert</a>
   <var>new node</var> into <var>parent</var> before
   <var>node</var>’s
   <a data-link-type="dfn" href="#concept-tree-next-sibling">next sibling</a>.
   

   
      <li>For each <a data-link-type="dfn" href="#concept-range">range</a> whose
   <a data-link-type="dfn" href="#concept-range-start-node">start node</a> is
   <var>node</var> and
   <a data-link-type="dfn" href="#concept-range-start-offset">start offset</a> is greater than
   <var>offset</var>, set its
   <a data-link-type="dfn" href="#concept-range-start-node">start node</a> to
   <var>new node</var> and decrease its
   <a data-link-type="dfn" href="#concept-range-start-offset">start offset</a> by
   <var>offset</var>.

   
      <li>For each <a data-link-type="dfn" href="#concept-range">range</a> whose
   <a data-link-type="dfn" href="#concept-range-end-node">end node</a> is
   <var>node</var> and
   <a data-link-type="dfn" href="#concept-range-end-offset">end offset</a> is greater than
   <var>offset</var>, set its
   <a data-link-type="dfn" href="#concept-range-end-node">end node</a> to
   <var>new node</var> and decrease its
   <a data-link-type="dfn" href="#concept-range-end-offset">end offset</a> by
   <var>offset</var>.

   
   
      <li>For each <a data-link-type="dfn" href="#concept-range">range</a> whose
   <a data-link-type="dfn" href="#concept-range-start-node">start node</a> is
   <var>parent</var> and
   <a data-link-type="dfn" href="#concept-range-start-offset">start offset</a> is equal to
   the <a data-link-type="dfn" href="#concept-tree-index">index</a> of
   <var>node</var> + 1, increase its
   <a data-link-type="dfn" href="#concept-range-start-offset">start offset</a> by one.

   
      <li>For each <a data-link-type="dfn" href="#concept-range">range</a> whose
   <a data-link-type="dfn" href="#concept-range-end-node">end node</a> is
   <var>parent</var> and
   <a data-link-type="dfn" href="#concept-range-end-offset">end offset</a> is equal to
   the <a data-link-type="dfn" href="#concept-tree-index">index</a> of
   <var>node</var> + 1, increase its
   <a data-link-type="dfn" href="#concept-range-end-offset">end offset</a> by one.
  
     </ol>
     

 
    <li><a data-link-type="dfn" href="#concept-CD-replace">Replace data</a> with node
 <var>node</var>, offset <var>offset</var>, count
 <var>count</var>, and data the empty string.

 
    <li>
  If <var>parent</var> is null, run these substeps:

  
     <ol>
   
      <li>For each <a data-link-type="dfn" href="#concept-range">range</a> whose
   <a data-link-type="dfn" href="#concept-range-start-node">start node</a> is
   <var>node</var> and
   <a data-link-type="dfn" href="#concept-range-start-offset">start offset</a> is greater
   than <var>offset</var>, set its
   <a data-link-type="dfn" href="#concept-range-start-offset">start offset</a> to
   <var>offset</var>.

   
      <li>For each <a data-link-type="dfn" href="#concept-range">range</a> whose
   <a data-link-type="dfn" href="#concept-range-end-node">end node</a> is
   <var>node</var> and
   <a data-link-type="dfn" href="#concept-range-end-offset">end offset</a> is greater than
   <var>offset</var>, set its
   <a data-link-type="dfn" href="#concept-range-end-offset">end offset</a> to
   <var>offset</var>.
  
     </ol>
     

 
    <li>Return <var>new node</var>.
</ol>


   <p>The
<dfn class="idl-code" data-dfn-for="Text" data-dfn-type="method" data-export="" id="dom-text-splittextoffset">splitText(<var>offset</var>)<a class="self-link" href="#dom-text-splittextoffset"></a></dfn>
method must <a data-link-type="dfn" href="#concept-Text-split">split</a> the
<a data-link-type="dfn" href="#context-object">context object</a> with offset <var>offset</var>.</p>



   <p>The <dfn data-dfn-type="dfn" data-export="" id="contiguous-text-nodes">contiguous <code class="idl"><a data-link-type="idl" href="#text">Text</a></code> nodes<a class="self-link" href="#contiguous-text-nodes"></a></dfn> of a node are the node
itself, the
<a data-link-type="dfn" href="#concept-tree-previous-sibling">previous sibling</a>
<code class="idl"><a data-link-type="idl" href="#text">Text</a></code> node (if any) and its
<a data-link-type="dfn" href="#contiguous-text-nodes">contiguous <code>Text</code> nodes</a>, and the
<a data-link-type="dfn" href="#concept-tree-next-sibling">next sibling</a> <code class="idl"><a data-link-type="idl" href="#text">Text</a></code>
node (if any) and its <a data-link-type="dfn" href="#contiguous-text-nodes">contiguous <code>Text</code> nodes</a>,
avoiding any duplicates.</p>


   <p>The <dfn class="idl-code" data-dfn-for="Text" data-dfn-type="attribute" data-export="" id="dom-text-wholetext">wholeText<a class="self-link" href="#dom-text-wholetext"></a></dfn>
attribute must return a concatenation of the
<a data-link-type="dfn" href="#concept-CD-data">data</a> of the
<a data-link-type="dfn" href="#contiguous-text-nodes">contiguous <code>Text</code> nodes</a> of the
<a data-link-type="dfn" href="#context-object">context object</a>, in
<a data-link-type="dfn" href="#concept-tree-order">tree order</a>.</p>




   <h3 class="heading settled" data-level="4.11" id="interface-processinginstruction"><span class="secno">4.11. </span><span class="content">Interface <code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code></span><a class="self-link" href="#interface-processinginstruction"></a></h3>


   <pre class="idl">[Exposed=Window]
interface <dfn class="idl-code" data-dfn-type="interface" data-export="" data-global-name="" id="processinginstruction">ProcessingInstruction<a class="self-link" href="#processinginstruction"></a></dfn> : <a data-link-type="idl-name" href="#characterdata">CharacterData</a> {
  readonly attribute DOMString <a class="idl-code" data-global-name="ProcessingInstruction<interface>/target<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-processinginstruction-target">target</a>;
};</pre>



   <p><code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code> <a data-link-type="dfn" href="#concept-node">nodes</a>
have an associated <dfn data-dfn-for="ProcessingInstruction" data-dfn-type="dfn" data-export="" id="concept-PI-target">target<a class="self-link" href="#concept-PI-target"></a></dfn>.</p>


   <p>The <dfn class="idl-code" data-dfn-for="ProcessingInstruction" data-dfn-type="attribute" data-export="" id="dom-processinginstruction-target">target<a class="self-link" href="#dom-processinginstruction-target"></a></dfn>
attribute must return the <a data-link-type="dfn" href="#concept-PI-target">target</a>.</p>




   <h3 class="heading settled" data-level="4.12" id="interface-comment"><span class="secno">4.12. </span><span class="content">Interface <code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code></span><a class="self-link" href="#interface-comment"></a></h3>


   <pre class="idl">[<a class="idl-code" data-global-name="Comment<interface>/Comment(data)<constructor>" data-link-type="constructor" href="#dom-comment-commentdata">Constructor</a>(optional DOMString <dfn class="idl-code" data-dfn-for="Comment/Comment(data)" data-dfn-type="argument" data-export="" data-global-name="Comment<interface>/Comment(data)<method>/data<argument>" id="dom-comment-commentdata-data">data<a class="self-link" href="#dom-comment-commentdata-data"></a></dfn> = ""),
 Exposed=Window]
interface <dfn class="idl-code" data-dfn-type="interface" data-export="" data-global-name="" id="comment">Comment<a class="self-link" href="#comment"></a></dfn> : <a data-link-type="idl-name" href="#characterdata">CharacterData</a> {
};
</pre>


   <dl class="domintro">
s 
    <dt><code><var>comment</var> = new <a class="idl-code" data-link-type="constructor" href="#dom-comment-commentdata">Comment([<var>data</var> = ""])</a></code>
 
    <dd>Returns a new <code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code> <a data-link-type="dfn" href="#concept-node">node</a> whose
 <a data-link-type="dfn" href="#concept-CD-data">data</a> is <var>data</var>.
</dl>


   <p>The <dfn class="idl-code" data-dfn-for="Comment" data-dfn-type="constructor" data-export="" id="dom-comment-commentdata">Comment(<var>data</var>)<a class="self-link" href="#dom-comment-commentdata"></a></dfn>
constructor must return a new <code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code> <a data-link-type="dfn" href="#concept-node">node</a>
whose <a data-link-type="dfn" href="#concept-CD-data">data</a> is <var>data</var> and
<a data-link-type="dfn" href="#concept-node-document">node document</a> is the global object’s associated
<a data-link-type="dfn" href="#concept-document">document</a>.</p>





   <h2 class="heading settled" data-level="5" id="ranges"><span class="secno">5. </span><span class="content">Ranges</span><a class="self-link" href="#ranges"></a></h2>


   <h3 class="heading settled" data-level="5.1" id="introduction-to-dom-ranges"><span class="secno">5.1. </span><span class="content">
Introduction to "DOM Ranges"</span><a class="self-link" href="#introduction-to-dom-ranges"></a></h3>


   <p>A <code class="idl"><a data-link-type="idl" href="#range">Range</a></code> object (<a data-link-type="dfn" href="#concept-range">range</a>)
represents a sequence of content within a
<a data-link-type="dfn" href="#concept-node-tree">node tree</a>. Each
<a data-link-type="dfn" href="#concept-range">range</a> has a
<a data-link-type="dfn" href="#concept-range-start">start</a> and an
<a data-link-type="dfn" href="#concept-range-end">end</a> which are
<a data-link-type="dfn" href="#concept-range-bp">boundary points</a>. A
<a data-link-type="dfn" href="#concept-range-bp">boundary point</a> is a tuple consisting of
a <a data-link-type="dfn" href="#concept-node">node</a> and a non-negative numeric
<a data-link-type="dfn" href="#concept-range-bp-offset">offset</a>. So in other words, a
<a data-link-type="dfn" href="#concept-range">range</a> represents a piece of content within
a <a data-link-type="dfn" href="#concept-node-tree">node tree</a> between two
<a data-link-type="dfn" href="#concept-range-bp">boundary points</a>.</p>


   <p><a data-link-type="dfn" href="#concept-range">Ranges</a> are frequently used in editing
for selecting and copying content.</p>


   <ul class="domTree">
 
    <li class="t1"><code class="idl"><a data-link-type="idl" href="#element">Element</a></code>: <code>p</code>
  
     <ul>
   
      <li class="t1"><code class="idl"><a data-link-type="idl" href="#element">Element</a></code>: <code class="lang-markup">&lt;img src="insanity-wolf" alt="Little-ending BOM; decode as big-endian!"></code>
   
      <li class="t3"><code class="idl"><a data-link-type="idl" href="#text">Text</a></code>: <span> CSS 2.1 syndata is </span>
   
      <li class="t1"><code class="idl"><a data-link-type="idl" href="#element">Element</a></code>: <code class="lang-markup">&lt;em></code>
    
       <ul>
     
        <li class="t3"><code class="idl"><a data-link-type="idl" href="#text">Text</a></code>: <span>awesome</span>
    
       </ul>
       
   
      <li class="t3"><code class="idl"><a data-link-type="idl" href="#text">Text</a></code>: <span>!</span>
  
     </ul>
     
</ul>



   <p>In the <a data-link-type="dfn" href="#concept-node-tree">node tree</a> above, a
<a data-link-type="dfn" href="#concept-range">range</a> can be used to represent the sequence
“syndata is awes”. Assuming <var>p</var> is assigned to the
<code>p</code> <a data-link-type="dfn" href="#concept-element">element</a>, and
<var>em</var> to the <code>em</code>
<a data-link-type="dfn" href="#concept-element">element</a>, this would be done as follows:</p>


   <pre class="lang-javascript"><code>var range = new Range(),
    firstText = p.childNodes[1],
    secondText = em.firstChild
range.setStart(firstText, 9) // do not forget the leading space
range.setEnd(secondText, 4)
// range now stringifies to the aforementioned quote
</code></pre>


   <p class="note" role="note">Note: <a data-link-type="dfn" href="#concept-attribute">Attributes</a> such as
<code>src</code> and <code>alt</code> in the
<a data-link-type="dfn" href="#concept-node-tree">node tree</a> above cannot be represented
by a <a data-link-type="dfn" href="#concept-range">range</a>. The
<a data-link-type="dfn" href="#concept-range">ranges</a> concept is only useful for
<a data-link-type="dfn" href="#concept-node">nodes</a>.</p>


   <p><a data-link-type="dfn" href="#concept-range">Ranges</a> are affected by mutations to the
<a data-link-type="dfn" href="#concept-node-tree">node tree</a>. Such mutations will not
invalidate a <a data-link-type="dfn" href="#concept-range">range</a> and will try to ensure
that the <a data-link-type="dfn" href="#concept-range">range</a> still represents the same
piece of content. Necessarily, a <a data-link-type="dfn" href="#concept-range">range</a>
might itself be modified as part of the mutation to the
<a data-link-type="dfn" href="#concept-node-tree">node tree</a> when e.g. part of the content
it represents is mutated.</p>


   <p class="note" role="note">Note: See the <a data-link-type="dfn" href="#concept-node-insert">insert</a> and
<a data-link-type="dfn" href="#concept-node-remove">remove</a> algorithms, the
<code class="idl"><a data-link-type="idl" href="#dom-node-normalize">normalize()</a></code> method, and the
<a data-link-type="dfn" href="#concept-CD-replace">replace data</a> and
<a data-link-type="dfn" href="#concept-Text-split">split</a> algorithms for the hairy
details.</p>



   <h3 class="heading settled" data-level="5.2" id="interface-range"><span class="secno">5.2. </span><span class="content">
Interface <code class="idl"><a data-link-type="idl" href="#range">Range</a></code></span><a class="self-link" href="#interface-range"></a></h3>


   <pre class="idl">[<a class="idl-code" data-global-name="Range<interface>/Range()<constructor>" data-link-type="constructor" href="#dom-range-range">Constructor</a>,
 Exposed=Window]
interface <dfn class="idl-code" data-dfn-type="interface" data-export="" data-global-name="" id="range">Range<a class="self-link" href="#range"></a></dfn> {
  readonly attribute <a data-link-type="idl-name" href="#node">Node</a> <a class="idl-code" data-global-name="Range<interface>/startContainer<attribute>" data-link-type="attribute" data-readonly="" data-type="Node " href="#dom-range-startcontainer">startContainer</a>;
  readonly attribute unsigned long <a class="idl-code" data-global-name="Range<interface>/startOffset<attribute>" data-link-type="attribute" data-readonly="" data-type="unsigned long " href="#dom-range-startoffset">startOffset</a>;
  readonly attribute <a data-link-type="idl-name" href="#node">Node</a> <a class="idl-code" data-global-name="Range<interface>/endContainer<attribute>" data-link-type="attribute" data-readonly="" data-type="Node " href="#dom-range-endcontainer">endContainer</a>;
  readonly attribute unsigned long <a class="idl-code" data-global-name="Range<interface>/endOffset<attribute>" data-link-type="attribute" data-readonly="" data-type="unsigned long " href="#dom-range-endoffset">endOffset</a>;
  readonly attribute boolean <a class="idl-code" data-global-name="Range<interface>/collapsed<attribute>" data-link-type="attribute" data-readonly="" data-type="boolean " href="#dom-range-collapsed">collapsed</a>;
  readonly attribute <a data-link-type="idl-name" href="#node">Node</a> <a class="idl-code" data-global-name="Range<interface>/commonAncestorContainer<attribute>" data-link-type="attribute" data-readonly="" data-type="Node " href="#dom-range-commonancestorcontainer">commonAncestorContainer</a>;

  void <a class="idl-code" data-global-name="Range<interface>/setStart(node, offset)<method>" data-link-type="method" href="#dom-range-setstartnode-offset">setStart</a>(<a data-link-type="idl-name" href="#node">Node</a> <dfn class="idl-code" data-dfn-for="Range/setStart(node, offset)" data-dfn-type="argument" data-export="" data-global-name="Range<interface>/setStart(node, offset)<method>/node<argument>" id="dom-range-setstartnode-offset-node">node<a class="self-link" href="#dom-range-setstartnode-offset-node"></a></dfn>, unsigned long <dfn class="idl-code" data-dfn-for="Range/setStart(node, offset)" data-dfn-type="argument" data-export="" data-global-name="Range<interface>/setStart(node, offset)<method>/offset<argument>" id="dom-range-setstartnode-offset-offset">offset<a class="self-link" href="#dom-range-setstartnode-offset-offset"></a></dfn>);
  void <a class="idl-code" data-global-name="Range<interface>/setEnd(node, offset)<method>" data-link-type="method" href="#dom-range-setendnode-offset">setEnd</a>(<a data-link-type="idl-name" href="#node">Node</a> <dfn class="idl-code" data-dfn-for="Range/setEnd(node, offset)" data-dfn-type="argument" data-export="" data-global-name="Range<interface>/setEnd(node, offset)<method>/node<argument>" id="dom-range-setendnode-offset-node">node<a class="self-link" href="#dom-range-setendnode-offset-node"></a></dfn>, unsigned long <dfn class="idl-code" data-dfn-for="Range/setEnd(node, offset)" data-dfn-type="argument" data-export="" data-global-name="Range<interface>/setEnd(node, offset)<method>/offset<argument>" id="dom-range-setendnode-offset-offset">offset<a class="self-link" href="#dom-range-setendnode-offset-offset"></a></dfn>);
  void <a class="idl-code" data-global-name="Range<interface>/setStartBefore(node)<method>" data-link-type="method" href="#dom-range-setstartbeforenode">setStartBefore</a>(<a data-link-type="idl-name" href="#node">Node</a> <dfn class="idl-code" data-dfn-for="Range/setStartBefore(node)" data-dfn-type="argument" data-export="" data-global-name="Range<interface>/setStartBefore(node)<method>/node<argument>" id="dom-range-setstartbeforenode-node">node<a class="self-link" href="#dom-range-setstartbeforenode-node"></a></dfn>);
  void <a class="idl-code" data-global-name="Range<interface>/setStartAfter(node)<method>" data-link-type="method" href="#dom-range-setstartafternode">setStartAfter</a>(<a data-link-type="idl-name" href="#node">Node</a> <dfn class="idl-code" data-dfn-for="Range/setStartAfter(node)" data-dfn-type="argument" data-export="" data-global-name="Range<interface>/setStartAfter(node)<method>/node<argument>" id="dom-range-setstartafternode-node">node<a class="self-link" href="#dom-range-setstartafternode-node"></a></dfn>);
  void <a class="idl-code" data-global-name="Range<interface>/setEndBefore(node)<method>" data-link-type="method" href="#dom-range-setendbeforenode">setEndBefore</a>(<a data-link-type="idl-name" href="#node">Node</a> <dfn class="idl-code" data-dfn-for="Range/setEndBefore(node)" data-dfn-type="argument" data-export="" data-global-name="Range<interface>/setEndBefore(node)<method>/node<argument>" id="dom-range-setendbeforenode-node">node<a class="self-link" href="#dom-range-setendbeforenode-node"></a></dfn>);
  void <a class="idl-code" data-global-name="Range<interface>/setEndAfter(node)<method>" data-link-type="method" href="#dom-range-setendafternode">setEndAfter</a>(<a data-link-type="idl-name" href="#node">Node</a> <dfn class="idl-code" data-dfn-for="Range/setEndAfter(node)" data-dfn-type="argument" data-export="" data-global-name="Range<interface>/setEndAfter(node)<method>/node<argument>" id="dom-range-setendafternode-node">node<a class="self-link" href="#dom-range-setendafternode-node"></a></dfn>);
  void <a class="idl-code" data-global-name="Range<interface>/collapse(toStart)<method>/collapse()<method>" data-link-type="method" href="#dom-range-collapsetostart">collapse</a>(optional boolean <dfn class="idl-code" data-dfn-for="Range/collapse(toStart)" data-dfn-type="argument" data-export="" data-global-name="Range<interface>/collapse(toStart)<method>/toStart<argument>" id="dom-range-collapsetostart-tostart">toStart<a class="self-link" href="#dom-range-collapsetostart-tostart"></a></dfn> = false);
  void <a class="idl-code" data-global-name="Range<interface>/selectNode(node)<method>" data-link-type="method" href="#dom-range-selectnodenode">selectNode</a>(<a data-link-type="idl-name" href="#node">Node</a> <dfn class="idl-code" data-dfn-for="Range/selectNode(node)" data-dfn-type="argument" data-export="" data-global-name="Range<interface>/selectNode(node)<method>/node<argument>" id="dom-range-selectnodenode-node">node<a class="self-link" href="#dom-range-selectnodenode-node"></a></dfn>);
  void <a class="idl-code" data-global-name="Range<interface>/selectNodeContents(node)<method>" data-link-type="method" href="#dom-range-selectnodecontentsnode">selectNodeContents</a>(<a data-link-type="idl-name" href="#node">Node</a> <dfn class="idl-code" data-dfn-for="Range/selectNodeContents(node)" data-dfn-type="argument" data-export="" data-global-name="Range<interface>/selectNodeContents(node)<method>/node<argument>" id="dom-range-selectnodecontentsnode-node">node<a class="self-link" href="#dom-range-selectnodecontentsnode-node"></a></dfn>);

  const unsigned short <dfn class="idl-code" data-dfn-for="Range" data-dfn-type="const" data-export="" data-global-name="Range<interface>/START_TO_START<const>" id="dom-range-start_to_start">START_TO_START<a class="self-link" href="#dom-range-start_to_start"></a></dfn> = 0;
  const unsigned short <dfn class="idl-code" data-dfn-for="Range" data-dfn-type="const" data-export="" data-global-name="Range<interface>/START_TO_END<const>" id="dom-range-start_to_end">START_TO_END<a class="self-link" href="#dom-range-start_to_end"></a></dfn> = 1;
  const unsigned short <dfn class="idl-code" data-dfn-for="Range" data-dfn-type="const" data-export="" data-global-name="Range<interface>/END_TO_END<const>" id="dom-range-end_to_end">END_TO_END<a class="self-link" href="#dom-range-end_to_end"></a></dfn> = 2;
  const unsigned short <dfn class="idl-code" data-dfn-for="Range" data-dfn-type="const" data-export="" data-global-name="Range<interface>/END_TO_START<const>" id="dom-range-end_to_start">END_TO_START<a class="self-link" href="#dom-range-end_to_start"></a></dfn> = 3;
  short <a class="idl-code" data-global-name="Range<interface>/compareBoundaryPoints(how, sourceRange)<method>" data-link-type="method" href="#dom-range-compareboundarypointshow-sourcerange">compareBoundaryPoints</a>(unsigned short <dfn class="idl-code" data-dfn-for="Range/compareBoundaryPoints(how, sourceRange)" data-dfn-type="argument" data-export="" data-global-name="Range<interface>/compareBoundaryPoints(how, sourceRange)<method>/how<argument>" id="dom-range-compareboundarypointshow-sourcerange-how">how<a class="self-link" href="#dom-range-compareboundarypointshow-sourcerange-how"></a></dfn>, <a data-link-type="idl-name" href="#range">Range</a> <dfn class="idl-code" data-dfn-for="Range/compareBoundaryPoints(how, sourceRange)" data-dfn-type="argument" data-export="" data-global-name="Range<interface>/compareBoundaryPoints(how, sourceRange)<method>/sourceRange<argument>" id="dom-range-compareboundarypointshow-sourcerange-sourcerange">sourceRange<a class="self-link" href="#dom-range-compareboundarypointshow-sourcerange-sourcerange"></a></dfn>);

  void <a class="idl-code" data-global-name="Range<interface>/deleteContents()<method>" data-link-type="method" href="#dom-range-deletecontents">deleteContents</a>();
  [NewObject] <a data-link-type="idl-name" href="#documentfragment">DocumentFragment</a> <a class="idl-code" data-global-name="Range<interface>/extractContents()<method>" data-link-type="method" href="#dom-range-extractcontents">extractContents</a>();
  [NewObject] <a data-link-type="idl-name" href="#documentfragment">DocumentFragment</a> <a class="idl-code" data-global-name="Range<interface>/cloneContents()<method>" data-link-type="method" href="#dom-range-clonecontents">cloneContents</a>();
  void <a class="idl-code" data-global-name="Range<interface>/insertNode(node)<method>" data-link-type="method" href="#dom-range-insertnodenode">insertNode</a>(<a data-link-type="idl-name" href="#node">Node</a> <dfn class="idl-code" data-dfn-for="Range/insertNode(node)" data-dfn-type="argument" data-export="" data-global-name="Range<interface>/insertNode(node)<method>/node<argument>" id="dom-range-insertnodenode-node">node<a class="self-link" href="#dom-range-insertnodenode-node"></a></dfn>);
  void <a class="idl-code" data-global-name="Range<interface>/surroundContents(newParent)<method>" data-link-type="method" href="#dom-range-surroundcontentsnewparent">surroundContents</a>(<a data-link-type="idl-name" href="#node">Node</a> <dfn class="idl-code" data-dfn-for="Range/surroundContents(newParent)" data-dfn-type="argument" data-export="" data-global-name="Range<interface>/surroundContents(newParent)<method>/newParent<argument>" id="dom-range-surroundcontentsnewparent-newparent">newParent<a class="self-link" href="#dom-range-surroundcontentsnewparent-newparent"></a></dfn>);

  [NewObject] <a data-link-type="idl-name" href="#range">Range</a> <a class="idl-code" data-global-name="Range<interface>/cloneRange()<method>" data-link-type="method" href="#dom-range-clonerange">cloneRange</a>();
  void <a class="idl-code" data-global-name="Range<interface>/detach()<method>" data-link-type="method" href="#dom-range-detach">detach</a>();

  boolean <a class="idl-code" data-global-name="Range<interface>/isPointInRange(node, offset)<method>" data-link-type="method" href="#dom-range-ispointinrangenode-offset">isPointInRange</a>(<a data-link-type="idl-name" href="#node">Node</a> <dfn class="idl-code" data-dfn-for="Range/isPointInRange(node, offset)" data-dfn-type="argument" data-export="" data-global-name="Range<interface>/isPointInRange(node, offset)<method>/node<argument>" id="dom-range-ispointinrangenode-offset-node">node<a class="self-link" href="#dom-range-ispointinrangenode-offset-node"></a></dfn>, unsigned long <dfn class="idl-code" data-dfn-for="Range/isPointInRange(node, offset)" data-dfn-type="argument" data-export="" data-global-name="Range<interface>/isPointInRange(node, offset)<method>/offset<argument>" id="dom-range-ispointinrangenode-offset-offset">offset<a class="self-link" href="#dom-range-ispointinrangenode-offset-offset"></a></dfn>);
  short <a class="idl-code" data-global-name="Range<interface>/comparePoint(node, offset)<method>" data-link-type="method" href="#dom-range-comparepointnode-offset">comparePoint</a>(<a data-link-type="idl-name" href="#node">Node</a> <dfn class="idl-code" data-dfn-for="Range/comparePoint(node, offset)" data-dfn-type="argument" data-export="" data-global-name="Range<interface>/comparePoint(node, offset)<method>/node<argument>" id="dom-range-comparepointnode-offset-node">node<a class="self-link" href="#dom-range-comparepointnode-offset-node"></a></dfn>, unsigned long <dfn class="idl-code" data-dfn-for="Range/comparePoint(node, offset)" data-dfn-type="argument" data-export="" data-global-name="Range<interface>/comparePoint(node, offset)<method>/offset<argument>" id="dom-range-comparepointnode-offset-offset">offset<a class="self-link" href="#dom-range-comparepointnode-offset-offset"></a></dfn>);

  boolean <a class="idl-code" data-global-name="Range<interface>/intersectsNode(node)<method>" data-link-type="method" href="#dom-range-intersectsnodenode">intersectsNode</a>(<a data-link-type="idl-name" href="#node">Node</a> <dfn class="idl-code" data-dfn-for="Range/intersectsNode(node)" data-dfn-type="argument" data-export="" data-global-name="Range<interface>/intersectsNode(node)<method>/node<argument>" id="dom-range-intersectsnodenode-node">node<a class="self-link" href="#dom-range-intersectsnodenode-node"></a></dfn>);

  <a data-global-name="Range/stringification behavior<dfn>" data-link-type="dfn" href="#dom-Range-toString">stringifier</a>;
};
</pre>


   <p><code class="idl"><a data-link-type="idl" href="#range">Range</a></code> objects are simply known as
<dfn data-dfn-type="dfn" data-export="" data-lt="range" id="concept-range">ranges<a class="self-link" href="#concept-range"></a></dfn>.</p>


   <p>A <dfn data-dfn-for="Range" data-dfn-type="dfn" data-export="" id="concept-range-bp">boundary point<a class="self-link" href="#concept-range-bp"></a></dfn> is a
(<a data-link-type="dfn" href="#concept-node">node</a>,
<dfn data-dfn-for="boundary point" data-dfn-type="dfn" data-export="" id="concept-range-bp-offset">offset<a class="self-link" href="#concept-range-bp-offset"></a></dfn>) tuple, where
<a data-link-type="dfn" href="#concept-range-bp-offset">offset</a> is a non-negative
integer.</p>


   <p class="note" role="note">Note: Generally speaking, a
<a data-link-type="dfn" href="#concept-range-bp">boundary point</a>’s
<a data-link-type="dfn" href="#concept-range-bp-offset">offset</a> will be between zero and
the <a data-link-type="dfn" href="#concept-range-bp">boundary point</a>’s
<a data-link-type="dfn" href="#concept-node">node</a>
<a data-link-type="dfn" href="#concept-node-length">length</a>, inclusive. Algorithms that
modify a <a data-link-type="dfn" href="#concept-tree">tree</a> (in particular the
<a data-link-type="dfn" href="#concept-node-insert">insert</a>,
<a data-link-type="dfn" href="#concept-node-remove">remove</a>,
<a data-link-type="dfn" href="#concept-CD-replace">replace data</a>, and
<a data-link-type="dfn" href="#concept-Text-split">split</a> algorithms) also modify
<a data-link-type="dfn" href="#concept-range">ranges</a> associated with that
<a data-link-type="dfn" href="#concept-tree">tree</a>.</p>


   <p>If the two <a data-link-type="dfn" href="#concept-node">nodes</a> of
<a data-link-type="dfn" href="#concept-range-bp">boundary points</a>
(<var>node A</var>, <var>offset A</var>) and
(<var>node B</var>, <var>offset B</var>) have the same
<a data-link-type="dfn" href="#concept-tree-root">root</a>, the
<dfn data-dfn-for="Range" data-dfn-type="dfn" data-export="" id="concept-range-bp-position">position<a class="self-link" href="#concept-range-bp-position"></a></dfn> of the first relative to
the second is either <dfn data-dfn-for="Range" data-dfn-type="dfn" data-export="" id="concept-range-bp-before">before<a class="self-link" href="#concept-range-bp-before"></a></dfn>,
<dfn data-dfn-for="Range" data-dfn-type="dfn" data-export="" id="concept-range-bp-equal">equal<a class="self-link" href="#concept-range-bp-equal"></a></dfn>, or
<dfn data-dfn-for="Range" data-dfn-type="dfn" data-export="" id="concept-range-bp-after">after<a class="self-link" href="#concept-range-bp-after"></a></dfn>,
as returned by the following algorithm:</p>


   <ol>
 
    <li>If <var>node A</var> is the same as <var>node B</var>,
 return <a data-link-type="dfn" href="#concept-range-bp-equal">equal</a> if
 <var>offset A</var> is the same as <var>offset B</var>,
 <a data-link-type="dfn" href="#concept-range-bp-before">before</a> if
 <var>offset A</var> is less than <var>offset B</var>, and
 <a data-link-type="dfn" href="#concept-range-bp-after">after</a> if
 <var>offset A</var> is greater than <var>offset B</var>.

 
    <li>If <var>node A</var> is
 <a data-link-type="dfn" href="#concept-tree-following">following</a>
 <var>node B</var>, compute the
 <a data-link-type="dfn" href="#concept-range-bp-position">position</a> of
 (<var>node B</var>, <var>offset B</var>) relative to
 (<var>node A</var>, <var>offset A</var>). If it is
 <a data-link-type="dfn" href="#concept-range-bp-before">before</a>, return
 <a data-link-type="dfn" href="#concept-range-bp-after">after</a>. If it is
 <a data-link-type="dfn" href="#concept-range-bp-after">after</a>, return
 <a data-link-type="dfn" href="#concept-range-bp-before">before</a>.

 
    <li>
  If <var>node A</var> is an
  <a data-link-type="dfn" href="#concept-tree-ancestor">ancestor</a> of
  <var>node B</var>:

  
     <ol>
   
      <li>Let <var>child</var> equal <var>node B</var>.

   
      <li>While <var>child</var> is not a
   <a data-link-type="dfn" href="#concept-tree-child">child</a> of <var>node A</var>,
   set <var>child</var> to its
   <a data-link-type="dfn" href="#concept-tree-parent">parent</a>.

   
      <li>If the <a data-link-type="dfn" href="#concept-tree-index">index</a> of
   <var>child</var> is less than <var>offset A</var>, return
   <a data-link-type="dfn" href="#concept-range-bp-after">after</a>.
  
     </ol>
     

 
    <li>Return <a data-link-type="dfn" href="#concept-range-bp-before">before</a>.
</ol>


   <p>Each <a data-link-type="dfn" href="#concept-range">range</a> has two associated
<a data-link-type="dfn" href="#concept-range-bp">boundary points</a> — a
<dfn data-dfn-for="Range" data-dfn-type="dfn" data-export="" id="concept-range-start">start<a class="self-link" href="#concept-range-start"></a></dfn> and
<dfn data-dfn-for="Range" data-dfn-type="dfn" data-export="" id="concept-range-end">end<a class="self-link" href="#concept-range-end"></a></dfn>.</p>


   <p>For convenience, <dfn data-dfn-for="Range" data-dfn-type="dfn" data-export="" id="concept-range-start-node">start node<a class="self-link" href="#concept-range-start-node"></a></dfn> is
<a data-link-type="dfn" href="#concept-range-start">start</a>’s
<a data-link-type="dfn" href="#concept-node">node</a>,
<dfn data-dfn-for="Range" data-dfn-type="dfn" data-export="" id="concept-range-start-offset">start offset<a class="self-link" href="#concept-range-start-offset"></a></dfn> is
<a data-link-type="dfn" href="#concept-range-start">start</a>’s
<a data-link-type="dfn" href="#concept-range-bp-offset">offset</a>,
<dfn data-dfn-for="Range" data-dfn-type="dfn" data-export="" id="concept-range-end-node">end node<a class="self-link" href="#concept-range-end-node"></a></dfn> is
<a data-link-type="dfn" href="#concept-range-end">end</a>’s
<a data-link-type="dfn" href="#concept-node">node</a>,  and
<dfn data-dfn-for="Range" data-dfn-type="dfn" data-export="" id="concept-range-end-offset">end offset<a class="self-link" href="#concept-range-end-offset"></a></dfn> is
<a data-link-type="dfn" href="#concept-range-end">end</a>’s
<a data-link-type="dfn" href="#concept-range-bp-offset">offset</a>.</p>


   <p>The <dfn data-dfn-for="Range" data-dfn-type="dfn" data-export="" id="concept-range-root">root<a class="self-link" href="#concept-range-root"></a></dfn> of a
<a data-link-type="dfn" href="#concept-range">range</a> is the
<a data-link-type="dfn" href="#concept-tree-root">root</a> of its
<a data-link-type="dfn" href="#concept-range-start-node">start node</a>.</p>



   <p>A <a data-link-type="dfn" href="#concept-node">node</a> <var>node</var> is
<dfn data-dfn-for="Range" data-dfn-type="dfn" data-export="" id="contained">contained<a class="self-link" href="#contained"></a></dfn> in a <a data-link-type="dfn" href="#concept-range">range</a>
<var>range</var> if <var>node</var>’s
<a data-link-type="dfn" href="#concept-tree-root">root</a> is
the same as <var>range</var>’s
<a data-link-type="dfn" href="#concept-range-root">root</a>, and (<var>node</var>, 0)
is <a data-link-type="dfn" href="#concept-range-bp-after">after</a> <var>range</var>’s
<a data-link-type="dfn" href="#concept-range-start">start</a>, and (<var>node</var>,
<a data-link-type="dfn" href="#concept-node-length">length</a> of <var>node</var>) is
<a data-link-type="dfn" href="#concept-range-bp-before">before</a> <var>range</var>’s
<a data-link-type="dfn" href="#concept-range-end">end</a>.</p>


   <p>A <a data-link-type="dfn" href="#concept-node">node</a> is <dfn data-dfn-for="Range" data-dfn-type="dfn" data-export="" id="partially-contained">partially contained<a class="self-link" href="#partially-contained"></a></dfn>
in a <a data-link-type="dfn" href="#concept-range">range</a> if it is an
<a data-link-type="dfn" href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of the
<a data-link-type="dfn" href="#concept-range">range</a>’s
<a data-link-type="dfn" href="#concept-range-start-node">start node</a> but not its
<a data-link-type="dfn" href="#concept-range-end-node">end node</a>, or vice versa.</p>


   <div class="note" role="note">
 Some facts to better understand these definitions:

 
    <ul>
  
     <li>The content that one would think of as being within the
  <a data-link-type="dfn" href="#concept-range">range</a> consists of all
  <a data-link-type="dfn" href="#contained">contained</a> <a data-link-type="dfn" href="#concept-node">nodes</a>, plus
  possibly some of the contents of the
  <a data-link-type="dfn" href="#concept-range-start-node">start node</a> and
  <a data-link-type="dfn" href="#concept-range-end-node">end node</a> if those are
  <code class="idl"><a data-link-type="idl" href="#text">Text</a></code>, <code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code>, or
  <code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code> <a data-link-type="dfn" href="#concept-node">nodes</a>.

  
     <li>The <a data-link-type="dfn" href="#concept-node">nodes</a> that are contained in a
  <a data-link-type="dfn" href="#concept-range">range</a> will generally not be contiguous,
  because the <a data-link-type="dfn" href="#concept-tree-parent">parent</a> of a
  <a data-link-type="dfn" href="#contained">contained</a> <a data-link-type="dfn" href="#concept-node">node</a> will not
  always be <a data-link-type="dfn" href="#contained">contained</a>.

  
     <li>However, the <a data-link-type="dfn" href="#concept-tree-descendant">descendants</a>
  of a <a data-link-type="dfn" href="#contained">contained</a> <a data-link-type="dfn" href="#concept-node">node</a> are
  <a data-link-type="dfn" href="#contained">contained</a>, and if two
  <a data-link-type="dfn" href="#concept-tree-sibling">siblings</a> are
  <a data-link-type="dfn" href="#contained">contained</a>, so are any
  <a data-link-type="dfn" href="#concept-tree-sibling">siblings</a> that lie between them.

  
     <li>The first <a data-link-type="dfn" href="#contained">contained</a>
  <a data-link-type="dfn" href="#concept-node">node</a> (if there are any) will always be
  after the <a data-link-type="dfn" href="#concept-range-start-node">start node</a>, and the
  last <a data-link-type="dfn" href="#contained">contained</a> <a data-link-type="dfn" href="#concept-node">node</a> will
  always be equal to or before the
  <a data-link-type="dfn" href="#concept-range-end-node">end node</a>’s last
  <a data-link-type="dfn" href="#concept-tree-descendant">descendant</a>.

  
     <li>The <a data-link-type="dfn" href="#concept-range-start-node">start node</a> and
  <a data-link-type="dfn" href="#concept-range-end-node">end node</a> of a
  <a data-link-type="dfn" href="#concept-range">range</a> are never <a data-link-type="dfn" href="#contained">contained</a>
  within it.

  
     <li>There exists some partially contained
  <a data-link-type="dfn" href="#concept-node">node</a> if and only if the
  <a data-link-type="dfn" href="#concept-range-start-node">start node</a> and
  <a data-link-type="dfn" href="#concept-range-end-node">end node</a> are different.

  
     <li>The
  <code class="idl"><a data-link-type="idl" href="#dom-range-commonancestorcontainer">commonAncestorContainer</a></code>
  attribute value is never <a data-link-type="dfn" href="#contained">contained</a> or
  <a data-link-type="dfn" href="#partially-contained">partially contained</a>.

  
     <li>If the <a data-link-type="dfn" href="#concept-range-start-node">start node</a> is an
  <a data-link-type="dfn" href="#concept-tree-ancestor">ancestor</a> of the
  <a data-link-type="dfn" href="#concept-range-end-node">end node</a>, the common
  <a data-link-type="dfn" href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> will
  be the <a data-link-type="dfn" href="#concept-range-start-node">start node</a>. Exactly one
  of its <a data-link-type="dfn" href="#concept-tree-child">children</a> will be
  <a data-link-type="dfn" href="#partially-contained">partially contained</a>, and a
  <a data-link-type="dfn" href="#concept-tree-child">child</a> will be <a data-link-type="dfn" href="#contained">contained</a>
  if and only if it <a data-link-type="dfn" href="#concept-tree-preceding">precedes</a> the
  <a data-link-type="dfn" href="#partially-contained">partially contained</a>
  <a data-link-type="dfn" href="#concept-tree-child">child</a>. If the
  <a data-link-type="dfn" href="#concept-range-end-node">end node</a> is an
  <a data-link-type="dfn" href="#concept-tree-ancestor">ancestor</a> of the
  <a data-link-type="dfn" href="#concept-range-start-node">start node</a>, the opposite
  holds.

  
     <li>If the <a data-link-type="dfn" href="#concept-range-start-node">start node</a> is
  not an
  <a data-link-type="dfn" href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of
  the <a data-link-type="dfn" href="#concept-range-end-node">end node</a>, nor vice versa,
  the common
  <a data-link-type="dfn" href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> will
  be distinct from both of them. Exactly two of its
  <a data-link-type="dfn" href="#concept-tree-child">children</a> will be
  <a data-link-type="dfn" href="#partially-contained">partially contained</a>, and a
  <a data-link-type="dfn" href="#concept-tree-child">child</a> will be contained if and only
  if it lies between those two.
 
    </ul>
</div>


   <hr>


   <dl class="domintro">
 
    <dt><code><var>range</var> = new <a class="idl-code" data-link-type="constructor" href="#dom-range-range">Range()</a></code>
 
    <dd>Returns a new <a data-link-type="dfn" href="#concept-range">range</a>.
</dl>


   <p>The <dfn class="idl-code" data-dfn-for="Range" data-dfn-type="constructor" data-export="" id="dom-range-range"><code>Range()</code><a class="self-link" href="#dom-range-range"></a></dfn> constructor must return a new
<a data-link-type="dfn" href="#concept-range">range</a> with
(global object’s associated <a data-link-type="dfn" href="#concept-document">document</a>, 0) as its
<a data-link-type="dfn" href="#concept-range-start">start</a> and
<a data-link-type="dfn" href="#concept-range-end">end</a>.</p>


   <hr>


   <dl class="domintro">
 
    <dt><var>node</var> = <var>range</var> . <code class="idl"><a data-link-type="idl" href="#dom-range-startcontainer">startContainer</a></code>
 
    <dd>Returns <var>range</var>’s
 <a data-link-type="dfn" href="#concept-range-start-node">start node</a>.

 
    <dt><var>offset</var> = <var>range</var> . <code class="idl"><a data-link-type="idl" href="#dom-range-startoffset">startOffset</a></code>
 
    <dd>Returns <var>range</var>’s
 <a data-link-type="dfn" href="#concept-range-start-offset">start offset</a>.

 
    <dt><var>node</var> = <var>range</var> . <code class="idl"><a data-link-type="idl" href="#dom-range-endcontainer">endContainer</a></code>
 
    <dd>Returns <var>range</var>’s
 <a data-link-type="dfn" href="#concept-range-end-node">end node</a>.

 
    <dt><var>offset</var> = <var>range</var> . <code class="idl"><a data-link-type="idl" href="#dom-range-endoffset">endOffset</a></code>
 
    <dd>Returns <var>range</var>’s
 <a data-link-type="dfn" href="#concept-range-end-offset">end offset</a>.

 
    <dt><var>collapsed</var> = <var>range</var> . <code class="idl"><a data-link-type="idl" href="#dom-range-collapsed">collapsed</a></code>
 
    <dd>Returns true if <var>range</var>’s
 <a data-link-type="dfn" href="#concept-range-start">start</a> and
 <a data-link-type="dfn" href="#concept-range-end">end</a> are the same, and false otherwise.

 
    <dt><var>container</var> = <var>range</var> . <code class="idl"><a data-link-type="idl" href="#dom-range-commonancestorcontainer">commonAncestorContainer</a></code>
 
    <dd>Returns the <a data-link-type="dfn" href="#concept-node">node</a>, furthest away from
 the <a data-link-type="dfn" href="#concept-document">document</a>, that is an
 <a data-link-type="dfn" href="#concept-tree-ancestor">ancestor</a> of both
 <var>range</var>’s
 <a data-link-type="dfn" href="#concept-range-start-node">start node</a> and
 <a data-link-type="dfn" href="#concept-range-end-node">end node</a>.
</dl>


   <p>The <dfn class="idl-code" data-dfn-for="Range" data-dfn-type="attribute" data-export="" id="dom-range-startcontainer">startContainer<a class="self-link" href="#dom-range-startcontainer"></a></dfn>
attribute must return the
<a data-link-type="dfn" href="#concept-range-start-node">start node</a>.</p>


   <p>The <dfn class="idl-code" data-dfn-for="Range" data-dfn-type="attribute" data-export="" id="dom-range-startoffset">startOffset<a class="self-link" href="#dom-range-startoffset"></a></dfn>
attribute must return the
<a data-link-type="dfn" href="#concept-range-start-offset">start offset</a>.</p>


   <p>The <dfn class="idl-code" data-dfn-for="Range" data-dfn-type="attribute" data-export="" id="dom-range-endcontainer">endContainer<a class="self-link" href="#dom-range-endcontainer"></a></dfn>
attribute must return the
<a data-link-type="dfn" href="#concept-range-end-node">end node</a>.</p>


   <p>The <dfn class="idl-code" data-dfn-for="Range" data-dfn-type="attribute" data-export="" id="dom-range-endoffset">endOffset<a class="self-link" href="#dom-range-endoffset"></a></dfn>
attribute must return the
<a data-link-type="dfn" href="#concept-range-end-offset">end offset</a>.</p>


   <p>The <dfn class="idl-code" data-dfn-for="Range" data-dfn-type="attribute" data-export="" id="dom-range-collapsed">collapsed<a class="self-link" href="#dom-range-collapsed"></a></dfn> attribute
must return true if <a data-link-type="dfn" href="#concept-range-start">start</a> is the same
as <a data-link-type="dfn" href="#concept-range-end">end</a>, and false otherwise.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="Range" data-dfn-type="attribute" data-export="" id="dom-range-commonancestorcontainer">commonAncestorContainer<a class="self-link" href="#dom-range-commonancestorcontainer"></a></dfn>
attribute must run these steps:</p>


   <ol>
 
    <li>Let <var>container</var> be
 <a data-link-type="dfn" href="#concept-range-start-node">start node</a>.

 
    <li>While <var>container</var> is not an
 <a data-link-type="dfn" href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of
 <a data-link-type="dfn" href="#concept-range-end-node">end node</a>, let
 <var>container</var> be <var>container</var>’s
 <a data-link-type="dfn" href="#concept-tree-parent">parent</a>.

 
    <li>Return <var>container</var>.
</ol>


   <hr>


   <p>To <dfn data-dfn-for="Range" data-dfn-type="dfn" data-export="" data-lt="set the start|set the end" id="concept-range-bp-set">set the start or end<a class="self-link" href="#concept-range-bp-set"></a></dfn> of a
<var>range</var> to a
<a data-link-type="dfn" href="#concept-range-bp">boundary point</a>
(<var>node</var>, <var>offset</var>), run these steps:</p>


   <ol>
 
    <li>If <var>node</var> is a
 <a data-link-type="dfn" href="#concept-doctype">doctype</a>,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> an
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidnodetypeerror">InvalidNodeTypeError</a></code> exception.

 
    <li>If <var>offset</var> is greater than
 <var>node</var>’s <a data-link-type="dfn" href="#concept-node-length">length</a>,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> an
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#indexsizeerror">IndexSizeError</a></code> exception.

 
    <li>Let <var>bp</var> be the
 <a data-link-type="dfn" href="#concept-range-bp">boundary point</a>
 (<var>node</var>, <var>offset</var>).

 
    <li>
  
     <dl class="switch">
   
      <dt>If these steps were invoked as "set the start"
   
      <dd>
    
       <ol>
     
        <li>If <var>bp</var> is
     <a data-link-type="dfn" href="#concept-range-bp-after">after</a> the
     <var>range</var>’s <a data-link-type="dfn" href="#concept-range-end">end</a>, or
     if <var>range</var>’s
     <a data-link-type="dfn" href="#concept-range-root">root</a> is not equal to
     <var>node</var>’s <a data-link-type="dfn" href="#concept-tree-root">root</a>, set
     <var>range</var>’s <a data-link-type="dfn" href="#concept-range-end">end</a> to
     <var>bp</var>.

     
        <li>Set <var>range</var>’s
     <a data-link-type="dfn" href="#concept-range-start">start</a> to <var>bp</var>.
    
       </ol>
       
   
      <dt>If these steps were invoked as "set the end"
   
      <dd>
    
       <ol>
     
        <li>If <var>bp</var> is
     <a data-link-type="dfn" href="#concept-range-bp-before">before</a> the
     <var>range</var>’s <a data-link-type="dfn" href="#concept-range-start">start</a>,
     or if <var>range</var>’s
     <a data-link-type="dfn" href="#concept-range-root">root</a> is not equal to
     <var>node</var>’s <a data-link-type="dfn" href="#concept-tree-root">root</a>, set
     <var>range</var>’s <a data-link-type="dfn" href="#concept-range-start">start</a>
     to <var>bp</var>.

     
        <li>Set <var>range</var>’s
     <a data-link-type="dfn" href="#concept-range-end">end</a> to <var>bp</var>.
    
       </ol>
       
  
     </dl>
     
</ol>


   <p>The
<dfn class="idl-code" data-dfn-for="Range" data-dfn-type="method" data-export="" id="dom-range-setstartnode-offset">setStart(<var>node</var>, <var>offset</var>)<a class="self-link" href="#dom-range-setstartnode-offset"></a></dfn>
method must <a data-link-type="dfn" href="#concept-range-bp-set">set the start</a> of the
<a data-link-type="dfn" href="#context-object">context object</a> to
<a data-link-type="dfn" href="#concept-range-bp">boundary point</a>
(<var>node</var>, <var>offset</var>).</p>


   <p>The
<dfn class="idl-code" data-dfn-for="Range" data-dfn-type="method" data-export="" id="dom-range-setendnode-offset">setEnd(<var>node</var>, <var>offset</var>)<a class="self-link" href="#dom-range-setendnode-offset"></a></dfn>
method must <a data-link-type="dfn" href="#concept-range-bp-set">set the end</a> of the
<a data-link-type="dfn" href="#context-object">context object</a> to
<a data-link-type="dfn" href="#concept-range-bp">boundary point</a>
(<var>node</var>, <var>offset</var>).</p>


   <p>The
<dfn class="idl-code" data-dfn-for="Range" data-dfn-type="method" data-export="" id="dom-range-setstartbeforenode">setStartBefore(<var>node</var>)<a class="self-link" href="#dom-range-setstartbeforenode"></a></dfn>
method must run these steps:</p>


   <ol>
 
    <li>Let <var>parent</var> be <var>node</var>’s
 <a data-link-type="dfn" href="#concept-tree-parent">parent</a>.

 
    <li>If <var>parent</var> is null,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> an
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidnodetypeerror">InvalidNodeTypeError</a></code> exception.

 
    <li><a data-link-type="dfn" href="#concept-range-bp-set">Set the start</a> of the
 <a data-link-type="dfn" href="#context-object">context object</a> to
 <a data-link-type="dfn" href="#concept-range-bp">boundary point</a>
 (<var>parent</var>, <var>node</var>’s
 <a data-link-type="dfn" href="#concept-tree-index">index</a>).
</ol>


   <p>The
<dfn class="idl-code" data-dfn-for="Range" data-dfn-type="method" data-export="" id="dom-range-setstartafternode">setStartAfter(<var>node</var>)<a class="self-link" href="#dom-range-setstartafternode"></a></dfn>
method must run these steps:</p>


   <ol>
 
    <li>Let <var>parent</var> be <var>node</var>’s
 <a data-link-type="dfn" href="#concept-tree-parent">parent</a>.

 
    <li>If <var>parent</var> is null,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> an
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidnodetypeerror">InvalidNodeTypeError</a></code> exception.

 
    <li><a data-link-type="dfn" href="#concept-range-bp-set">Set the start</a> of the
 <a data-link-type="dfn" href="#context-object">context object</a> to
 <a data-link-type="dfn" href="#concept-range-bp">boundary point</a>
 (<var>parent</var>, <var>node</var>’s
 <a data-link-type="dfn" href="#concept-tree-index">index</a> plus one).
</ol>


   <p>The
<dfn class="idl-code" data-dfn-for="Range" data-dfn-type="method" data-export="" id="dom-range-setendbeforenode">setEndBefore(<var>node</var>)<a class="self-link" href="#dom-range-setendbeforenode"></a></dfn>
method must run these steps:</p>


   <ol>
 
    <li>Let <var>parent</var> be <var>node</var>’s
 <a data-link-type="dfn" href="#concept-tree-parent">parent</a>.

 
    <li>If <var>parent</var> is null,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> an
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidnodetypeerror">InvalidNodeTypeError</a></code> exception.

 
    <li><a data-link-type="dfn" href="#concept-range-bp-set">Set the end</a> of the
 <a data-link-type="dfn" href="#context-object">context object</a> to
 <a data-link-type="dfn" href="#concept-range-bp">boundary point</a>
 (<var>parent</var>, <var>node</var>’s <a data-link-type="dfn" href="#concept-tree-index">index</a>).
</ol>


   <p>The
<dfn class="idl-code" data-dfn-for="Range" data-dfn-type="method" data-export="" id="dom-range-setendafternode">setEndAfter(<var>node</var>)<a class="self-link" href="#dom-range-setendafternode"></a></dfn>
method must run these steps:</p>


   <ol>
 
    <li>Let <var>parent</var> be <var>node</var>’s
 <a data-link-type="dfn" href="#concept-tree-parent">parent</a>.

 
    <li>If <var>parent</var> is null,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> an
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidnodetypeerror">InvalidNodeTypeError</a></code> exception.

 
    <li><a data-link-type="dfn" href="#concept-range-bp-set">Set the end</a> of the
 <a data-link-type="dfn" href="#context-object">context object</a> to
 <a data-link-type="dfn" href="#concept-range-bp">boundary point</a>
 (<var>parent</var>, <var>node</var>’s <a data-link-type="dfn" href="#concept-tree-index">index</a> plus one).
</ol>



   <p>The
<dfn class="idl-code" data-dfn-for="Range" data-dfn-type="method" data-export="" data-lt="collapse(toStart)|collapse()" id="dom-range-collapsetostart">collapse(<var>toStart</var>)<a class="self-link" href="#dom-range-collapsetostart"></a></dfn>
method must if <var>toStart</var> is true, set
<a data-link-type="dfn" href="#concept-range-end">end</a> to
<a data-link-type="dfn" href="#concept-range-start">start</a>, and set
<a data-link-type="dfn" href="#concept-range-start">start</a> to
<a data-link-type="dfn" href="#concept-range-end">end</a> otherwise.</p>


   <p>To <dfn data-dfn-for="Range" data-dfn-type="dfn" data-export="" id="concept-range-select">select<a class="self-link" href="#concept-range-select"></a></dfn> a <a data-link-type="dfn" href="#concept-node">node</a>
<var>node</var> within a <a data-link-type="dfn" href="#concept-range">range</a>
<var>range</var>, run these steps:</p>


   <ol>
 
    <li>Let <var>parent</var> be <var>node</var>’s
 <a data-link-type="dfn" href="#concept-tree-parent">parent</a>.

 
    <li>If <var>parent</var> is null, <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> an
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidnodetypeerror">InvalidNodeTypeError</a></code>.

 
    <li>Let <var>index</var> be <var>node</var>’s
 <a data-link-type="dfn" href="#concept-tree-index">index</a>.

 
    <li>Set <var>range</var>’s <a data-link-type="dfn" href="#concept-range-start">start</a> to
 <a data-link-type="dfn" href="#concept-range-bp">boundary point</a>
 (<var>parent</var>, <var>index</var>).

 
    <li>Set <var>range</var>’s <a data-link-type="dfn" href="#concept-range-end">end</a> to
 <a data-link-type="dfn" href="#concept-range-bp">boundary point</a>
 (<var>parent</var>, <var>index</var> plus one).
</ol>


   <p>The <dfn class="idl-code" data-dfn-for="Range" data-dfn-type="method" data-export="" id="dom-range-selectnodenode">selectNode(<var>node</var>)<a class="self-link" href="#dom-range-selectnodenode"></a></dfn>
method must <a data-link-type="dfn" href="#concept-range-select">select</a> <var>node</var> within
<a data-link-type="dfn" href="#context-object">context object</a>.</p>


   <p>The <dfn class="idl-code" data-dfn-for="Range" data-dfn-type="method" data-export="" id="dom-range-selectnodecontentsnode">selectNodeContents(<var>node</var>)<a class="self-link" href="#dom-range-selectnodecontentsnode"></a></dfn>
method must run these steps:</p>


   <ol>
 
    <li>If <var>node</var> is a
 <a data-link-type="dfn" href="#concept-doctype">doctype</a>,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> an
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidnodetypeerror">InvalidNodeTypeError</a></code>.

 
    <li>Let <var>length</var> be the
 <a data-link-type="dfn" href="#concept-node-length">length</a> of <var>node</var>.

 
    <li>Set <a data-link-type="dfn" href="#concept-range-start">start</a> to the
 <a data-link-type="dfn" href="#concept-range-bp">boundary point</a>
 (<var>node</var>, 0).

 
    <li>Set <a data-link-type="dfn" href="#concept-range-end">end</a> to the
 <a data-link-type="dfn" href="#concept-range-bp">boundary point</a>
 (<var>node</var>, <var>length</var>).
</ol>


   <hr>


   <p>The <dfn class="idl-code" data-dfn-for="Range" data-dfn-type="method" data-export="" id="dom-range-compareboundarypointshow-sourcerange">compareBoundaryPoints(<var>how</var>, <var>sourceRange</var>)<a class="self-link" href="#dom-range-compareboundarypointshow-sourcerange"></a></dfn>
method must run these steps:</p>


   <ol>
 
    <li>
  If <var>how</var> is not one of
  
     <ul>
   
      <li><code class="idl"><a data-link-type="idl" href="#dom-range-start_to_start">START_TO_START</a></code>,
   
      <li><code class="idl"><a data-link-type="idl" href="#dom-range-start_to_end">START_TO_END</a></code>,
   
      <li><code class="idl"><a data-link-type="idl" href="#dom-range-end_to_end">END_TO_END</a></code>, and
   
      <li><code class="idl"><a data-link-type="idl" href="#dom-range-end_to_start">END_TO_START</a></code>,
  
     </ul>
     
  <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a
  <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notsupportederror">NotSupportedError</a></code> exception.
 
     <p></p>
     

 
    <li>If <a data-link-type="dfn" href="#context-object">context object</a>’s
 <a data-link-type="dfn" href="#concept-range-root">root</a> is not the same as
 <var>sourceRange</var>’s <a data-link-type="dfn" href="#concept-range-root">root</a>,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#wrongdocumenterror">WrongDocumentError</a></code> exception.

 
    <li>
  If <var>how</var> is:
  
     <dl class="switch">
   
      <dt><code class="idl"><a data-link-type="idl" href="#dom-range-start_to_start">START_TO_START</a></code>:
   
      <dd>
    Let <var>this point</var> be the <a data-link-type="dfn" href="#context-object">context object</a>’s
    <a data-link-type="dfn" href="#concept-range-start">start</a>.
    Let <var>other point</var> be <var>sourceRange</var>’s
    <a data-link-type="dfn" href="#concept-range-start">start</a>.

   
      <dt><code class="idl"><a data-link-type="idl" href="#dom-range-start_to_end">START_TO_END</a></code>:
   
      <dd>
    Let <var>this point</var> be the <a data-link-type="dfn" href="#context-object">context object</a>’s
    <a data-link-type="dfn" href="#concept-range-end">end</a>.
    Let <var>other point</var> be <var>sourceRange</var>’s
    <a data-link-type="dfn" href="#concept-range-start">start</a>.

    
      <dt><code class="idl"><a data-link-type="idl" href="#dom-range-end_to_end">END_TO_END</a></code>:
    
      <dd>
     Let <var>this point</var> be the <a data-link-type="dfn" href="#context-object">context object</a>’s
     <a data-link-type="dfn" href="#concept-range-end">end</a>.
     Let <var>other point</var> be <var>sourceRange</var>’s
     <a data-link-type="dfn" href="#concept-range-end">end</a>.

    
      <dt><code class="idl"><a data-link-type="idl" href="#dom-range-end_to_start">END_TO_START</a></code>:
    
      <dd>
     Let <var>this point</var> be the <a data-link-type="dfn" href="#context-object">context object</a>’s
     <a data-link-type="dfn" href="#concept-range-start">start</a>.
     Let <var>other point</var> be <var>sourceRange</var>’s
     <a data-link-type="dfn" href="#concept-range-end">end</a>.
   
     </dl>
     

  
    <li>
   If the <a data-link-type="dfn" href="#concept-range-bp-position">position</a> of
   <var>this point</var> relative to <var>other point</var> is

   
     <dl class="switch">
    
      <dt><a data-link-type="dfn" href="#concept-range-bp-before">before</a>
    
      <dd>Return −1.

    
      <dt><a data-link-type="dfn" href="#concept-range-bp-equal">equal</a>
    
      <dd>Return 0.

    
      <dt><a data-link-type="dfn" href="#concept-range-bp-after">after</a>
    
      <dd>Return 1.
   
     </dl>
     
</ol>


   <p>The <dfn class="idl-code" data-dfn-for="Range" data-dfn-type="method" data-export="" id="dom-range-deletecontents">deleteContents()<a class="self-link" href="#dom-range-deletecontents"></a></dfn>
method must run these steps:</p>


   <ol>
 
    <li>If <a data-link-type="dfn" href="#concept-range-start">start</a> equals
 <a data-link-type="dfn" href="#concept-range-end">end</a>, terminate these steps.
 

 
    <li>Let <var>original start node</var>,
 <var>original start offset</var>, <var>original end node</var>,
 and <var>original end offset</var> be the
 <a data-link-type="dfn" href="#context-object">context object</a>’s
 <a data-link-type="dfn" href="#concept-range-start-node">start node</a>,
 <a data-link-type="dfn" href="#concept-range-start-offset">start offset</a>,
 <a data-link-type="dfn" href="#concept-range-end-node">end node</a>, and
 <a data-link-type="dfn" href="#concept-range-end-offset">end offset</a>, respectively.

 
    <li>If <var>original start node</var> and
 <var>original end node</var> are the same, and they are a
 <code class="idl"><a data-link-type="idl" href="#text">Text</a></code>, <code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code>, or
 <code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code> <a data-link-type="dfn" href="#concept-node">node</a>,
 <a data-link-type="dfn" href="#concept-CD-replace">replace data</a> with node
 <var>original start node</var>, offset
 <var>original start offset</var>, count
 <var>original end offset</var> minus
 <var>original start offset</var>, and data the empty string, and then
 terminate these steps.

 
    <li>Let <var>nodes to remove</var> be a list of all the
 <a data-link-type="dfn" href="#concept-node">nodes</a> that are <a data-link-type="dfn" href="#contained">contained</a> in
 the <a data-link-type="dfn" href="#context-object">context object</a>, in
 <a data-link-type="dfn" href="#concept-tree-order">tree order</a>, omitting any
 <a data-link-type="dfn" href="#concept-node">node</a> whose
 <a data-link-type="dfn" href="#concept-tree-parent">parent</a> is also
 <a data-link-type="dfn" href="#contained">contained</a> in the <a data-link-type="dfn" href="#context-object">context object</a>.

 
    <li>If <var>original start node</var> is an
 <a data-link-type="dfn" href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of
 <var>original end node</var>, set
 <var>new node</var> to <var>original start node</var> and
 <var>new offset</var> to <var>original start offset</var>.

 
    <li>
  Otherwise:
  
     <ol>
   
      <li>Let <var>reference node</var> equal
   <var>original start node</var>.

   
      <li>While <var>reference node</var>’s
   <a data-link-type="dfn" href="#concept-tree-parent">parent</a> is not null and is not an
   <a data-link-type="dfn" href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of
   <var>original end node</var>, set <var>reference node</var>
   to its <a data-link-type="dfn" href="#concept-tree-parent">parent</a>.

   
      <li>
    Set <var>new node</var> to the
    <a data-link-type="dfn" href="#concept-tree-parent">parent</a> of
    <var>reference node</var>, and <var>new offset</var> to one
    plus the <a data-link-type="dfn" href="#concept-tree-index">index</a> of
    <var>reference node</var>.


       <p class="note" role="note">Note: If <var>reference node</var>’s
    <a data-link-type="dfn" href="#concept-tree-parent">parent</a> were null, it would be the
    <a data-link-type="dfn" href="#concept-range-root">root</a> of the
    <a data-link-type="dfn" href="#context-object">context object</a>, so would be an
    <a data-link-type="dfn" href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of
    <var>original end node</var>, and we could not reach this point.</p>
       
  
     </ol>
     

 
    <li>If <var>original start node</var> is a <code class="idl"><a data-link-type="idl" href="#text">Text</a></code>,
 <code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code>, or <code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code>
 <a data-link-type="dfn" href="#concept-node">node</a>,
 <a data-link-type="dfn" href="#concept-CD-replace">replace data</a> with node
 <var>original start node</var>, offset
 <var>original start offset</var>, count
 <var>original start node</var>’s
 <a data-link-type="dfn" href="#concept-node-length">length</a> minus
 <var>original start offset</var>, data the empty string.

 
    <li>For each <var>node</var> in <var>nodes to remove</var>,
 in <a data-link-type="dfn" href="#concept-tree-order">tree order</a>,
 <a data-link-type="dfn" href="#concept-node-remove">remove</a> <var>node</var> from
 its <a data-link-type="dfn" href="#concept-tree-parent">parent</a>.

 
    <li>If <var>original end node</var> is a <code class="idl"><a data-link-type="idl" href="#text">Text</a></code>,
 <code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code>, or <code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code>
 <a data-link-type="dfn" href="#concept-node">node</a>,
 <a data-link-type="dfn" href="#concept-CD-replace">replace data</a> with node
 <var>original end node</var>, offset 0, count
 <var>original end offset</var> and data the empty string.

 
    <li>Set <a data-link-type="dfn" href="#concept-range-start">start</a> and
 <a data-link-type="dfn" href="#concept-range-end">end</a> to
 (<var>new node</var>, <var>new offset</var>).
</ol>


   <p>To <dfn data-dfn-type="dfn" data-export="" data-local-lt="extract" data-lt="extract a range" id="concept-range-extract">extract<a class="self-link" href="#concept-range-extract"></a></dfn> a
<a data-link-type="dfn" href="#concept-range">range</a> <var>range</var>, run these steps:</p>


   <ol>
 
    <li>Let <var>fragment</var> be a new <code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code>
 <a data-link-type="dfn" href="#concept-node">node</a> whose
 <a data-link-type="dfn" href="#concept-node-document">node document</a> is <var>range</var>’s
 <a data-link-type="dfn" href="#concept-range-start-node">start node</a>’s
 <a data-link-type="dfn" href="#concept-node-document">node document</a>.

 
    <li>If <var>range</var>’s <a data-link-type="dfn" href="#concept-range-start">start</a> equals
 its <a data-link-type="dfn" href="#concept-range-end">end</a>, return <var>fragment</var>.
 

 
    <li>Let <var>original start node</var>, <var>original start offset</var>,
 <var>original end node</var>, and <var>original end offset</var> be
 <var>range</var>’s <a data-link-type="dfn" href="#concept-range-start-node">start node</a>,
 <a data-link-type="dfn" href="#concept-range-start-offset">start offset</a>,
 <a data-link-type="dfn" href="#concept-range-end-node">end node</a>, and
 <a data-link-type="dfn" href="#concept-range-end-offset">end offset</a>, respectively.

 
    <li>
  If <var>original start node</var> equals
  <var>original end node</var>, and they are a <code class="idl"><a data-link-type="idl" href="#text">Text</a></code>,
  <code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code>, or <code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code>
  <a data-link-type="dfn" href="#concept-node">node</a>:

  
     <ol>
   
      <li>Let <var>clone</var> be a
   <a data-link-type="dfn" href="#concept-node-clone">clone</a> of
   <var>original start node</var>.

   
      <li>Set the <a data-link-type="dfn" href="#concept-CD-data">data</a> of
   <var>clone</var> to the result of
   <a data-link-type="dfn" href="#concept-CD-substring">substringing data</a> with node
   <var>original start node</var>, offset
   <var>original start offset</var>, and count
   <var>original end offset</var> minus
   <var>original start offset</var>.

   
      <li><a data-link-type="dfn" href="#concept-node-append">Append</a> <var>clone</var>
   to <var>fragment</var>.

   
      <li><a data-link-type="dfn" href="#concept-CD-replace">Replace data</a> with node
   <var>original start node</var>, offset
   <var>original start offset</var>, count
   <var>original end offset</var> minus
   <var>original start offset</var>, and data the empty string.

   
      <li>Return <var>fragment</var>.
  
     </ol>
     

 
    <li>Let <var>common ancestor</var> be
 <var>original start node</var>.

 
    <li>While <var>common ancestor</var> is not an
 <a data-link-type="dfn" href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of
 <var>original end node</var>, set <var>common ancestor</var> to
 its own <a data-link-type="dfn" href="#concept-tree-parent">parent</a>.

 
    <li>Let <var>first partially contained child</var> be null.

 
    <li>If <var>original start node</var> is <em>not</em> an
 <a data-link-type="dfn" href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of
 <var>original end node</var>, set <var>first partially contained child</var>
 to the first <a data-link-type="dfn" href="#concept-tree-child">child</a> of
 <var>common ancestor</var> that is <a data-link-type="dfn" href="#partially-contained">partially contained</a> in
 <var>range</var>.

 
    <li>Let <var>last partially contained child</var> be null.

 
    <li>
  If <var>original end node</var> is <em>not</em> an
  <a data-link-type="dfn" href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of
  <var>original start node</var>, set
  <var>last partially contained child</var> to the last
  <a data-link-type="dfn" href="#concept-tree-child">child</a> of <var>common ancestor</var> that is
  <a data-link-type="dfn" href="#partially-contained">partially contained</a> in <var>range</var>.


     <p class="note" role="note">Note: These variable assignments do actually always make sense.
  For instance, if <var>original start node</var> is not an
  <a data-link-type="dfn" href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of
  <var>original end node</var>, <var>original start node</var> is itself
  <a data-link-type="dfn" href="#partially-contained">partially contained</a> in <var>range</var>, and so are all its
  <a data-link-type="dfn" href="#concept-tree-ancestor">ancestors</a> up until a
  <a data-link-type="dfn" href="#concept-tree-child">child</a> of <var>common ancestor</var>.
  <var>common ancestor</var> cannot be <var>original start node</var>, because
  it has to be an <a data-link-type="dfn" href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of
  <var>original end node</var>. The other case is similar. Also, notice that the two
  <a data-link-type="dfn" href="#concept-tree-child">children</a> will never be equal if both are defined.</p>
     

 
    <li>Let <var>contained children</var> be a list of all
 <a data-link-type="dfn" href="#concept-tree-child">children</a> of
 <var>common ancestor</var> that are <a data-link-type="dfn" href="#contained">contained</a> in
 <var>range</var>, in <a data-link-type="dfn" href="#concept-tree-order">tree order</a>.

 
    <li>
  If any member of <var>contained children</var> is a
  <a data-link-type="dfn" href="#concept-doctype">doctype</a>, <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a
  <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#hierarchyrequesterror">HierarchyRequestError</a></code> exception.
  


     <p class="note" role="note">Note: We do not have to worry about the first or last partially
  contained node, because a <a data-link-type="dfn" href="#concept-doctype">doctype</a> can never be
  partially contained. It cannot be a boundary point of a range, and it
  cannot be the ancestor of anything.</p>
     

 
    <li>If <var>original start node</var> is an
 <a data-link-type="dfn" href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of
 <var>original end node</var>, set <var>new node</var> to
 <var>original start node</var> and <var>new offset</var> to
 <var>original start offset</var>.

 
    <li>
  Otherwise:
  
     <ol>
   
      <li>Let <var>reference node</var> equal <var>original start node</var>.

   
      <li>While <var>reference node</var>’s
   <a data-link-type="dfn" href="#concept-tree-parent">parent</a> is not null and is not an
   <a data-link-type="dfn" href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of
   <var>original end node</var>, set <var>reference node</var> to its
   <a data-link-type="dfn" href="#concept-tree-parent">parent</a>.

   
      <li>
    Set <var>new node</var> to the
    <a data-link-type="dfn" href="#concept-tree-parent">parent</a> of <var>reference node</var>, and
    <var>new offset</var> to one plus <var>reference node</var>’s
    <a data-link-type="dfn" href="#concept-tree-index">index</a>.


       <p class="note" role="note">Note: If <var>reference node</var>’s
    <a data-link-type="dfn" href="#concept-tree-parent">parent</a> is null, it would be the
    <a data-link-type="dfn" href="#concept-range-root">root</a> of <var>range</var>, so would be an
    <a data-link-type="dfn" href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of
    <var>original end node</var>, and we could not reach this point.</p>
       
  
     </ol>
     

  

 
    <li>
  If <var>first partially contained child</var> is a
  <code class="idl"><a data-link-type="idl" href="#text">Text</a></code>, <code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code>, or
  <code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code> <a data-link-type="dfn" href="#concept-node">node</a>:


     <p class="note" role="note">Note: In this case, <var>first partially contained child</var> is
  <var>original start node</var>.</p>
     

  
     <ol>
   
      <li>Let <var>clone</var> be a
   <a data-link-type="dfn" href="#concept-node-clone">clone</a> of
   <var>original start node</var>.

   
      <li>Set the <a data-link-type="dfn" href="#concept-CD-data">data</a> of
   <var>clone</var> to the result of
   <a data-link-type="dfn" href="#concept-CD-substring">substringing data</a> with node
   <var>original start node</var>, offset
   <var>original start offset</var>, and count
   <var>original start node</var>’s
   <a data-link-type="dfn" href="#concept-node-length">length</a> minus
   <var>original start offset</var>.

   
      <li><a data-link-type="dfn" href="#concept-node-append">Append</a> <var>clone</var>
   to <var>fragment</var>.

   
      <li><a data-link-type="dfn" href="#concept-CD-replace">Replace data</a> with node
   <var>original start node</var>, offset
   <var>original start offset</var>, count
   <var>original start node</var>’s
   <a data-link-type="dfn" href="#concept-node-length">length</a> minus
   <var>original start offset</var>, and data the empty string.
  
     </ol>
     

 
    <li>
  Otherwise, if <var>first partially contained child</var> is not
  null:

  
     <ol>
   
      <li>Let <var>clone</var> be a
   <a data-link-type="dfn" href="#concept-node-clone">clone</a> of
   <var>first partially contained child</var>.

   
      <li><a data-link-type="dfn" href="#concept-node-append">Append</a> <var>clone</var>
   to <var>fragment</var>.

   
      <li>Let <var>subrange</var> be a new <a data-link-type="dfn" href="#concept-range">range</a>
   whose <a data-link-type="dfn" href="#concept-range-start">start</a> is
   (<var>original start node</var>, <var>original start offset</var>) and
   whose <a data-link-type="dfn" href="#concept-range-end">end</a> is
   (<var>first partially contained child</var>, <var>first partially contained child</var>’s <a data-link-type="dfn" href="#concept-node-length">length</a>).

   
      <li>Let <var>subfragment</var> be the result of
   <a data-link-type="dfn" href="#concept-range-extract">extracting</a> <var>subrange</var>.

   
      <li><a data-link-type="dfn" href="#concept-node-append">Append</a> <var>subfragment</var> to
   <var>clone</var>.
  
     </ol>
     

 
    <li>For each <var>contained child</var> in <var>contained children</var>,
 <a data-link-type="dfn" href="#concept-node-append">append</a> <var>contained child</var> to
 <var>fragment</var>.

 
    <li>
  If <var>last partially contained child</var> is a
  <code class="idl"><a data-link-type="idl" href="#text">Text</a></code>, <code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code>, or
  <code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code> <a data-link-type="dfn" href="#concept-node">node</a>:


     <p class="note" role="note">Note: In this case, <var>last partially contained child</var> is
  <var>original end node</var>.</p>
     

  
     <ol>
   
      <li>Let <var>clone</var> be a <a data-link-type="dfn" href="#concept-node-clone">clone</a> of
   <var>original end node</var>.

   
      <li>Set the <a data-link-type="dfn" href="#concept-CD-data">data</a> of
   <var>clone</var> to the result of
   <a data-link-type="dfn" href="#concept-CD-substring">substringing data</a> with node
   <var>original end node</var>, offset 0, and count
   <var>original end offset</var>.

   
      <li><a data-link-type="dfn" href="#concept-node-append">Append</a> <var>clone</var>
   to <var>fragment</var>.

   
      <li><a data-link-type="dfn" href="#concept-CD-replace">Replace data</a> with node
   <var>original end node</var>, offset 0, count
   <var>original end offset</var>, and data the empty string.
  
     </ol>
     

 
    <li>
  Otherwise, if <var>last partially contained child</var> is not
  null:

  
     <ol>
   
      <li>Let <var>clone</var> be a
   <a data-link-type="dfn" href="#concept-node-clone">clone</a> of
   <var>last partially contained child</var>.

   
      <li><a data-link-type="dfn" href="#concept-node-append">Append</a> <var>clone</var>
   to <var>fragment</var>.

   
      <li>Let <var>subrange</var> be a new <a data-link-type="dfn" href="#concept-range">range</a>
   whose <a data-link-type="dfn" href="#concept-range-start">start</a> is
   (<var>last partially contained child</var>, 0) and whose
   <a data-link-type="dfn" href="#concept-range-end">end</a> is
   (<var>original end node</var>, <var>original end offset</var>).

   
      <li>Let <var>subfragment</var> be the result of
   <a data-link-type="dfn" href="#concept-range-extract">extracting</a> <var>subrange</var>.

   
      <li><a data-link-type="dfn" href="#concept-node-append">Append</a> <var>subfragment</var> to
   <var>clone</var>.
  
     </ol>
     

 
    <li>Set <var>range</var>’s <a data-link-type="dfn" href="#concept-range-start">start</a> and
 <a data-link-type="dfn" href="#concept-range-end">end</a> to
 (<var>new node</var>, <var>new offset</var>).

 
    <li>Return <var>fragment</var>.
</ol>


   <p>The <dfn class="idl-code" data-dfn-for="Range" data-dfn-type="method" data-export="" id="dom-range-extractcontents">extractContents()<a class="self-link" href="#dom-range-extractcontents"></a></dfn> method
must return the result of <a data-link-type="dfn" href="#concept-range-extract">extracting</a>
<a data-link-type="dfn" href="#context-object">context object</a>.</p>


   <p>To <dfn data-dfn-type="dfn" data-export="" data-lt="clone a range" id="concept-range-clone">clone<a class="self-link" href="#concept-range-clone"></a></dfn> a <a data-link-type="dfn" href="#concept-range">range</a>
<var>range</var>, run these steps:</p>


   <ol>
 
    <li>Let <var>fragment</var> be a new <code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code>
 <a data-link-type="dfn" href="#concept-node">node</a> whose
 <a data-link-type="dfn" href="#concept-node-document">node document</a> is <var>range</var>’s
 <a data-link-type="dfn" href="#concept-range-start-node">start node</a>’s
 <a data-link-type="dfn" href="#concept-node-document">node document</a>.

 
    <li>If <var>range</var>’s <a data-link-type="dfn" href="#concept-range-start">start</a> equals
 its <a data-link-type="dfn" href="#concept-range-end">end</a>, return <var>fragment</var>.
 

 
    <li>Let <var>original start node</var>, <var>original start offset</var>,
 <var>original end node</var>, and <var>original end offset</var> be
 <var>range</var>’s <a data-link-type="dfn" href="#concept-range-start-node">start node</a>,
 <a data-link-type="dfn" href="#concept-range-start-offset">start offset</a>,
 <a data-link-type="dfn" href="#concept-range-end-node">end node</a>, and
 <a data-link-type="dfn" href="#concept-range-end-offset">end offset</a>, respectively.

 
    <li>
  If <var>original start node</var> equals
  <var>original end node</var>, and they are a <code class="idl"><a data-link-type="idl" href="#text">Text</a></code>,
  <code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code>, or <code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code>
  <a data-link-type="dfn" href="#concept-node">node</a>:

  
     <ol>
   
      <li>Let <var>clone</var> be a <a data-link-type="dfn" href="#concept-node-clone">clone</a> of
   <var>original start node</var>.

   
      <li>Set the <a data-link-type="dfn" href="#concept-CD-data">data</a> of
   <var>clone</var> to the result of
   <a data-link-type="dfn" href="#concept-CD-substring">substringing data</a> with node
   <var>original start node</var>, offset
   <var>original start offset</var>, and count
   <var>original end offset</var> minus
   <var>original start offset</var>.

   
      <li><a data-link-type="dfn" href="#concept-node-append">Append</a> <var>clone</var>
   to <var>fragment</var>.

   
      <li>Return <var>fragment</var>.
  
     </ol>
     

 
    <li>Let <var>common ancestor</var> be
 <var>original start node</var>.

 
    <li>While <var>common ancestor</var> is not an
 <a data-link-type="dfn" href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of
 <var>original end node</var>, set
 <var>common ancestor</var> to its own
 <a data-link-type="dfn" href="#concept-tree-parent">parent</a>.

 
    <li>Let <var>first partially contained child</var> be null.

 
    <li>If <var>original start node</var> is <em>not</em> an
 <a data-link-type="dfn" href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of
 <var>original end node</var>, set <var>first partially contained child</var>
 to the first <a data-link-type="dfn" href="#concept-tree-child">child</a> of
 <var>common ancestor</var> that is <a data-link-type="dfn" href="#partially-contained">partially contained</a> in
 <var>range</var>.

 
    <li>Let <var>last partially contained child</var> be null.

 
    <li>
  If <var>original end node</var> is <em>not</em> an
  <a data-link-type="dfn" href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of
  <var>original start node</var>, set
  <var>last partially contained child</var> to the last
  <a data-link-type="dfn" href="#concept-tree-child">child</a> of <var>common ancestor</var> that is
  <a data-link-type="dfn" href="#partially-contained">partially contained</a> in <var>range</var>.


     <p class="note" role="note">Note: These variable assignments do actually always make sense.
  For instance, if <var>original start node</var> is not an
  <a data-link-type="dfn" href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of
  <var>original end node</var>, <var>original start node</var> is itself
  <a data-link-type="dfn" href="#partially-contained">partially contained</a> in <var>range</var>, and so are all its
  <a data-link-type="dfn" href="#concept-tree-ancestor">ancestors</a> up until a
  <a data-link-type="dfn" href="#concept-tree-child">child</a> of <var>common ancestor</var>.
  <var>common ancestor</var> cannot be <var>original start node</var>, because
  it has to be an <a data-link-type="dfn" href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of
  <var>original end node</var>. The other case is similar. Also, notice that the two
  <a data-link-type="dfn" href="#concept-tree-child">children</a> will never be equal if both are defined.</p>
     

 
    <li>Let <var>contained children</var> be a list of all
 <a data-link-type="dfn" href="#concept-tree-child">children</a> of
 <var>common ancestor</var> that are <a data-link-type="dfn" href="#contained">contained</a> in
 <var>range</var>, in <a data-link-type="dfn" href="#concept-tree-order">tree order</a>.

 
    <li>
  If any member of <var>contained children</var> is a
  <a data-link-type="dfn" href="#concept-doctype">doctype</a>, <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a
  <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#hierarchyrequesterror">HierarchyRequestError</a></code> exception.


     <p class="note" role="note">Note: We do not have to worry about the first or last partially
  contained node, because a <a data-link-type="dfn" href="#concept-doctype">doctype</a> can never be
  partially contained. It cannot be a boundary point of a range, and it
  cannot be the ancestor of anything.</p>
     

 
    <li>
  If <var>first partially contained child</var> is a
  <code class="idl"><a data-link-type="idl" href="#text">Text</a></code>, <code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code>, or
  <code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code> <a data-link-type="dfn" href="#concept-node">node</a>:


     <p class="note" role="note">Note: In this case, <var>first partially contained child</var> is
  <var>original start node</var>.</p>
     

  
     <ol>
   
      <li>Let <var>clone</var> be a
   <a data-link-type="dfn" href="#concept-node-clone">clone</a> of
   <var>original start node</var>.

   
      <li>Set the <a data-link-type="dfn" href="#concept-CD-data">data</a> of
   <var>clone</var> to the result of
   <a data-link-type="dfn" href="#concept-CD-substring">substringing data</a> with node
   <var>original start node</var>, offset
   <var>original start offset</var>, and count
   <var>original start node</var>’s
   <a data-link-type="dfn" href="#concept-node-length">length</a> minus
   <var>original start offset</var>.

   
      <li><a data-link-type="dfn" href="#concept-node-append">Append</a> <var>clone</var>
   to <var>fragment</var>.
  
     </ol>
     

 
    <li>
  Otherwise, if <var>first partially contained child</var> is not
  null:

  
     <ol>
   
      <li>Let <var>clone</var> be a
   <a data-link-type="dfn" href="#concept-node-clone">clone</a> of
   <var>first partially contained child</var>.

   
      <li><a data-link-type="dfn" href="#concept-node-append">Append</a> <var>clone</var>
   to <var>fragment</var>.

   
      <li>Let <var>subrange</var> be a new <a data-link-type="dfn" href="#concept-range">range</a>
   whose <a data-link-type="dfn" href="#concept-range-start">start</a> is
   (<var>original start node</var>, <var>original start offset</var>) and
   whose <a data-link-type="dfn" href="#concept-range-end">end</a> is
   (<var>first partially contained child</var>, <var>first partially contained child</var>’s <a data-link-type="dfn" href="#concept-node-length">length</a>).

   
      <li>Let <var>subfragment</var> be the result of
   <a data-link-type="dfn" href="#concept-range-clone">cloning</a> <var>subrange</var>.

   
      <li><a data-link-type="dfn" href="#concept-node-append">Append</a> <var>subfragment</var> to
   <var>clone</var>.
  
     </ol>
     

 
    <li>
  For each <var>contained child</var> in
  <var>contained children</var>:

  
     <ol>
   
      <li>Let <var>clone</var> be a <a data-link-type="dfn" href="#concept-node-clone">clone</a> of
   <var>contained child</var> with the <i>clone children flag</i> set.

   
      <li><a data-link-type="dfn" href="#concept-node-append">Append</a> <var>clone</var> to
   <var>fragment</var>.
  
     </ol>
     

 
    <li>
  If <var>last partially contained child</var> is a
  <code class="idl"><a data-link-type="idl" href="#text">Text</a></code>, <code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code>, or
  <code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code> <a data-link-type="dfn" href="#concept-node">node</a>:


     <p class="note" role="note">Note: In this case, <var>last partially contained child</var> is
  <var>original end node</var>.</p>
     

  
     <ol>
   
      <li>Let <var>clone</var> be a <a data-link-type="dfn" href="#concept-node-clone">clone</a> of
   <var>original end node</var>.

   
      <li>Set the <a data-link-type="dfn" href="#concept-CD-data">data</a> of
   <var>clone</var> to the result of
   <a data-link-type="dfn" href="#concept-CD-substring">substringing data</a> with node
   <var>original end node</var>, offset 0, and count
   <var>original end offset</var>.

   
      <li><a data-link-type="dfn" href="#concept-node-append">Append</a> <var>clone</var> to
   <var>fragment</var>.
  
     </ol>
     

 
    <li>
  Otherwise, if <var>last partially contained child</var> is not
  null:

  
     <ol>
   
      <li>Let <var>clone</var> be a
   <a data-link-type="dfn" href="#concept-node-clone">clone</a> of
   <var>last partially contained child</var>.

   
      <li><a data-link-type="dfn" href="#concept-node-append">Append</a> <var>clone</var>
   to <var>fragment</var>.

   
      <li>Let <var>subrange</var> be a new <a data-link-type="dfn" href="#concept-range">range</a>
   whose <a data-link-type="dfn" href="#concept-range-start">start</a> is
   (<var>last partially contained child</var>, 0) and whose
   <a data-link-type="dfn" href="#concept-range-end">end</a> is
   (<var>original end node</var>, <var>original end offset</var>).

   
      <li>Let <var>subfragment</var> be the result of
   <a data-link-type="dfn" href="#concept-range-clone">cloning</a> <var>subrange</var>.

   
      <li><a data-link-type="dfn" href="#concept-node-append">Append</a> <var>subfragment</var> to
   <var>clone</var>.
  
     </ol>
     

 
    <li>Return <var>fragment</var>.
</ol>


   <p>The <dfn class="idl-code" data-dfn-for="Range" data-dfn-type="method" data-export="" id="dom-range-clonecontents">cloneContents()<a class="self-link" href="#dom-range-clonecontents"></a></dfn>
method must return the result of <a data-link-type="dfn" href="#concept-range-clone">cloning</a>
<a data-link-type="dfn" href="#context-object">context object</a>.</p>


   <p>To <dfn data-dfn-for="Range" data-dfn-type="dfn" data-export="" id="concept-range-insert">insert<a class="self-link" href="#concept-range-insert"></a></dfn> a <a data-link-type="dfn" href="#concept-node">node</a>
<var>node</var> into a <a data-link-type="dfn" href="#concept-range">range</a>
<var>range</var>, run these steps:</p>


   <ol>
  
 
    <li>If <var>range</var>’s <a data-link-type="dfn" href="#concept-range-start-node">start node</a>
 is either a <code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code> or <code class="idl"><a data-link-type="idl" href="#comment">Comment</a></code>
 <a data-link-type="dfn" href="#concept-node">node</a>, or a <code class="idl"><a data-link-type="idl" href="#text">Text</a></code>
 <a data-link-type="dfn" href="#concept-node">node</a> whose <a data-link-type="dfn" href="#concept-tree-parent">parent</a>
 is null, <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#hierarchyrequesterror">HierarchyRequestError</a></code>
 exception.

 
     <p></p>
     
 
    <li>Let <var>referenceNode</var> be null.

 
    <li>If <var>range</var>’s <a data-link-type="dfn" href="#concept-range-start-node">start node</a>
 is a <code class="idl"><a data-link-type="idl" href="#text">Text</a></code> <a data-link-type="dfn" href="#concept-node">node</a>,
 set <var>referenceNode</var> to that <code class="idl"><a data-link-type="idl" href="#text">Text</a></code>
 <a data-link-type="dfn" href="#concept-node">node</a>. 

 
    <li>Otherwise, set <var>referenceNode</var> to the
 <a data-link-type="dfn" href="#concept-tree-child">child</a> of
 <a data-link-type="dfn" href="#concept-range-start-node">start node</a> whose
 <a data-link-type="dfn" href="#concept-tree-index">index</a> is
 <a data-link-type="dfn" href="#concept-range-start-offset">start offset</a>, and null if
 there is no such <a data-link-type="dfn" href="#concept-tree-child">child</a>.

 
    <li>Let <var>parent</var> be <var>range</var>’s
 <a data-link-type="dfn" href="#concept-range-start-node">start node</a> if <var>referenceNode</var>
 is null, and <var>referenceNode</var>’s
 <a data-link-type="dfn" href="#concept-tree-parent">parent</a> otherwise.

 
     <p></p>
     
 
    <li><a data-link-type="dfn" href="#concept-node-ensure-pre-insertion-validity">Ensure pre-insertion validity</a>
 of <var>node</var> into <var>parent</var> before
 <var>referenceNode</var>.

 
    <li>If <var>range</var>’s <a data-link-type="dfn" href="#concept-range-start-node">start node</a>
 is a <code class="idl"><a data-link-type="idl" href="#text">Text</a></code> <a data-link-type="dfn" href="#concept-node">node</a>,
 <a data-link-type="dfn" href="#concept-Text-split">split</a> it with offset
 <var>range</var>’s <a data-link-type="dfn" href="#concept-range-start-offset">start offset</a>,
 set <var>referenceNode</var> to the result, and set
 <var>parent</var> to <var>referenceNode</var>’s
 <a data-link-type="dfn" href="#concept-tree-parent">parent</a>.

 
    <li>If <var>node</var> equals <var>referenceNode</var>, set
 <var>referenceNode</var> to its
 <a data-link-type="dfn" href="#concept-tree-next-sibling">next sibling</a>. 

 
    <li>If <var>node</var>’s <a data-link-type="dfn" href="#concept-tree-parent">parent</a> is not
 null, <a data-link-type="dfn" href="#concept-node-remove">remove</a> <var>node</var> from its
 <a data-link-type="dfn" href="#concept-tree-parent">parent</a>.

 
     <p></p>
     
 
    <li>Let <var>newOffset</var> be <var>parent</var>’s
 <a data-link-type="dfn" href="#concept-node-length">length</a> if <var>referenceNode</var> is null,
 and <var>referenceNode</var>’s <a data-link-type="dfn" href="#concept-tree-index">index</a>
 otherwise.

 
    <li>Increase <var>newOffset</var> by <var>node</var>’s
 <a data-link-type="dfn" href="#concept-node-length">length</a> if <var>node</var> is a
 <code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code> <a data-link-type="dfn" href="#concept-node">node</a>, and one otherwise.

 
    <li><a data-link-type="dfn" href="#concept-node-pre-insert">Pre-insert</a>
 <var>node</var> into <var>parent</var> before <var>referenceNode</var>.

 
    <li>If <var>range</var>’s <a data-link-type="dfn" href="#concept-range-start">start</a> and
 <a data-link-type="dfn" href="#concept-range-end">end</a> are the same, set <var>range</var>’s
 <a data-link-type="dfn" href="#concept-range-end">end</a> to
 (<var>parent</var>, <var>newOffset</var>).
</ol>


   <p>The <dfn class="idl-code" data-dfn-for="Range" data-dfn-type="method" data-export="" id="dom-range-insertnodenode">insertNode(<var>node</var>)<a class="self-link" href="#dom-range-insertnodenode"></a></dfn>
method must <a data-link-type="dfn" href="#concept-range-insert">insert</a> <var>node</var> into
<a data-link-type="dfn" href="#context-object">context object</a>.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="Range" data-dfn-type="method" data-export="" id="dom-range-surroundcontentsnewparent">surroundContents(<var>newParent</var>)<a class="self-link" href="#dom-range-surroundcontentsnewparent"></a></dfn>
method must run these steps:</p>




   <ol>
 
    <li>If a non-<code class="idl"><a data-link-type="idl" href="#text">Text</a></code> <a data-link-type="dfn" href="#concept-node">node</a> is
 <a data-link-type="dfn" href="#partially-contained">partially contained</a> in the <a data-link-type="dfn" href="#context-object">context object</a>,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> an
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror">InvalidStateError</a></code> exception.
 
 

 
    <li>If <var>newParent</var> is a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document">Document</a></code>,
 <code class="idl"><a data-link-type="idl" href="#documenttype">DocumentType</a></code>, or <code class="idl"><a data-link-type="idl" href="#documentfragment">DocumentFragment</a></code>
 <a data-link-type="dfn" href="#concept-node">node</a>,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> an
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidnodetypeerror">InvalidNodeTypeError</a></code> exception.
 
     <p></p>
     

 
    <li>Let <var>fragment</var> be the result of
 <a data-link-type="dfn" href="#concept-range-extract">extracting</a> <a data-link-type="dfn" href="#context-object">context object</a>.
 

 
    <li>If <var>newParent</var> has
 <a data-link-type="dfn" href="#concept-tree-child">children</a>,
 <a data-link-type="dfn" href="#concept-node-replace-all">replace all</a> with null within
 <var>newParent</var>.

 
    <li><a data-link-type="dfn" href="#concept-range-insert">Insert</a> <var>newParent</var> into
 <a data-link-type="dfn" href="#context-object">context object</a>.

 
    <li><a data-link-type="dfn" href="#concept-node-append">Append</a> <var>fragment</var> to
 <var>newParent</var>.

 
    <li><a data-link-type="dfn" href="#concept-range-select">Select</a> <var>newParent</var> within
 <a data-link-type="dfn" href="#context-object">context object</a>.
 
</ol>


   <p>The <dfn class="idl-code" data-dfn-for="Range" data-dfn-type="method" data-export="" id="dom-range-clonerange">cloneRange()<a class="self-link" href="#dom-range-clonerange"></a></dfn>
method must return a new <a data-link-type="dfn" href="#concept-range">range</a> with the
same <a data-link-type="dfn" href="#concept-range-start">start</a> and
<a data-link-type="dfn" href="#concept-range-end">end</a> as the <a data-link-type="dfn" href="#context-object">context object</a>.</p>


   <p>The <dfn class="idl-code" data-dfn-for="Range" data-dfn-type="method" data-export="" id="dom-range-detach">detach()<a class="self-link" href="#dom-range-detach"></a></dfn> method must
do nothing. <span class="note" role="note">Its functionality (disabling a
<code class="idl"><a data-link-type="idl" href="#range">Range</a></code> object) was removed, but the method itself is preserved
for compatibility.</span></p>


   <hr>


   <dl class="domintro">
 
    <dt><var>position</var> = <var>range</var> . <code class="idl"><a data-link-type="idl" href="#dom-range-comparepointnode-offset">comparePoint(node, offset)</a></code>
 
    <dd>Returns −1 if the point is before the range, 0 if the point is
 in the range, and 1 if the point is after the range.

 
    <dt><var>intersects</var> = <var>range</var> . <code class="idl"><a data-link-type="idl" href="#dom-range-intersectsnodenode">intersectsNode(node)</a></code>
 
    <dd>Returns whether <var>range</var> intersects
 <var>node</var>.
</dl>


   <div class="impl">


    <p>The
<dfn class="idl-code" data-dfn-for="Range" data-dfn-type="method" data-export="" id="dom-range-ispointinrangenode-offset">isPointInRange(<var>node</var>, <var>offset</var>)<a class="self-link" href="#dom-range-ispointinrangenode-offset"></a></dfn>
must run these steps:</p>



    <ol>
 
     <li>If <var>node</var>’s <a data-link-type="dfn" href="#concept-tree-root">root</a> is
 different from the <a data-link-type="dfn" href="#context-object">context object</a>’s <a data-link-type="dfn" href="#concept-range-root">root</a>, return false.
 

 
     <li>If <var>node</var> is a
 <a data-link-type="dfn" href="#concept-doctype">doctype</a>,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> an
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidnodetypeerror">InvalidNodeTypeError</a></code> exception.
 

 
     <li>If <var>offset</var> is greater than
 <var>node</var>’s <a data-link-type="dfn" href="#concept-node-length">length</a>,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> an
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#indexsizeerror">IndexSizeError</a></code> exception.
 

 
     <li>If (<var>node</var>, <var>offset</var>) is
 <a data-link-type="dfn" href="#concept-range-bp-before">before</a>
 <a data-link-type="dfn" href="#concept-range-start">start</a> or
 <a data-link-type="dfn" href="#concept-range-bp-after">after</a>
 <a data-link-type="dfn" href="#concept-range-end">end</a>, return false.

 
     <li>Return true.
</ol>



    <p>The
<dfn class="idl-code" data-dfn-for="Range" data-dfn-type="method" data-export="" id="dom-range-comparepointnode-offset">comparePoint(<var>node</var>, <var>offset</var>)<a class="self-link" href="#dom-range-comparepointnode-offset"></a></dfn>
method must run these steps:</p>



    <ol>
 
     <li>If <var>node</var>’s <a data-link-type="dfn" href="#concept-tree-root">root</a> is
 different from the <a data-link-type="dfn" href="#context-object">context object</a>’s
 <a data-link-type="dfn" href="#concept-range-root">root</a>,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#wrongdocumenterror">WrongDocumentError</a></code>
 exception.
 

 
     <li>If <var>node</var> is a
 <a data-link-type="dfn" href="#concept-doctype">doctype</a>,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> an
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidnodetypeerror">InvalidNodeTypeError</a></code> exception.
 

 
     <li>If <var>offset</var> is greater than
 <var>node</var>’s <a data-link-type="dfn" href="#concept-node-length">length</a>,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> an
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#indexsizeerror">IndexSizeError</a></code> exception.
 

 
     <li>If (<var>node</var>, <var>offset</var>) is
 <a data-link-type="dfn" href="#concept-range-bp-before">before</a>
 <a data-link-type="dfn" href="#concept-range-start">start</a>, return −1.

 
     <li>If (<var>node</var>, <var>offset</var>) is
 <a data-link-type="dfn" href="#concept-range-bp-after">after</a>
 <a data-link-type="dfn" href="#concept-range-end">end</a>, return 1.

 
     <li>Return 0.
</ol>


    <hr>


    <p>The
<dfn class="idl-code" data-dfn-for="Range" data-dfn-type="method" data-export="" id="dom-range-intersectsnodenode">intersectsNode(<var>node</var>)<a class="self-link" href="#dom-range-intersectsnodenode"></a></dfn>
method must run these steps:</p>



    <ol>
 
     <li>If <var>node</var>’s <a data-link-type="dfn" href="#concept-tree-root">root</a>
 is different from the <a data-link-type="dfn" href="#context-object">context object</a>’s
 <a data-link-type="dfn" href="#concept-range-root">root</a>, return false.
 

 
     <li>Let <var>parent</var> be <var>node</var>’s
 <a data-link-type="dfn" href="#concept-tree-parent">parent</a>.

 
     <li>If <var>parent</var> is null, return true.
 

 
     <li>Let <var>offset</var> be <var>node</var>’s
 <a data-link-type="dfn" href="#concept-tree-index">index</a>.

 
     <li>If (<var>parent</var>, <var>offset</var>) is
 <a data-link-type="dfn" href="#concept-range-bp-before">before</a>
 <a data-link-type="dfn" href="#concept-range-end">end</a> and (<var>parent</var>,
 <var>offset</var> + 1) is
 <a data-link-type="dfn" href="#concept-range-bp-after">after</a>
 <a data-link-type="dfn" href="#concept-range-start">start</a>, return true.

 
     <li>Return false.
</ol>

</div>


   <hr>


   <p>The <dfn data-dfn-for="Range" data-dfn-type="dfn" data-export="" id="dom-Range-toString">stringification behavior<a class="self-link" href="#dom-Range-toString"></a></dfn> must run
these steps:</p>


   <ol>
 
    <li>Let <var>s</var> be the empty string.

 
    <li>If <a data-link-type="dfn" href="#concept-range-start-node">start node</a> equals
 <a data-link-type="dfn" href="#concept-range-end-node">end node</a>, and it is a
 <code class="idl"><a data-link-type="idl" href="#text">Text</a></code> <a data-link-type="dfn" href="#concept-node">node</a>, return the
 substring of that <code class="idl"><a data-link-type="idl" href="#text">Text</a></code> <a data-link-type="dfn" href="#concept-node">node</a>’s <a data-link-type="dfn" href="#concept-CD-data">data</a> beginning at
 <a data-link-type="dfn" href="#concept-range-start-offset">start offset</a> and ending at
 <a data-link-type="dfn" href="#concept-range-end-offset">end offset</a>.

 
    <li>If <a data-link-type="dfn" href="#concept-range-start-node">start node</a> is a
 <code class="idl"><a data-link-type="idl" href="#text">Text</a></code> <a data-link-type="dfn" href="#concept-node">node</a>, append to
 <var>s</var> the substring of that
 <a data-link-type="dfn" href="#concept-node">node</a>’s
 <a data-link-type="dfn" href="#concept-CD-data">data</a> from the
 <a data-link-type="dfn" href="#concept-range-start-offset">start offset</a> until the end.

 
    <li>Append to <var>s</var> the concatenation, in
 <a data-link-type="dfn" href="#concept-tree-order">tree order</a>, of the
 <a data-link-type="dfn" href="#concept-CD-data">data</a> of all <code class="idl"><a data-link-type="idl" href="#text">Text</a></code>
 <a data-link-type="dfn" href="#concept-node">nodes</a> that are <a data-link-type="dfn" href="#contained">contained</a> in
 the <a data-link-type="dfn" href="#context-object">context object</a>.

 
    <li>If <a data-link-type="dfn" href="#concept-range-end-node">end node</a> is a
 <code class="idl"><a data-link-type="idl" href="#text">Text</a></code> <a data-link-type="dfn" href="#concept-node">node</a>, append to
 <var>s</var> the substring of that
 <a data-link-type="dfn" href="#concept-node">node</a>’s
 <a data-link-type="dfn" href="#concept-CD-data">data</a> from its start until the
 <a data-link-type="dfn" href="#concept-range-end-offset">end offset</a>.

 
    <li>Return <var>s</var>.
</ol>


   <hr>


   <p class="note" role="note">Note: The <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/DOM-Parsing/#widl-Range-createContextualFragment-DocumentFragment-DOMString-fragment">createContextualFragment()</a></code>, <code class="idl"><a data-link-type="idl" href="http://dev.w3.org/csswg/cssom-view-1/#dom-range-getclientrects">getClientRects()</a></code>, and <code class="idl"><a data-link-type="idl" href="http://dev.w3.org/csswg/cssom-view-1/#dom-range-getboundingclientrect">getBoundingClientRect()</a></code> methods
are defined in other specifications.
<a data-link-type="biblio" href="#biblio-dom-parsing">[DOM-Parsing]</a>
<a data-link-type="biblio" href="#biblio-cssom-view">[CSSOM-VIEW]</a></p>




   <h2 class="heading settled" data-level="6" id="traversal"><span class="secno">6. </span><span class="content">Traversal</span><a class="self-link" href="#traversal"></a></h2>


   <p><code class="idl"><a data-link-type="idl" href="#nodeiterator">NodeIterator</a></code> and <code class="idl"><a data-link-type="idl" href="#treewalker">TreeWalker</a></code> objects can be used
to filter and traverse <a data-link-type="dfn" href="#concept-node">node</a>
<a data-link-type="dfn" href="#concept-tree">trees</a>.</p>


   <p>Each <code class="idl"><a data-link-type="idl" href="#nodeiterator">NodeIterator</a></code> and <code class="idl"><a data-link-type="idl" href="#treewalker">TreeWalker</a></code> object also
has an associated <dfn data-dfn-for="traversal" data-dfn-type="dfn" data-export="" id="concept-traversal-root">root<a class="self-link" href="#concept-traversal-root"></a></dfn>
<a data-link-type="dfn" href="#concept-node">node</a>,
<dfn data-dfn-for="traversal" data-dfn-type="dfn" data-export="" id="concept-traversal-whatToShow">whatToShow<a class="self-link" href="#concept-traversal-whatToShow"></a></dfn> bitmask, and
<dfn data-dfn-for="traversal" data-dfn-type="dfn" data-export="" id="concept-traversal-filter">filter<a class="self-link" href="#concept-traversal-filter"></a></dfn> callback.</p>


   <p>To <dfn data-dfn-for="Node" data-dfn-type="dfn" data-export="" id="concept-node-filter">filter<a class="self-link" href="#concept-node-filter"></a></dfn> <var>node</var> run
these steps:</p>


   <ol>
 
    <li>Let <var>n</var> be <var>node</var>’s
 <code class="idl"><a data-link-type="idl" href="#dom-node-nodetype">nodeType</a></code> attribute value minus 1.
 
    <li>If the <var>n</var><sup>th</sup> bit (where 0 is the least
 significant bit) of
 <a data-link-type="dfn" href="#concept-traversal-whatToShow">whatToShow</a> is not set,
 return <code class="idl"><a data-link-type="idl" href="#dom-nodefilter-filter_skip">FILTER_SKIP</a></code>.
 
 
    <li>If <a data-link-type="dfn" href="#concept-traversal-filter">filter</a> is null,
 return <code class="idl"><a data-link-type="idl" href="#dom-nodefilter-filter_accept">FILTER_ACCEPT</a></code>.
 
    <li>Let <var>result</var> be the return value of calling
 <a data-link-type="dfn" href="#concept-traversal-filter">filter</a>’s
 <code class="idl"><a data-link-type="idl" href="#dom-nodefilter-acceptnodenode">acceptNode()</a></code> with <var>node</var> as
 argument. Rethrow any exceptions.
 
 
    <li>Return <var>result</var>.
</ol>



   <h3 class="heading settled" data-level="6.1" id="interface-nodeiterator"><span class="secno">6.1. </span><span class="content">Interface <code class="idl"><a data-link-type="idl" href="#nodeiterator">NodeIterator</a></code></span><a class="self-link" href="#interface-nodeiterator"></a></h3>


   <pre class="idl">[Exposed=Window]
interface <dfn class="idl-code" data-dfn-type="interface" data-export="" data-global-name="" id="nodeiterator">NodeIterator<a class="self-link" href="#nodeiterator"></a></dfn> {
  [SameObject] readonly attribute <a data-link-type="idl-name" href="#node">Node</a> <a class="idl-code" data-global-name="NodeIterator<interface>/root<attribute>" data-link-type="attribute" data-readonly="" data-type="Node " href="#dom-nodeiterator-root">root</a>;
  readonly attribute <a data-link-type="idl-name" href="#node">Node</a> <a class="idl-code" data-global-name="NodeIterator<interface>/referenceNode<attribute>" data-link-type="attribute" data-readonly="" data-type="Node " href="#dom-nodeiterator-referencenode">referenceNode</a>;
  readonly attribute boolean <a class="idl-code" data-global-name="NodeIterator<interface>/pointerBeforeReferenceNode<attribute>" data-link-type="attribute" data-readonly="" data-type="boolean " href="#dom-nodeiterator-pointerbeforereferencenode">pointerBeforeReferenceNode</a>;
  readonly attribute unsigned long <a class="idl-code" data-global-name="NodeIterator<interface>/whatToShow<attribute>" data-link-type="attribute" data-readonly="" data-type="unsigned long " href="#dom-nodeiterator-whattoshow">whatToShow</a>;
  readonly attribute <a data-link-type="idl-name" href="#callbackdef-nodefilter">NodeFilter</a>? <a class="idl-code" data-global-name="NodeIterator<interface>/filter<attribute>" data-link-type="attribute" data-readonly="" data-type="NodeFilter? " href="#dom-nodeiterator-filter">filter</a>;

  <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="NodeIterator<interface>/nextNode()<method>" data-link-type="method" href="#dom-nodeiterator-nextnode">nextNode</a>();
  <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="NodeIterator<interface>/previousNode()<method>" data-link-type="method" href="#dom-nodeiterator-previousnode">previousNode</a>();

  void <a class="idl-code" data-global-name="NodeIterator<interface>/detach()<method>" data-link-type="method" href="#dom-nodeiterator-detach">detach</a>();
};
</pre>


   <p class="note" role="note">Note: <code class="idl"><a data-link-type="idl" href="#nodeiterator">NodeIterator</a></code> objects can be created using the
<code class="idl"><a data-link-type="idl" href="#dom-document-createnodeiteratorroot-whattoshow-filter">createNodeIterator()</a></code>
method.</p>


   <p>Each <code class="idl"><a data-link-type="idl" href="#nodeiterator">NodeIterator</a></code> object has an associated
<dfn data-dfn-for="NodeIterator" data-dfn-type="dfn" data-export="" id="iterator-collection">iterator collection<a class="self-link" href="#iterator-collection"></a></dfn>, which is a
<a data-link-type="dfn" href="#concept-collection">collection</a> rooted at
<a data-link-type="dfn" href="#concept-traversal-root">root</a>, whose filter matches any
<a data-link-type="dfn" href="#concept-node">node</a>.</p>


   <p>Each <code class="idl"><a data-link-type="idl" href="#nodeiterator">NodeIterator</a></code> object has these
<a data-link-type="dfn" href="#concept-node-remove-ext">removing steps</a> with <var>oldNode</var>,
<var>oldParent</var>, and <var>oldPreviousSibling</var>:</p>


   <ol>
 
    <li>If <var>oldNode</var> is not an
 <a data-link-type="dfn" href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of the
 <code class="idl"><a data-link-type="idl" href="#dom-nodeiterator-referencenode">referenceNode</a></code> attribute value,
 terminate these steps.

 
    <li>
  If the
  <code class="idl"><a data-link-type="idl" href="#dom-nodeiterator-pointerbeforereferencenode">pointerBeforeReferenceNode</a></code>
  attribute value is true, run these substeps:

  
     <ol>
   
      <li>Let <var>nextSibling</var> be <var>oldPreviousSibling</var>’s
   <a data-link-type="dfn" href="#concept-tree-next-sibling">next sibling</a>, if
   <var>oldPreviousSibling</var> is non-null, and <var>oldParent</var>’s
   <a data-link-type="dfn" href="#concept-tree-first-child">first child</a> otherwise.

   
      <li>If <var>nextSibling</var> is non-null, set the
   <code class="idl"><a data-link-type="idl" href="#dom-nodeiterator-referencenode">referenceNode</a></code> attribute to
   <var>nextSibling</var> and terminate these steps.

   
      <li>Let <var>next</var> be the first <a data-link-type="dfn" href="#concept-node">node</a>
   <a data-link-type="dfn" href="#concept-tree-following">following</a> <var>oldParent</var>.

   
      <li>If <a data-link-type="dfn" href="#concept-traversal-root">root</a> is an
   <a data-link-type="dfn" href="#concept-tree-inclusive-ancestor">inclusive ancestor</a> of
   <var>next</var>, set the
   <code class="idl"><a data-link-type="idl" href="#dom-nodeiterator-referencenode">referenceNode</a></code> attribute to
   <var>next</var> and terminate these steps.

   
      <li>
    Otherwise, set the
    <code class="idl"><a data-link-type="idl" href="#dom-nodeiterator-pointerbeforereferencenode">pointerBeforeReferenceNode</a></code>
    attribute to false.


       <p class="note" role="note">Note: Steps are not terminated here.</p>
       
  
     </ol>
     

 
    <li>Set the <code class="idl"><a data-link-type="idl" href="#dom-nodeiterator-referencenode">referenceNode</a></code> attribute
 to the <a data-link-type="dfn" href="#concept-tree-inclusive-descendant">inclusive descendant</a> of <var>oldPreviousSibling</var> that
 appears last in <a data-link-type="dfn" href="#concept-tree-order">tree order</a>, if <var>oldPreviousSibling</var> is non-null,
 and to <var>oldParent</var> otherwise.
</ol>


   <p class="note" role="note">Note: As mentioned earlier <code class="idl"><a data-link-type="idl" href="#nodeiterator">NodeIterator</a></code> objects have an
associated <a data-link-type="dfn" href="#concept-traversal-root">root</a>
<a data-link-type="dfn" href="#concept-node">node</a>,
<a data-link-type="dfn" href="#concept-traversal-whatToShow">whatToShow</a> bitmask, and
<a data-link-type="dfn" href="#concept-traversal-filter">filter</a> callback as well.</p>


   <hr>


   <p>The <dfn class="idl-code" data-dfn-for="NodeIterator" data-dfn-type="attribute" data-export="" id="dom-nodeiterator-root">root<a class="self-link" href="#dom-nodeiterator-root"></a></dfn> attribute
must return <a data-link-type="dfn" href="#concept-traversal-root">root</a>.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="NodeIterator" data-dfn-type="attribute" data-export="" id="dom-nodeiterator-referencenode">referenceNode<a class="self-link" href="#dom-nodeiterator-referencenode"></a></dfn>
and
<dfn class="idl-code" data-dfn-for="NodeIterator" data-dfn-type="attribute" data-export="" id="dom-nodeiterator-pointerbeforereferencenode">pointerBeforeReferenceNode<a class="self-link" href="#dom-nodeiterator-pointerbeforereferencenode"></a></dfn>
attributes must return what they were initialized to.</p>


   <p>The <dfn class="idl-code" data-dfn-for="NodeIterator" data-dfn-type="attribute" data-export="" id="dom-nodeiterator-whattoshow">whatToShow<a class="self-link" href="#dom-nodeiterator-whattoshow"></a></dfn>
attribute must return
<a data-link-type="dfn" href="#concept-traversal-whatToShow">whatToShow</a>.</p>


   <p>The <dfn class="idl-code" data-dfn-for="NodeIterator" data-dfn-type="attribute" data-export="" id="dom-nodeiterator-filter">filter<a class="self-link" href="#dom-nodeiterator-filter"></a></dfn>
attribute must return <a data-link-type="dfn" href="#concept-traversal-filter">filter</a>.</p>


   <p>To <dfn data-dfn-for="NodeIterator" data-dfn-type="dfn" data-export="" id="concept-NodeIterator-traverse">traverse<a class="self-link" href="#concept-NodeIterator-traverse"></a></dfn> in direction
<var>direction</var> run these steps:</p>


   <ol>
 
    <li>Let <var>node</var> be the value of the
 <code class="idl"><a data-link-type="idl" href="#dom-nodeiterator-referencenode">referenceNode</a></code> attribute.

 
    <li>Let <var>before node</var> be the value of the
 <code class="idl"><a data-link-type="idl" href="#dom-nodeiterator-pointerbeforereferencenode">pointerBeforeReferenceNode</a></code>
 attribute.

 
    <li>
  Run these substeps:
  
     <ol>
   
      <li>
    
       <dl class="switch">
     
        <dt>If direction is next
     
        <dd>
      If <var>before node</var> is false, let <var>node</var>
      be the first <a data-link-type="dfn" href="#concept-node">node</a>
      <a data-link-type="dfn" href="#concept-tree-following">following</a>
      <var>node</var> in the <span>iterator collection</span>. If
      there is no such <a data-link-type="dfn" href="#concept-node">node</a> return null.
      If <var>before node</var> is true, set it to false.
     
        <dt>If direction is previous
     
        <dd>
      If <var>before node</var> is true, let <var>node</var>
      be the first <a data-link-type="dfn" href="#concept-node">node</a>
      <a data-link-type="dfn" href="#concept-tree-preceding">preceding</a>
      <var>node</var> in the <span>iterator collection</span>. If
      there is no such <a data-link-type="dfn" href="#concept-node">node</a> return null.
      If <var>before node</var> is false, set it to true.
    
       </dl>
       
   
      <li><a data-link-type="dfn" href="#concept-node-filter">Filter</a>
   <var>node</var> and let <var>result</var> be the return
   value.
   
      <li>
    If <var>result</var> is
    <code class="idl"><a data-link-type="idl" href="#dom-nodefilter-filter_accept">FILTER_ACCEPT</a></code>, go to the
    next step in the overall set of steps.
    Otherwise, run these substeps again.
  
     </ol>
     
 
    <li>Set the
 <code class="idl"><a data-link-type="idl" href="#dom-nodeiterator-referencenode">referenceNode</a></code> attribute
 to <var>node</var>, set the
 <code class="idl"><a data-link-type="idl" href="#dom-nodeiterator-pointerbeforereferencenode">pointerBeforeReferenceNode</a></code>
 attribute to <var>before node</var>, and return
 <var>node</var>.
</ol>


   <p>The <dfn class="idl-code" data-dfn-for="NodeIterator" data-dfn-type="method" data-export="" id="dom-nodeiterator-nextnode">nextNode()<a class="self-link" href="#dom-nodeiterator-nextnode"></a></dfn>
method must <a data-link-type="dfn" href="#concept-NodeIterator-traverse">traverse</a> in
direction next.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="NodeIterator" data-dfn-type="method" data-export="" id="dom-nodeiterator-previousnode">previousNode()<a class="self-link" href="#dom-nodeiterator-previousnode"></a></dfn>
method must <a data-link-type="dfn" href="#concept-NodeIterator-traverse">traverse</a> in
direction previous.</p>


   <p>The <dfn class="idl-code" data-dfn-for="NodeIterator" data-dfn-type="method" data-export="" id="dom-nodeiterator-detach">detach()<a class="self-link" href="#dom-nodeiterator-detach"></a></dfn>
method must do nothing. <span class="note" role="note">Its functionality (disabling a
<code class="idl"><a data-link-type="idl" href="#nodeiterator">NodeIterator</a></code> object) was removed, but the method itself is preserved
for compatibility.</span></p>



   <h3 class="heading settled" data-level="6.2" id="interface-treewalker"><span class="secno">6.2. </span><span class="content">Interface <code class="idl"><a data-link-type="idl" href="#treewalker">TreeWalker</a></code></span><a class="self-link" href="#interface-treewalker"></a></h3>


   <pre class="idl">[Exposed=Window]
interface <dfn class="idl-code" data-dfn-type="interface" data-export="" data-global-name="" id="treewalker">TreeWalker<a class="self-link" href="#treewalker"></a></dfn> {
  [SameObject] readonly attribute <a data-link-type="idl-name" href="#node">Node</a> <a class="idl-code" data-global-name="TreeWalker<interface>/root<attribute>" data-link-type="attribute" data-readonly="" data-type="Node " href="#dom-treewalker-root">root</a>;
  readonly attribute unsigned long <a class="idl-code" data-global-name="TreeWalker<interface>/whatToShow<attribute>" data-link-type="attribute" data-readonly="" data-type="unsigned long " href="#dom-treewalker-whattoshow">whatToShow</a>;
  readonly attribute <a data-link-type="idl-name" href="#callbackdef-nodefilter">NodeFilter</a>? <a class="idl-code" data-global-name="TreeWalker<interface>/filter<attribute>" data-link-type="attribute" data-readonly="" data-type="NodeFilter? " href="#dom-treewalker-filter">filter</a>;
           attribute <a data-link-type="idl-name" href="#node">Node</a> <a class="idl-code" data-global-name="TreeWalker<interface>/currentNode<attribute>" data-link-type="attribute" data-type="Node " href="#dom-treewalker-currentnode">currentNode</a>;

  <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="TreeWalker<interface>/parentNode()<method>" data-link-type="method" href="#dom-treewalker-parentnode">parentNode</a>();
  <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="TreeWalker<interface>/firstChild()<method>" data-link-type="method" href="#dom-treewalker-firstchild">firstChild</a>();
  <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="TreeWalker<interface>/lastChild()<method>" data-link-type="method" href="#dom-treewalker-lastchild">lastChild</a>();
  <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="TreeWalker<interface>/previousSibling()<method>" data-link-type="method" href="#dom-treewalker-previoussibling">previousSibling</a>();
  <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="TreeWalker<interface>/nextSibling()<method>" data-link-type="method" href="#dom-treewalker-nextsibling">nextSibling</a>();
  <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="TreeWalker<interface>/previousNode()<method>" data-link-type="method" href="#dom-treewalker-previousnode">previousNode</a>();
  <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="TreeWalker<interface>/nextNode()<method>" data-link-type="method" href="#dom-treewalker-nextnode">nextNode</a>();
};</pre>



   <p class="note" role="note">Note: <code class="idl"><a data-link-type="idl" href="#treewalker">TreeWalker</a></code> objects can be created using the
<code class="idl"><a data-link-type="idl" href="#dom-document-createtreewalkerroot-whattoshow-filter">createTreeWalker()</a></code> method.</p>


   <p class="note" role="note">Note: As mentioned earlier <code class="idl"><a data-link-type="idl" href="#treewalker">TreeWalker</a></code> objects have an
associated <a data-link-type="dfn" href="#concept-traversal-root">root</a>
<a data-link-type="dfn" href="#concept-node">node</a>,
<a data-link-type="dfn" href="#concept-traversal-whatToShow">whatToShow</a> bitmask, and
<a data-link-type="dfn" href="#concept-traversal-filter">filter</a> callback.</p>


   <p>The <dfn class="idl-code" data-dfn-for="TreeWalker" data-dfn-type="attribute" data-export="" id="dom-treewalker-root">root<a class="self-link" href="#dom-treewalker-root"></a></dfn> attribute must
return <a data-link-type="dfn" href="#concept-traversal-root">root</a>.</p>


   <p>The <dfn class="idl-code" data-dfn-for="TreeWalker" data-dfn-type="attribute" data-export="" id="dom-treewalker-whattoshow">whatToShow<a class="self-link" href="#dom-treewalker-whattoshow"></a></dfn>
attribute must return
<a data-link-type="dfn" href="#concept-traversal-whatToShow">whatToShow</a>.</p>


   <p>The <dfn class="idl-code" data-dfn-for="TreeWalker" data-dfn-type="attribute" data-export="" id="dom-treewalker-filter">filter<a class="self-link" href="#dom-treewalker-filter"></a></dfn> attribute
must return <a data-link-type="dfn" href="#concept-traversal-filter">filter</a>.</p>


   <p>The <dfn class="idl-code" data-dfn-for="TreeWalker" data-dfn-type="attribute" data-export="" id="dom-treewalker-currentnode">currentNode<a class="self-link" href="#dom-treewalker-currentnode"></a></dfn>
attribute must return what it was initialized to.</p>


   <p>Setting the <code class="idl"><a data-link-type="idl" href="#dom-treewalker-currentnode">currentNode</a></code>
attribute must set it to the new value.</p>



   <p>The <dfn class="idl-code" data-dfn-for="TreeWalker" data-dfn-type="method" data-export="" id="dom-treewalker-parentnode">parentNode()<a class="self-link" href="#dom-treewalker-parentnode"></a></dfn>
method must run these steps:</p>


   <ol>
 
    <li>Let <var>node</var> be the value of the
 <code class="idl"><a data-link-type="idl" href="#dom-treewalker-currentnode">currentNode</a></code> attribute.

 
    <li>
  While <var>node</var> is not null and is not
  <a data-link-type="dfn" href="#concept-traversal-root">root</a>, run these substeps:

  
     <ol>
   
      <li>Let <var>node</var> be <var>node</var>’s
   <a data-link-type="dfn" href="#concept-tree-parent">parent</a>.

   
      <li>If <var>node</var> is not null and
   <a data-link-type="dfn" href="#concept-node-filter">filtering</a> <var>node</var>
   returns <code class="idl"><a data-link-type="idl" href="#dom-nodefilter-filter_accept">FILTER_ACCEPT</a></code>,
   then set the <code class="idl"><a data-link-type="idl" href="#dom-treewalker-currentnode">currentNode</a></code>
   attribute to <var>node</var>, return <var>node</var>.
  
     </ol>
     

 
    <li>Return null.
</ol>


   <p>To <dfn data-dfn-for="TreeWalker" data-dfn-type="dfn" data-export="" id="concept-traverse-children">traverse children<a class="self-link" href="#concept-traverse-children"></a></dfn> of type
<var>type</var>, run these steps:</p>


   <ol>
 
    <li>Let <var>node</var> be the value
 of the <code class="idl"><a data-link-type="idl" href="#dom-treewalker-currentnode">currentNode</a></code> attribute.

 
    <li>Set <var>node</var> to <var>node</var>’s
 <a data-link-type="dfn" href="#concept-tree-first-child">first child</a> if
 <var>type</var> is first, and <var>node</var>’s
 <a data-link-type="dfn" href="#concept-tree-last-child">last child</a> if
 <var>type</var> is last.

 
    <li>
  <dfn data-dfn-type="dfn" data-export="" data-lt="Traverse children main step" id="concept-traverse-children-main">Main<a class="self-link" href="#concept-traverse-children-main"></a></dfn>:
  While <var>node</var> is not null, run these substeps:

  
     <ol>
   
      <li><a data-link-type="dfn" href="#concept-node-filter">Filter</a>
   <var>node</var> and let <var>result</var> be the return
   value.

   
      <li>If <var>result</var> is
   <code class="idl"><a data-link-type="idl" href="#dom-nodefilter-filter_accept">FILTER_ACCEPT</a></code>, then set
   the <code class="idl"><a data-link-type="idl" href="#dom-treewalker-currentnode">currentNode</a></code>
   attribute to <var>node</var> and return <var>node</var>.

   
      <li>
    If <var>result</var> is
    <code class="idl"><a data-link-type="idl" href="#dom-nodefilter-filter_skip">FILTER_SKIP</a></code>, run these
    subsubsteps:

    
       <ol>
     
        <li>Let <var>child</var> be <var>node</var>’s
     <a data-link-type="dfn" href="#concept-tree-first-child">first child</a> if
     <var>type</var> is first, and <var>node</var>’s
     <a data-link-type="dfn" href="#concept-tree-last-child">last child</a> if
     <var>type</var> is last.

     
        <li>If <var>child</var> is not null, set <var>node</var>
     to <var>child</var> and goto
     <a data-link-type="dfn" href="#concept-traverse-children-main">Main</a>.
    
       </ol>
       

   
      <li>
    While <var>node</var> is not null, run these subsubsteps:

    
       <ol>
     
        <li>Let <var>sibling</var> be <var>node</var>’s
     <a data-link-type="dfn" href="#concept-tree-next-sibling">next sibling</a> if
     <var>type</var> is first, and <var>node</var>’s
     <a data-link-type="dfn" href="#concept-tree-previous-sibling">previous sibling</a> if
     <var>type</var> is last.

     
        <li>If <var>sibling</var> is not null, set
     <var>node</var> to <var>sibling</var> and goto
     <a data-link-type="dfn" href="#concept-traverse-children-main">Main</a>.

     
        <li>Let <var>parent</var> be <var>node</var>’s
     <a data-link-type="dfn" href="#concept-tree-parent">parent</a>.

     
        <li>If <var>parent</var> is null, <var>parent</var> is
     <a data-link-type="dfn" href="#concept-traversal-root">root</a>, or
     <var>parent</var> is
     <code class="idl"><a data-link-type="idl" href="#dom-treewalker-currentnode">currentNode</a></code> attribute’s
     value, return null.

     
        <li>Otherwise, set <var>node</var> to <var>parent</var>.
    
       </ol>
       
  
     </ol>
     
 
    <li>Return null.
</ol>


   <p>The <dfn class="idl-code" data-dfn-for="TreeWalker" data-dfn-type="method" data-export="" id="dom-treewalker-firstchild">firstChild()<a class="self-link" href="#dom-treewalker-firstchild"></a></dfn>
method must <a data-link-type="dfn" href="#concept-traverse-children">traverse children</a>
of type first.</p>


   <p>The <dfn class="idl-code" data-dfn-for="TreeWalker" data-dfn-type="method" data-export="" id="dom-treewalker-lastchild">lastChild()<a class="self-link" href="#dom-treewalker-lastchild"></a></dfn>
method must <a data-link-type="dfn" href="#concept-traverse-children">traverse children</a>
of type last.</p>


   <p>To <dfn data-dfn-type="dfn" data-export="" id="concept-traverse-siblings">traverse siblings<a class="self-link" href="#concept-traverse-siblings"></a></dfn> of type
<var>type</var> run these steps:</p>


   <ol>
 
    <li>Let <var>node</var> be the value of the
 <code class="idl"><a data-link-type="idl" href="#dom-treewalker-currentnode">currentNode</a></code> attribute.

 
    <li>If <var>node</var> is
 <a data-link-type="dfn" href="#concept-traversal-root">root</a>, return null.

 
    <li>
  Run these substeps:

  
     <ol>
   
      <li>Let <var>sibling</var> be <var>node</var>’s
   <a data-link-type="dfn" href="#concept-tree-next-sibling">next sibling</a> if
   <var>type</var> is next, and <var>node</var>’s
   <a data-link-type="dfn" href="#concept-tree-previous-sibling">previous sibling</a> if
   <var>type</var> is previous.

   
      <li>
    While <var>sibling</var> is not null, run these subsubsteps:

    
       <ol>
     
        <li>Set <var>node</var> to <var>sibling</var>.

     
        <li><a data-link-type="dfn" href="#concept-node-filter">Filter</a>
     <var>node</var> and let <var>result</var> be the return
     value.

     
        <li>If <var>result</var> is
     <code class="idl"><a data-link-type="idl" href="#dom-nodefilter-filter_accept">FILTER_ACCEPT</a></code>, then set
     the <code class="idl"><a data-link-type="idl" href="#dom-treewalker-currentnode">currentNode</a></code>
     attribute to <var>node</var> and return <var>node</var>.

     
        <li>Set <var>sibling</var> to <var>node</var>’s
     <a data-link-type="dfn" href="#concept-tree-first-child">first child</a> if
     <var>type</var> is next, and <var>node</var>’s
     <a data-link-type="dfn" href="#concept-tree-last-child">last child</a> if
     <var>type</var> is previous.

     
        <li>If <var>result</var> is
     <code class="idl"><a data-link-type="idl" href="#dom-nodefilter-filter_reject">FILTER_REJECT</a></code> or
     <var>sibling</var> is null, then set <var>sibling</var> to
     <var>node</var>’s
     <a data-link-type="dfn" href="#concept-tree-next-sibling">next sibling</a> if
     <var>type</var> is next, and <var>node</var>’s
     <a data-link-type="dfn" href="#concept-tree-previous-sibling">previous sibling</a> if
     <var>type</var> is previous.
    
       </ol>
       

   
      <li>Set <var>node</var> to its
   <a data-link-type="dfn" href="#concept-tree-parent">parent</a>.

   
      <li>If <var>node</var> is null or is
   <a data-link-type="dfn" href="#concept-traversal-root">root</a>, return null.

   
      <li><a data-link-type="dfn" href="#concept-node-filter">Filter</a>
   <var>node</var> and if the return value is
   <code class="idl"><a data-link-type="idl" href="#dom-nodefilter-filter_accept">FILTER_ACCEPT</a></code>, then
   return null.
   

   
      <li>Run these substeps again.
  
     </ol>
     
</ol>


   <p>The
<dfn class="idl-code" data-dfn-for="TreeWalker" data-dfn-type="method" data-export="" id="dom-treewalker-nextsibling">nextSibling()<a class="self-link" href="#dom-treewalker-nextsibling"></a></dfn>
method must <a data-link-type="dfn" href="#concept-traverse-siblings">traverse siblings</a>
of type next.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="TreeWalker" data-dfn-type="method" data-export="" id="dom-treewalker-previoussibling">previousSibling()<a class="self-link" href="#dom-treewalker-previoussibling"></a></dfn>
method must <a data-link-type="dfn" href="#concept-traverse-siblings">traverse siblings</a>
of type previous.</p>


   <p>The
<dfn class="idl-code" data-dfn-for="TreeWalker" data-dfn-type="method" data-export="" id="dom-treewalker-previousnode">previousNode()<a class="self-link" href="#dom-treewalker-previousnode"></a></dfn>
method must run these steps:</p>


   <ol>
 
    <li>Let <var>node</var> be the value of the
 <code class="idl"><a data-link-type="idl" href="#dom-treewalker-currentnode">currentNode</a></code> attribute.

 
    <li>
  While <var>node</var> is not
  <a data-link-type="dfn" href="#concept-traversal-root">root</a>, run these substeps:

  
     <ol>
   
      <li>Let <var>sibling</var> be the
   <a data-link-type="dfn" href="#concept-tree-previous-sibling">previous sibling</a> of
   <var>node</var>.

   
      <li>
    While <var>sibling</var> is not null, run these subsubsteps:

    
       <ol>
     
        <li>Set <var>node</var> to <var>sibling</var>.

     
        <li><a data-link-type="dfn" href="#concept-node-filter">Filter</a>
     <var>node</var> and let <var>result</var> be the return
     value.

     
        <li>While <var>result</var> is not
     <code class="idl"><a data-link-type="idl" href="#dom-nodefilter-filter_reject">FILTER_REJECT</a></code> and
     <var>node</var> has a
     <a data-link-type="dfn" href="#concept-tree-child">child</a>, set <var>node</var>
     to its <a data-link-type="dfn" href="#concept-tree-last-child">last child</a> and then
     <a data-link-type="dfn" href="#concept-node-filter">filter</a> <var>node</var> and
     set <var>result</var> to the return value.

     
        <li>If <var>result</var> is
     <code class="idl"><a data-link-type="idl" href="#dom-nodefilter-filter_accept">FILTER_ACCEPT</a></code>, then set
     the <code class="idl"><a data-link-type="idl" href="#dom-treewalker-currentnode">currentNode</a></code>
     attribute to <var>node</var> and return <var>node</var>.

     
        <li>Set <var>sibling</var> to the
     <a data-link-type="dfn" href="#concept-tree-previous-sibling">previous sibling</a> of
     <var>node</var>.
    
       </ol>
       

   
      <li>If <var>node</var> is
   <a data-link-type="dfn" href="#concept-traversal-root">root</a> or <var>node</var>’s
   <a data-link-type="dfn" href="#concept-tree-parent">parent</a> is null, return null.

   
      <li>Set <var>node</var> to its
   <a data-link-type="dfn" href="#concept-tree-parent">parent</a>.

   
      <li><a data-link-type="dfn" href="#concept-node-filter">Filter</a>
   <var>node</var> and if the return value is
   <code class="idl"><a data-link-type="idl" href="#dom-nodefilter-filter_accept">FILTER_ACCEPT</a></code>, then set
   the <code class="idl"><a data-link-type="idl" href="#dom-treewalker-currentnode">currentNode</a></code> attribute
   to <var>node</var> and return <var>node</var>.
  
     </ol>
     

 
    <li>Return null.
</ol>


   <p>The <dfn class="idl-code" data-dfn-for="TreeWalker" data-dfn-type="method" data-export="" id="dom-treewalker-nextnode">nextNode()<a class="self-link" href="#dom-treewalker-nextnode"></a></dfn>
method must run these steps:</p>


   <ol>
 
    <li>Let <var>node</var> be the value of the
 <code class="idl"><a data-link-type="idl" href="#dom-treewalker-currentnode">currentNode</a></code> attribute.

 
    <li>Let <var>result</var> be
 <code class="idl"><a data-link-type="idl" href="#dom-nodefilter-filter_accept">FILTER_ACCEPT</a></code>.

 
    <li>
  Run these substeps:

  
     <ol>
   
      <li>
    While <var>result</var> is not
    <code class="idl"><a data-link-type="idl" href="#dom-nodefilter-filter_reject">FILTER_REJECT</a></code> and
    <var>node</var> has a <a data-link-type="dfn" href="#concept-tree-child">child</a>,
    run these subsubsteps:

    
       <ol>
     
        <li>Set <var>node</var> to its
     <a data-link-type="dfn" href="#concept-tree-first-child">first child</a>.

     
        <li><a data-link-type="dfn" href="#concept-node-filter">Filter</a>
     <var>node</var> and set <var>result</var> to the return
     value.

     
        <li>If <var>result</var> is
     <code class="idl"><a data-link-type="idl" href="#dom-nodefilter-filter_accept">FILTER_ACCEPT</a></code>, then set
     the <code class="idl"><a data-link-type="idl" href="#dom-treewalker-currentnode">currentNode</a></code> attribute
     to <var>node</var> and return <var>node</var>.
    
       </ol>
       

   
      <li>
    If a <a data-link-type="dfn" href="#concept-node">node</a> is
    <a data-link-type="dfn" href="#concept-tree-following">following</a>
    <var>node</var> and is not
    <a data-link-type="dfn" href="#concept-tree-following">following</a>
    <a data-link-type="dfn" href="#concept-traversal-root">root</a>, set
    <var>node</var> to the first such
    <a data-link-type="dfn" href="#concept-node">node</a>.
    Otherwise, return null.
    

   
      <li><a data-link-type="dfn" href="#concept-node-filter">Filter</a>
   <var>node</var> and set <var>result</var> to the return
   value.

   
      <li>If <var>result</var> is
   <code class="idl"><a data-link-type="idl" href="#dom-nodefilter-filter_accept">FILTER_ACCEPT</a></code>, then set
   the <code class="idl"><a data-link-type="idl" href="#dom-treewalker-currentnode">currentNode</a></code> attribute
   to <var>node</var> and return <var>node</var>.

   
      <li>Run these substeps again.
  
     </ol>
     
</ol>




   <h3 class="heading settled" data-level="6.3" id="interface-nodefilter"><span class="secno">6.3. </span><span class="content">Interface <code class="idl"><a data-link-type="idl" href="#callbackdef-nodefilter">NodeFilter</a></code></span><a class="self-link" href="#interface-nodefilter"></a></h3>


   <pre class="idl">[Exposed=Window]
callback interface <dfn class="idl-code" data-dfn-type="callback" data-export="" data-global-name="" id="callbackdef-nodefilter">NodeFilter<a class="self-link" href="#callbackdef-nodefilter"></a></dfn> {
  // Constants for acceptNode()
  const unsigned short <a class="idl-code" data-global-name="NodeFilter<interface>/FILTER_ACCEPT<const>" data-link-type="const" href="#dom-nodefilter-filter_accept">FILTER_ACCEPT</a> = 1;
  const unsigned short <a class="idl-code" data-global-name="NodeFilter<interface>/FILTER_REJECT<const>" data-link-type="const" href="#dom-nodefilter-filter_reject">FILTER_REJECT</a> = 2;
  const unsigned short <a class="idl-code" data-global-name="NodeFilter<interface>/FILTER_SKIP<const>" data-link-type="const" href="#dom-nodefilter-filter_skip">FILTER_SKIP</a> = 3;

  // Constants for whatToShow
  const unsigned long <a class="idl-code" data-global-name="NodeFilter<interface>/SHOW_ALL<const>" data-link-type="const" href="#dom-nodefilter-show_all">SHOW_ALL</a> = 0xFFFFFFFF;
  const unsigned long <a class="idl-code" data-global-name="NodeFilter<interface>/SHOW_ELEMENT<const>" data-link-type="const" href="#dom-nodefilter-show_element">SHOW_ELEMENT</a> = 0x1;
  const unsigned long <dfn class="idl-code" data-dfn-for="NodeFilter" data-dfn-type="const" data-export="" data-global-name="NodeFilter<interface>/SHOW_ATTRIBUTE<const>" id="dom-nodefilter-show_attribute">SHOW_ATTRIBUTE<a class="self-link" href="#dom-nodefilter-show_attribute"></a></dfn> = 0x2; // historical
  const unsigned long <a class="idl-code" data-global-name="NodeFilter<interface>/SHOW_TEXT<const>" data-link-type="const" href="#dom-nodefilter-show_text">SHOW_TEXT</a> = 0x4;
  const unsigned long <dfn class="idl-code" data-dfn-for="NodeFilter" data-dfn-type="const" data-export="" data-global-name="NodeFilter<interface>/SHOW_CDATA_SECTION<const>" id="dom-nodefilter-show_cdata_section">SHOW_CDATA_SECTION<a class="self-link" href="#dom-nodefilter-show_cdata_section"></a></dfn> = 0x8; // historical
  const unsigned long <dfn class="idl-code" data-dfn-for="NodeFilter" data-dfn-type="const" data-export="" data-global-name="NodeFilter<interface>/SHOW_ENTITY_REFERENCE<const>" id="dom-nodefilter-show_entity_reference">SHOW_ENTITY_REFERENCE<a class="self-link" href="#dom-nodefilter-show_entity_reference"></a></dfn> = 0x10; // historical
  const unsigned long <dfn class="idl-code" data-dfn-for="NodeFilter" data-dfn-type="const" data-export="" data-global-name="NodeFilter<interface>/SHOW_ENTITY<const>" id="dom-nodefilter-show_entity">SHOW_ENTITY<a class="self-link" href="#dom-nodefilter-show_entity"></a></dfn> = 0x20; // historical
  const unsigned long <a class="idl-code" data-global-name="NodeFilter<interface>/SHOW_PROCESSING_INSTRUCTION<const>" data-link-type="const" href="#dom-nodefilter-show_processing_instruction">SHOW_PROCESSING_INSTRUCTION</a> = 0x40;
  const unsigned long <a class="idl-code" data-global-name="NodeFilter<interface>/SHOW_COMMENT<const>" data-link-type="const" href="#dom-nodefilter-show_comment">SHOW_COMMENT</a> = 0x80;
  const unsigned long <a class="idl-code" data-global-name="NodeFilter<interface>/SHOW_DOCUMENT<const>" data-link-type="const" href="#dom-nodefilter-show_document">SHOW_DOCUMENT</a> = 0x100;
  const unsigned long <a class="idl-code" data-global-name="NodeFilter<interface>/SHOW_DOCUMENT_TYPE<const>" data-link-type="const" href="#dom-nodefilter-show_document_type">SHOW_DOCUMENT_TYPE</a> = 0x200;
  const unsigned long <a class="idl-code" data-global-name="NodeFilter<interface>/SHOW_DOCUMENT_FRAGMENT<const>" data-link-type="const" href="#dom-nodefilter-show_document_fragment">SHOW_DOCUMENT_FRAGMENT</a> = 0x400;
  const unsigned long <dfn class="idl-code" data-dfn-for="NodeFilter" data-dfn-type="const" data-export="" data-global-name="NodeFilter<interface>/SHOW_NOTATION<const>" id="dom-nodefilter-show_notation">SHOW_NOTATION<a class="self-link" href="#dom-nodefilter-show_notation"></a></dfn> = 0x800; // historical

  unsigned short <dfn class="idl-code" data-dfn-for="NodeFilter" data-dfn-type="method" data-export="" data-global-name="NodeFilter<interface>/acceptNode(node)<method>" data-lt="acceptNode(node)" id="dom-nodefilter-acceptnodenode">acceptNode<a class="self-link" href="#dom-nodefilter-acceptnodenode"></a></dfn>(<a data-link-type="idl-name" href="#node">Node</a> <dfn class="idl-code" data-dfn-for="NodeFilter/acceptNode(node)" data-dfn-type="argument" data-export="" data-global-name="NodeFilter<interface>/acceptNode(node)<method>/node<argument>" id="dom-nodefilter-acceptnodenode-node">node<a class="self-link" href="#dom-nodefilter-acceptnodenode-node"></a></dfn>);
};
</pre>


   <p><code class="idl"><a data-link-type="idl" href="#callbackdef-nodefilter">NodeFilter</a></code> objects can be used as
<a data-link-type="dfn" href="#concept-traversal-filter">filter</a> callback and provide
constants for the <a data-link-type="dfn" href="#concept-traversal-whatToShow">whatToShow</a>
bitmask.</p>


   <p class="note" role="note">Note: It is typically implemented as a JavaScript function.</p>


   <p>These constants can be used as callback return value:</p>


   <ul class="brief">
 
    <li><dfn class="idl-code" data-dfn-for="NodeFilter" data-dfn-type="const" data-export="" id="dom-nodefilter-filter_accept">FILTER_ACCEPT<a class="self-link" href="#dom-nodefilter-filter_accept"></a></dfn> (1);
 
    <li><dfn class="idl-code" data-dfn-for="NodeFilter" data-dfn-type="const" data-export="" id="dom-nodefilter-filter_reject">FILTER_REJECT<a class="self-link" href="#dom-nodefilter-filter_reject"></a></dfn> (2);
 
    <li><dfn class="idl-code" data-dfn-for="NodeFilter" data-dfn-type="const" data-export="" id="dom-nodefilter-filter_skip">FILTER_SKIP<a class="self-link" href="#dom-nodefilter-filter_skip"></a></dfn> (3).
</ul>


   <p>These constants can be used for the
<a data-link-type="dfn" href="#concept-traversal-whatToShow">whatToShow</a> bitmask:</p>


   <ul class="brief">
 
    <li><dfn class="idl-code" data-dfn-for="NodeFilter" data-dfn-type="const" data-export="" id="dom-nodefilter-show_all">SHOW_ALL<a class="self-link" href="#dom-nodefilter-show_all"></a></dfn> (4294967295, FFFFFFFF in hexadecimal);
 
    <li><dfn class="idl-code" data-dfn-for="NodeFilter" data-dfn-type="const" data-export="" id="dom-nodefilter-show_element">SHOW_ELEMENT<a class="self-link" href="#dom-nodefilter-show_element"></a></dfn> (1);
 
 
    <li><dfn class="idl-code" data-dfn-for="NodeFilter" data-dfn-type="const" data-export="" id="dom-nodefilter-show_text">SHOW_TEXT<a class="self-link" href="#dom-nodefilter-show_text"></a></dfn> (4);
 
 
    <li><dfn class="idl-code" data-dfn-for="NodeFilter" data-dfn-type="const" data-export="" id="dom-nodefilter-show_processing_instruction">SHOW_PROCESSING_INSTRUCTION<a class="self-link" href="#dom-nodefilter-show_processing_instruction"></a></dfn> (64, 40 in hexadecimal);
 
    <li><dfn class="idl-code" data-dfn-for="NodeFilter" data-dfn-type="const" data-export="" id="dom-nodefilter-show_comment">SHOW_COMMENT<a class="self-link" href="#dom-nodefilter-show_comment"></a></dfn> (128, 80 in hexadecimal);
 
    <li><dfn class="idl-code" data-dfn-for="NodeFilter" data-dfn-type="const" data-export="" id="dom-nodefilter-show_document">SHOW_DOCUMENT<a class="self-link" href="#dom-nodefilter-show_document"></a></dfn> (256, 100 in hexadecimal);
 
    <li><dfn class="idl-code" data-dfn-for="NodeFilter" data-dfn-type="const" data-export="" id="dom-nodefilter-show_document_type">SHOW_DOCUMENT_TYPE<a class="self-link" href="#dom-nodefilter-show_document_type"></a></dfn> (512, 200 in hexadecimal);
 
    <li><dfn class="idl-code" data-dfn-for="NodeFilter" data-dfn-type="const" data-export="" id="dom-nodefilter-show_document_fragment">SHOW_DOCUMENT_FRAGMENT<a class="self-link" href="#dom-nodefilter-show_document_fragment"></a></dfn> (1024, 400 in hexadecimal).
</ul>




   <h2 class="heading settled" data-level="7" id="sets"><span class="secno">7. </span><span class="content">Sets</span><a class="self-link" href="#sets"></a></h2>


   <p class="note" role="note">Note: Yes, the names <code class="idl"><a data-link-type="idl" href="#domtokenlist">DOMTokenList</a></code> and
<code class="idl"><a data-link-type="idl" href="#domsettabletokenlist">DOMSettableTokenList</a></code> are unfortunate legacy mishaps.</p>


   <h3 class="heading settled" data-level="7.1" id="interface-domtokenlist"><span class="secno">7.1. </span><span class="content">Interface <code class="idl"><a data-link-type="idl" href="#domtokenlist">DOMTokenList</a></code></span><a class="self-link" href="#interface-domtokenlist"></a></h3>


   <pre class="idl">interface <dfn class="idl-code" data-dfn-type="interface" data-export="" data-global-name="" id="domtokenlist">DOMTokenList<a class="self-link" href="#domtokenlist"></a></dfn> {
  readonly attribute unsigned long <a class="idl-code" data-global-name="DOMTokenList<interface>/length<attribute>" data-link-type="attribute" data-readonly="" data-type="unsigned long " href="#dom-domtokenlist-length">length</a>;
  getter DOMString? <a class="idl-code" data-global-name="DOMTokenList<interface>/item(index)<method>" data-link-type="method" href="#dom-domtokenlist-itemindex">item</a>(unsigned long <dfn class="idl-code" data-dfn-for="DOMTokenList/item(index)" data-dfn-type="argument" data-export="" data-global-name="DOMTokenList<interface>/item(index)<method>/index<argument>" id="dom-domtokenlist-itemindex-index">index<a class="self-link" href="#dom-domtokenlist-itemindex-index"></a></dfn>);
  boolean <a class="idl-code" data-global-name="DOMTokenList<interface>/contains(token)<method>" data-link-type="method" href="#dom-domtokenlist-containstoken">contains</a>(DOMString <dfn class="idl-code" data-dfn-for="DOMTokenList/contains(token)" data-dfn-type="argument" data-export="" data-global-name="DOMTokenList<interface>/contains(token)<method>/token<argument>" id="dom-domtokenlist-containstoken-token">token<a class="self-link" href="#dom-domtokenlist-containstoken-token"></a></dfn>);
  void <a class="idl-code" data-global-name="DOMTokenList<interface>/add(tokens...)<method>/add()<method>" data-link-type="method" href="#dom-domtokenlist-addtokens">add</a>(DOMString... <dfn class="idl-code" data-dfn-for="DOMTokenList/add(tokens...)" data-dfn-type="argument" data-export="" data-global-name="DOMTokenList<interface>/add(tokens...)<method>/tokens<argument>" id="dom-domtokenlist-addtokens-tokens">tokens<a class="self-link" href="#dom-domtokenlist-addtokens-tokens"></a></dfn>);
  void <a class="idl-code" data-global-name="DOMTokenList<interface>/remove(tokens...)<method>/remove()<method>" data-link-type="method" href="#dom-domtokenlist-removetokens">remove</a>(DOMString... <dfn class="idl-code" data-dfn-for="DOMTokenList/remove(tokens...)" data-dfn-type="argument" data-export="" data-global-name="DOMTokenList<interface>/remove(tokens...)<method>/tokens<argument>" id="dom-domtokenlist-removetokens-tokens">tokens<a class="self-link" href="#dom-domtokenlist-removetokens-tokens"></a></dfn>);
  boolean <a class="idl-code" data-global-name="DOMTokenList<interface>/toggle(token, force)<method>/toggle(token)<method>" data-link-type="method" href="#dom-domtokenlist-toggletoken-force">toggle</a>(DOMString <dfn class="idl-code" data-dfn-for="DOMTokenList/toggle(token, force)" data-dfn-type="argument" data-export="" data-global-name="DOMTokenList<interface>/toggle(token, force)<method>/token<argument>" id="dom-domtokenlist-toggletoken-force-token">token<a class="self-link" href="#dom-domtokenlist-toggletoken-force-token"></a></dfn>, optional boolean <dfn class="idl-code" data-dfn-for="DOMTokenList/toggle(token, force)" data-dfn-type="argument" data-export="" data-global-name="DOMTokenList<interface>/toggle(token, force)<method>/force<argument>" id="dom-domtokenlist-toggletoken-force-force">force<a class="self-link" href="#dom-domtokenlist-toggletoken-force-force"></a></dfn>);
  <a data-global-name="DOMTokenList/stringification behavior<dfn>" data-link-type="dfn" href="#stringification-behavior">stringifier</a>;
  iterable&lt;DOMString>;
};
</pre>


   <p>A <code class="idl"><a data-link-type="idl" href="#domtokenlist">DOMTokenList</a></code> object has an associated ordered set of
<dfn data-dfn-for="DOMTokenList" data-dfn-type="dfn" data-export="" id="concept-DTL-tokens">tokens<a class="self-link" href="#concept-DTL-tokens"></a></dfn>, which is initially empty.</p>


   <p>A <code class="idl"><a data-link-type="idl" href="#domtokenlist">DOMTokenList</a></code> object also has an associated
<a data-link-type="dfn" href="#concept-element">element</a> and an
<a data-link-type="dfn" href="#concept-attribute">attribute</a>’s
<a data-link-type="dfn" href="#concept-attribute-local-name">local name</a>.</p>


   <p>A <code class="idl"><a data-link-type="idl" href="#domtokenlist">DOMTokenList</a></code> object’s
<dfn data-dfn-for="DOMTokenList" data-dfn-type="dfn" data-export="" id="concept-DTL-update">update steps<a class="self-link" href="#concept-DTL-update"></a></dfn> are:</p>


   <ol>
 
    <li>If there is no associated
 <a data-link-type="dfn" href="#concept-attribute">attribute</a> (when the object is a
 <code class="idl"><a data-link-type="idl" href="#domsettabletokenlist">DOMSettableTokenList</a></code>), terminate these steps.

 
    <li><a data-link-type="dfn" href="#concept-element-attributes-set-value">Set an attribute value</a>
 for the associated <a data-link-type="dfn" href="#concept-element">element</a> using
 associated <a data-link-type="dfn" href="#concept-attribute">attribute</a>’s
 <a data-link-type="dfn" href="#concept-attribute-local-name">local name</a> and the result
 of running the <a data-link-type="dfn" href="#concept-ordered-set-serializer">ordered set serializer</a>
 for <a data-link-type="dfn" href="#concept-DTL-tokens">tokens</a>.
</ol>


   <dl class="domintro">
 
    <dt><code><var>tokenlist</var> . <code class="idl"><a data-link-type="idl" href="#dom-domtokenlist-length">length</a></code></code>
 
    <dd>Returns the number of tokens.

 
    <dt><code><var>tokenlist</var> . <code class="idl"><a data-link-type="idl" href="#dom-domtokenlist-itemindex">item(index)</a></code></code>
 
    <dt><code><var>tokenlist</var>[<var>index</var>]</code>
 
    <dd>Returns the token with index <var>index</var>.

 
    <dt><code><var>tokenlist</var> . <code class="idl"><a data-link-type="idl" href="#dom-domtokenlist-containstoken">contains(token)</a></code></code>
 
    <dd>
  Returns true if <var>token</var> is present, and false otherwise.
  Throws a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#syntaxerror">SyntaxError</a></code> exception if <var>token</var>
  is the empty string.
  Throws an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidcharactererror">InvalidCharacterError</a></code> exception if
  <var>token</var> contains any
  <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#ascii-whitespace">ASCII whitespace</a>.

 
    <dt><code><var>tokenlist</var> . <a data-link-type="functionish" href="#dom-domtokenlist-addtokens">add(<var>tokens</var>…)</a></code>
 
    <dd>
  Adds all arguments passed, except those already present.
  Throws a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#syntaxerror">SyntaxError</a></code> exception if one if the arguments
  is the empty string.
  Throws an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidcharactererror">InvalidCharacterError</a></code> exception if one of the
  arguments contains any
  <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#ascii-whitespace">ASCII whitespace</a>.

 
    <dt><code><var>tokenlist</var> . <a data-link-type="functionish" href="#dom-domtokenlist-removetokens">remove(<var>tokens</var>…)</a></code>
 
    <dd>
  Removes arguments passed, if they are present.
  Throws a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#syntaxerror">SyntaxError</a></code> exception if one if the arguments
  is the empty string.
  Throws an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidcharactererror">InvalidCharacterError</a></code> exception if one of the
  arguments contains any
  <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#ascii-whitespace">ASCII whitespace</a>.

 
    <dt><code><var>tokenlist</var> . <a class="idl-code" data-link-type="method" href="#dom-domtokenlist-toggletoken-force">toggle(<var>token</var> [, <var>force</var>])</a></code>
 
    <dd>
  If <var>force</var> is not given, "toggles"
  <var>token</var>, removing it if it’s present and adding it if it’s
  not. If <var>force</var> is true, adds <var>token</var> (same as <code class="idl"><a data-link-type="idl" href="#dom-domtokenlist-addtokens">add()</a></code>).
  If <var>force</var> is false, removes <var>token</var> (same as <code class="idl"><a data-link-type="idl" href="#dom-domtokenlist-removetokens">remove()</a></code>).
  Returns true if <var>token</var> is now present, and false otherwise.
  Throws a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#syntaxerror">SyntaxError</a></code> exception if <var>token</var> is empty.
  Throws an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidcharactererror">InvalidCharacterError</a></code> exception if <var>token</var> contains any spaces.
</dl>


   <div class="impl">


    <p>The <dfn class="idl-code" data-dfn-for="DOMTokenList" data-dfn-type="attribute" data-export="" id="dom-domtokenlist-length">length<a class="self-link" href="#dom-domtokenlist-length"></a></dfn>
attribute must return the number of tokens in the
<a data-link-type="dfn" href="#concept-DTL-tokens">tokens</a>.</p>


    <p>The object’s
<a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-supported-property-indices">supported property indices</a> are the
numbers in the range zero to the number of tokens in
<a data-link-type="dfn" href="#concept-DTL-tokens">tokens</a> minus one, unless
<a data-link-type="dfn" href="#concept-DTL-tokens">tokens</a> is  empty, in which case there are no
<a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-supported-property-indices">supported property indices</a>.</p>


    <p>The
<dfn class="idl-code" data-dfn-for="DOMTokenList" data-dfn-type="method" data-export="" id="dom-domtokenlist-itemindex">item(<var>index</var>)<a class="self-link" href="#dom-domtokenlist-itemindex"></a></dfn>
method must run these steps:</p>


    <ol>
 
     <li>If <var>index</var> is equal to or greater than the number of
 tokens in <a data-link-type="dfn" href="#concept-DTL-tokens">tokens</a>, return null.

 
     <li>Return the <var>index</var>th token in
 <a data-link-type="dfn" href="#concept-DTL-tokens">tokens</a>.
</ol>


    <p>The
<dfn class="idl-code" data-dfn-for="DOMTokenList" data-dfn-type="method" data-export="" id="dom-domtokenlist-containstoken">contains(<var>token</var>)<a class="self-link" href="#dom-domtokenlist-containstoken"></a></dfn>
method must run these steps:</p>


    <ol>
 
     <li>If <var>token</var> is the empty string, then
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#syntaxerror">SyntaxError</a></code>
 exception.

 
     <li>If <var>token</var> contains any
 <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#ascii-whitespace">ASCII whitespace</a>, then
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a>
 an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidcharactererror">InvalidCharacterError</a></code> exception.

 
     <li>Return true if <var>token</var> is in
 <a data-link-type="dfn" href="#concept-DTL-tokens">tokens</a>, and false otherwise.
</ol>


    <p>The
<dfn class="idl-code" data-dfn-for="DOMTokenList" data-dfn-type="method" data-export="" data-lt="add(tokens)|add()" id="dom-domtokenlist-addtokens">add(<var>tokens</var>…)<a class="self-link" href="#dom-domtokenlist-addtokens"></a></dfn>
method must run these steps:</p>


    <ol>
 
     <li>If one of <var>tokens</var> is the empty string,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#syntaxerror">SyntaxError</a></code>
 exception.

 
     <li>If one of <var>tokens</var> contains any
 <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#ascii-whitespace">ASCII whitespace</a>, then
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> an
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidcharactererror">InvalidCharacterError</a></code> exception.

 
     <li>For each <var>token</var> in <var>tokens</var>, in given
 order, that is not in <a data-link-type="dfn" href="#concept-DTL-tokens">tokens</a>, append
 <var>token</var> to <a data-link-type="dfn" href="#concept-DTL-tokens">tokens</a>.

 
     <li>Run the <a data-link-type="dfn" href="#concept-DTL-update">update steps</a>.
</ol>


    <p>The
<dfn class="idl-code" data-dfn-for="DOMTokenList" data-dfn-type="method" data-export="" data-lt="remove(tokens)|remove()" id="dom-domtokenlist-removetokens">remove(<var>tokens</var>…)<a class="self-link" href="#dom-domtokenlist-removetokens"></a></dfn>
method must run these steps:</p>


    <ol>
 
     <li>If one of <var>tokens</var> is the empty string,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#syntaxerror">SyntaxError</a></code>
 exception.

 
     <li>If one of <var>tokens</var> contains any
 <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#ascii-whitespace">ASCII whitespace</a>, then
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> an
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidcharactererror">InvalidCharacterError</a></code> exception.

 
     <li>For each <var>token</var> in <var>tokens</var>, remove
 <var>token</var> from <a data-link-type="dfn" href="#concept-DTL-tokens">tokens</a>.

 
     <li>Run the <a data-link-type="dfn" href="#concept-DTL-update">update steps</a>.
</ol>


    <p>The
<dfn class="idl-code" data-dfn-for="DOMTokenList" data-dfn-type="method" data-export="" data-lt="toggle(token, force)|toggle(token)" id="dom-domtokenlist-toggletoken-force">toggle(<var>token</var>, <var>force</var>)<a class="self-link" href="#dom-domtokenlist-toggletoken-force"></a></dfn>
method must run these steps:</p>


    <ol>
 
     <li>If <var>token</var> is the empty string,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#syntaxerror">SyntaxError</a></code>
 exception.

 
     <li>If <var>token</var> contains any
 <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#ascii-whitespace">ASCII whitespace</a>,
 <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw">throw</a> an
 <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidcharactererror">InvalidCharacterError</a></code> exception.

 
     <li>
  If <var>token</var> is in <a data-link-type="dfn" href="#concept-DTL-tokens">tokens</a>, run
  these substeps:

  
      <ol>
   
       <li>If <var>force</var> is either not passed or is false, then remove
   <var>token</var> from <a data-link-type="dfn" href="#concept-DTL-tokens">tokens</a>, run the
   <a data-link-type="dfn" href="#concept-DTL-update">update steps</a>, and return false.

   
       <li>Otherwise, return true.
  
      </ol>
      

 
     <li>
  Otherwise, run these substeps:

  
      <ol>
   
       <li>If <var>force</var> is passed and is false, return false.

   
       <li>Otherwise, append <var>token</var> to
   <a data-link-type="dfn" href="#concept-DTL-tokens">tokens</a>, run the
   <a data-link-type="dfn" href="#concept-DTL-update">update steps</a>, and return true.
  
      </ol>
      
</ol>


    <p>The <dfn data-dfn-for="DOMTokenList" data-dfn-type="dfn" data-export="" dom-domtokenlist-tostring="" id="stringification-behavior">stringification behavior<a class="self-link" href="#stringification-behavior"></a></dfn>
must return the result of the <a data-link-type="dfn" href="#concept-ordered-set-serializer">ordered set serializer</a> for <a data-link-type="dfn" href="#concept-DTL-tokens">tokens</a>.</p>

</div>



   <h3 class="heading settled" data-level="7.2" id="interface-domsettabletokenlist"><span class="secno">7.2. </span><span class="content">Interface <code class="idl"><a data-link-type="idl" href="#domsettabletokenlist">DOMSettableTokenList</a></code></span><a class="self-link" href="#interface-domsettabletokenlist"></a></h3>


   <pre class="idl">interface <dfn class="idl-code" data-dfn-type="interface" data-export="" data-global-name="" id="domsettabletokenlist">DOMSettableTokenList<a class="self-link" href="#domsettabletokenlist"></a></dfn> : <a data-link-type="idl-name" href="#domtokenlist">DOMTokenList</a> {
            attribute DOMString <a class="idl-code" data-global-name="DOMSettableTokenList<interface>/value<attribute>" data-link-type="attribute" data-type="DOMString " href="#dom-domsettabletokenlist-value">value</a>;
};
</pre>


   <p>A <code class="idl"><a data-link-type="idl" href="#domsettabletokenlist">DOMSettableTokenList</a></code> object is equivalent to a
<code class="idl"><a data-link-type="idl" href="#domtokenlist">DOMTokenList</a></code> object without an associated
<a data-link-type="dfn" href="#concept-attribute">attribute</a>.</p>


   <dl class="domintro">
 
    <dt><code><var>tokenlist</var> . <code class="idl"><a data-link-type="idl" href="#dom-domsettabletokenlist-value">value</a></code></code>
 
    <dd>
  Returns the associated set as string.
  Can be set, to change the associated set via a string.
</dl>


   <div class="impl">


    <p>The <dfn class="idl-code" data-dfn-for="DOMSettableTokenList" data-dfn-type="attribute" data-export="" id="dom-domsettabletokenlist-value">value<a class="self-link" href="#dom-domsettabletokenlist-value"></a></dfn>
attribute must return the result of the
<a data-link-type="dfn" href="#concept-ordered-set-serializer">ordered set serializer</a> for
<a data-link-type="dfn" href="#concept-DTL-tokens">tokens</a>.</p>


    <p>Setting the <code class="idl"><a data-link-type="idl" href="#dom-domsettabletokenlist-value">value</a></code>
attribute must run the <a data-link-type="dfn" href="#concept-ordered-set-parser">ordered set parser</a>
for the given value and set <a data-link-type="dfn" href="#concept-DTL-tokens">tokens</a> to the result.</p>

</div>




   <h2 class="heading settled" data-level="8" id="historical"><span class="secno">8. </span><span class="content">Historical</span><a class="self-link" href="#historical"></a></h2>


   <p>As explained in <a href="#goals">goals</a> this specification is a
significant revision of various DOM specifications. This section attempts to
enumerate the changes.</p>



   <h3 class="heading settled" data-level="8.1" id="dom-events-changes"><span class="secno">8.1. </span><span class="content">DOM Events</span><a class="self-link" href="#dom-events-changes"></a></h3>


   <p>These are the changes made to the features described in the
"DOM Event Architecture", "Basic Event Interfaces", "Mutation Events", and
"Mutation Name Event Types" chapters of <cite>DOM Level 3 Events</cite>. The
other chapters are defined by the <cite>UI Events</cite> specification.
<a data-link-type="biblio" href="#biblio-uievents">[UIEVENTS]</a></p>


   <ul class="brief">
 
    <li>Events have constructors now.
 
    <li>Removes <dfn class="idl-code" data-dfn-type="interface" data-export="" id="mutationevent">MutationEvent<a class="self-link" href="#mutationevent"></a></dfn>, and
 <dfn class="idl-code" data-dfn-type="interface" data-export="" id="mutationnameevent">MutationNameEvent<a class="self-link" href="#mutationnameevent"></a></dfn>.
 
    <li>Fire is no longer synonymous with dispatch, but includes initializing
 an event.
 
    <li>The propagation and canceled flags are unset when invoking
 <code class="idl"><a data-link-type="idl" href="#dom-event-initeventtype-bubbles-cancelable">initEvent()</a></code> rather than after
 dispatch.
</ul>



   <h3 class="heading settled" data-level="8.2" id="dom-core-changes"><span class="secno">8.2. </span><span class="content">DOM Core</span><a class="self-link" href="#dom-core-changes"></a></h3>


   <p>These are the changes made to the features described in
<cite>DOM Level 3 Core</cite>.</p>


   <p><code class="idl"><a data-link-type="idl" href="http://heycam.github.io/webidl/#idl-DOMString">DOMString</a></code>, <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#dfn-domexception">DOMException</a></code>, and
<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#common-domtimestamp">DOMTimeStamp</a></code> are now defined in Web IDL.</p>


   <p><code class="idl"><a data-link-type="idl" href="#node">Node</a></code> now inherits from <code class="idl"><a data-link-type="idl" href="#eventtarget">EventTarget</a></code>.</p>


   <p><a data-link-type="dfn" href="#concept-node">Nodes</a> are implicitly
<a data-link-type="dfn" href="#concept-node-adopt">adopted</a> across
<a data-link-type="dfn" href="#concept-document">document</a> boundaries.</p>


   <p><a data-link-type="dfn" href="#concept-doctype">Doctypes</a> now always have a
<a data-link-type="dfn" href="#concept-node-document">node document</a> and can be moved
across <a data-link-type="dfn" href="#concept-document">document</a> boundaries.</p>


   <p><code class="idl"><a data-link-type="idl" href="#processinginstruction">ProcessingInstruction</a></code> now inherits from
<code class="idl"><a data-link-type="idl" href="#characterdata">CharacterData</a></code>.</p>


   <p><dfn class="idl-code" data-dfn-for="Node" data-dfn-type="method" data-export="" id="dom-node-hasattributes">hasAttributes()<a class="self-link" href="#dom-node-hasattributes"></a></dfn> and
<dfn class="idl-code" data-dfn-for="Node" data-dfn-type="attribute" data-export="" id="dom-node-attributes">attributes<a class="self-link" href="#dom-node-attributes"></a></dfn> moved from <code class="idl"><a data-link-type="idl" href="#node">Node</a></code>
to <code class="idl"><a data-link-type="idl" href="#element">Element</a></code>.</p>


   <p><dfn class="idl-code" data-dfn-for="Node" data-dfn-type="attribute" data-export="" id="dom-node-namespaceuri">namespaceURI<a class="self-link" href="#dom-node-namespaceuri"></a></dfn>,
<dfn class="idl-code" data-dfn-for="Node" data-dfn-type="attribute" data-export="" id="dom-node-prefix">prefix<a class="self-link" href="#dom-node-prefix"></a></dfn>, and
<dfn class="idl-code" data-dfn-for="Node" data-dfn-type="attribute" data-export="" id="dom-node-localname">localName<a class="self-link" href="#dom-node-localname"></a></dfn> moved from <code class="idl"><a data-link-type="idl" href="#node">Node</a></code> to
<code class="idl"><a data-link-type="idl" href="#element">Element</a></code> and <code class="idl"><a data-link-type="idl" href="#attr">Attr</a></code>.</p>


   <p>The remainder of interfaces and interface members listed in this section
were removed to simplify the DOM platform. Implementations conforming to
this specification will not support them.</p>


   <p class="warning">It is not yet clear if it would be web-compatible to
remove all the following features. The editors welcome any data showing that
some of these features should be reintroduced.

</p>
   <p>Interfaces:</p>

   <ul class="brief">
 
    <li><dfn class="idl-code" data-dfn-type="interface" data-export="" id="cdatasection"><code>CDATASection</code><a class="self-link" href="#cdatasection"></a></dfn>
 
    <li><dfn class="idl-code" data-dfn-type="interface" data-export="" id="domconfiguration"><code>DOMConfiguration</code><a class="self-link" href="#domconfiguration"></a></dfn>
 
    <li><dfn class="idl-code" data-dfn-type="interface" data-export="" id="domerror"><code>DOMError</code><a class="self-link" href="#domerror"></a></dfn>
 
    <li><dfn class="idl-code" data-dfn-type="interface" data-export="" id="domerrorhandler"><code>DOMErrorHandler</code><a class="self-link" href="#domerrorhandler"></a></dfn>
 
    <li><dfn class="idl-code" data-dfn-type="interface" data-export="" id="domimplementationlist"><code>DOMImplementationList</code><a class="self-link" href="#domimplementationlist"></a></dfn>
 
    <li><dfn class="idl-code" data-dfn-type="interface" data-export="" id="domimplementationsource"><code>DOMImplementationSource</code><a class="self-link" href="#domimplementationsource"></a></dfn>
 
    <li><dfn class="idl-code" data-dfn-type="interface" data-export="" id="domlocator"><code>DOMLocator</code><a class="self-link" href="#domlocator"></a></dfn>
 
    <li><dfn class="idl-code" data-dfn-type="interface" data-export="" id="domobject"><code>DOMObject</code><a class="self-link" href="#domobject"></a></dfn>
 
    <li><dfn class="idl-code" data-dfn-type="interface" data-export="" id="domstringlist"><code>DOMStringList</code><a class="self-link" href="#domstringlist"></a></dfn>
 
    <li><dfn class="idl-code" data-dfn-type="interface" data-export="" id="domuserdata"><code>DOMUserData</code><a class="self-link" href="#domuserdata"></a></dfn>
 
    <li><dfn class="idl-code" data-dfn-type="interface" data-export="" id="entity"><code>Entity</code><a class="self-link" href="#entity"></a></dfn>
 
    <li><dfn class="idl-code" data-dfn-type="interface" data-export="" id="entityreference"><code>EntityReference</code><a class="self-link" href="#entityreference"></a></dfn>
 
    <li><dfn class="idl-code" data-dfn-type="interface" data-export="" id="namelist"><code>NameList</code><a class="self-link" href="#namelist"></a></dfn>
 
    <li><dfn class="idl-code" data-dfn-type="interface" data-export="" id="notation"><code>Notation</code><a class="self-link" href="#notation"></a></dfn>
 
    <li><dfn class="idl-code" data-dfn-type="interface" data-export="" id="typeinfo"><code>TypeInfo</code><a class="self-link" href="#typeinfo"></a></dfn>
 
    <li><dfn class="idl-code" data-dfn-type="interface" data-export="" id="userdatahandler"><code>UserDataHandler</code><a class="self-link" href="#userdatahandler"></a></dfn>
</ul>


   <p>Interface members:</p>

   <dl>
 
    <dt><code class="idl"><a data-link-type="idl" href="#node">Node</a></code>
 
    <dd>
  
     <ul class="brief">
   
      <li><dfn class="idl-code" data-dfn-for="Node" data-dfn-type="attribute" data-export="" id="dom-node-issupported">isSupported<a class="self-link" href="#dom-node-issupported"></a></dfn>
   
      <li><dfn class="idl-code" data-dfn-for="Node" data-dfn-type="method" data-export="" id="dom-node-getfeature">getFeature()<a class="self-link" href="#dom-node-getfeature"></a></dfn>
   
      <li><dfn class="idl-code" data-dfn-for="Node" data-dfn-type="method" data-export="" id="dom-node-getuserdata">getUserData()<a class="self-link" href="#dom-node-getuserdata"></a></dfn>
   
      <li><dfn class="idl-code" data-dfn-for="Node" data-dfn-type="method" data-export="" id="dom-node-setuserdata">setUserData()<a class="self-link" href="#dom-node-setuserdata"></a></dfn>

   
      <li><dfn class="idl-code" data-dfn-for="Node" data-dfn-type="method" data-export="" id="dom-node-issamenode">isSameNode()<a class="self-link" href="#dom-node-issamenode"></a></dfn>
  
     </ul>
     

 
    <dt><code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document">Document</a></code>
 
    <dd>
  
     <ul class="brief">
   
      <li><dfn class="idl-code" data-dfn-for="Document" data-dfn-type="method" data-export="" id="dom-document-createcdatasection">createCDATASection()<a class="self-link" href="#dom-document-createcdatasection"></a></dfn>
   
      <li><dfn class="idl-code" data-dfn-for="Document" data-dfn-type="method" data-export="" id="dom-document-createentityreference">createEntityReference()<a class="self-link" href="#dom-document-createentityreference"></a></dfn>
   
      <li><dfn class="idl-code" data-dfn-for="Document" data-dfn-type="attribute" data-export="" id="dom-document-xmlencoding">xmlEncoding<a class="self-link" href="#dom-document-xmlencoding"></a></dfn>
   
      <li><dfn class="idl-code" data-dfn-for="Document" data-dfn-type="attribute" data-export="" id="dom-document-xmlstandalone">xmlStandalone<a class="self-link" href="#dom-document-xmlstandalone"></a></dfn>
   
      <li><dfn class="idl-code" data-dfn-for="Document" data-dfn-type="attribute" data-export="" id="dom-document-xmlversion">xmlVersion<a class="self-link" href="#dom-document-xmlversion"></a></dfn>
   
      <li><dfn class="idl-code" data-dfn-for="Document" data-dfn-type="attribute" data-export="" id="dom-document-stricterrorchecking">strictErrorChecking<a class="self-link" href="#dom-document-stricterrorchecking"></a></dfn>
   
      <li><dfn class="idl-code" data-dfn-for="Document" data-dfn-type="attribute" data-export="" id="dom-document-domconfig">domConfig<a class="self-link" href="#dom-document-domconfig"></a></dfn>
   
      <li><dfn class="idl-code" data-dfn-for="Document" data-dfn-type="method" data-export="" id="dom-document-normalizedocument">normalizeDocument()<a class="self-link" href="#dom-document-normalizedocument"></a></dfn>
   
      <li><dfn class="idl-code" data-dfn-for="Document" data-dfn-type="method" data-export="" id="dom-document-renamenode">renameNode()<a class="self-link" href="#dom-document-renamenode"></a></dfn>
  
     </ul>
     

 
    <dt><code class="idl"><a data-link-type="idl" href="#domimplementation">DOMImplementation</a></code>
 
    <dd>
  
     <ul class="brief">
   
      <li><dfn class="idl-code" data-dfn-for="DOMImplementation" data-dfn-type="method" data-export="" id="dom-domimplementation-getfeature">getFeature()<a class="self-link" href="#dom-domimplementation-getfeature"></a></dfn>
  
     </ul>
     

 
    <dt><code class="idl"><a data-link-type="idl" href="#attr">Attr</a></code>
 
    <dd>
  No longer inherits from <code class="idl"><a data-link-type="idl" href="#node">Node</a></code> and therefore completely
  changed.
  

 
    <dt><code class="idl"><a data-link-type="idl" href="#element">Element</a></code>
 
    <dd>
  
     <ul class="brief">
   
      <li><dfn class="idl-code" data-dfn-for="Element" data-dfn-type="attribute" data-export="" id="dom-element-schematypeinfo">schemaTypeInfo<a class="self-link" href="#dom-element-schematypeinfo"></a></dfn>
   
      <li><dfn class="idl-code" data-dfn-for="Element" data-dfn-type="method" data-export="" id="dom-element-setidattribute">setIdAttribute()<a class="self-link" href="#dom-element-setidattribute"></a></dfn>
   
      <li><dfn class="idl-code" data-dfn-for="Element" data-dfn-type="method" data-export="" id="dom-element-setidattributens">setIdAttributeNS()<a class="self-link" href="#dom-element-setidattributens"></a></dfn>
   
      <li><dfn class="idl-code" data-dfn-for="Element" data-dfn-type="method" data-export="" id="dom-element-setidattributenode">setIdAttributeNode()<a class="self-link" href="#dom-element-setidattributenode"></a></dfn>
  
     </ul>
     

 
    <dt><code class="idl"><a data-link-type="idl" href="#documenttype">DocumentType</a></code>
 
    <dd>
  
     <ul class="brief">
   
      <li><dfn class="idl-code" data-dfn-for="DocumentType" data-dfn-type="attribute" data-export="" id="dom-documenttype-entities">entities<a class="self-link" href="#dom-documenttype-entities"></a></dfn>
   
      <li><dfn class="idl-code" data-dfn-for="DocumentType" data-dfn-type="attribute" data-export="" id="dom-documenttype-notations">notations<a class="self-link" href="#dom-documenttype-notations"></a></dfn>
   
      <li><dfn class="idl-code" data-dfn-for="DocumentType" data-dfn-type="attribute" data-export="" id="dom-documenttype-internalsubset">internalSubset<a class="self-link" href="#dom-documenttype-internalsubset"></a></dfn>
  
     </ul>
     

 
    <dt><code class="idl"><a data-link-type="idl" href="#text">Text</a></code>
 
    <dd>
  
     <ul class="brief">
   
      <li><dfn class="idl-code" data-dfn-for="Text" data-dfn-type="attribute" data-export="" id="dom-text-iselementcontentwhitespace">isElementContentWhitespace<a class="self-link" href="#dom-text-iselementcontentwhitespace"></a></dfn>
   
      <li><dfn class="idl-code" data-dfn-for="Text" data-dfn-type="method" data-export="" id="dom-text-replacewholetext">replaceWholeText()<a class="self-link" href="#dom-text-replacewholetext"></a></dfn>
  
     </ul>
     
</dl>


   <h3 class="heading settled" data-level="8.3" id="dom-ranges-changes"><span class="secno">8.3. </span><span class="content">DOM Ranges</span><a class="self-link" href="#dom-ranges-changes"></a></h3>


   <p>These are the changes made to the features described in the
"Document Object Model Range" chapter of
<cite>DOM Level 2 Traversal and Range</cite>.</p>


   <ul>
 
    <li><dfn class="idl-code" data-dfn-type="interface" data-export="" id="rangeexception">RangeException<a class="self-link" href="#rangeexception"></a></dfn> has been removed.

 
    <li><code class="idl"><a data-link-type="idl" href="#range">Range</a></code> objects can now be moved between
 <a data-link-type="dfn" href="#concept-document">documents</a> and used on
 <a data-link-type="dfn" href="#concept-node">nodes</a> that are not <a data-link-type="dfn" href="#in-a-document">in a document</a>.

 
    <li>A wild <code class="idl"><a data-link-type="idl" href="#dom-range-range">Range()</a></code> constructor appeared.

 
    <li>New methods <code class="idl"><a data-link-type="idl" href="#dom-range-comparepointnode-offset">comparePoint()</a></code>,
 <code class="idl"><a data-link-type="idl" href="#dom-range-intersectsnodenode">intersectsNode()</a></code>, and
 <code class="idl"><a data-link-type="idl" href="#dom-range-ispointinrangenode-offset">isPointInRange()</a></code> have been added.

 
    <li><code class="idl"><a data-link-type="idl" href="#dom-range-detach">detach()</a></code> is now a no-op.

 
    <li><a data-link-type="dfn" href="#dom-Range-toString"><code>toString</code></a> is now
 defined through IDL.
</ul>



   <h3 class="heading settled" data-level="8.4" id="dom-traversal-changes"><span class="secno">8.4. </span><span class="content">DOM Traversal</span><a class="self-link" href="#dom-traversal-changes"></a></h3>


   <p>These are the changes made to the features described in the
"Document Object Model Traversal" chapter of
<cite>DOM Level 2 Traversal and Range</cite>.</p>


   <ul>
 
    <li><code class="idl"><a data-link-type="idl" href="#dom-document-createnodeiteratorroot-whattoshow-filter">createNodeIterator()</a></code> and
 <code class="idl"><a data-link-type="idl" href="#dom-document-createtreewalkerroot-whattoshow-filter">createTreeWalker()</a></code> now have optional
 arguments and lack a fourth argument which is no longer relevant given entity references
 never made it into the DOM.

 
    <li>The <dfn class="idl-code" data-dfn-for="NodeIterator, TreeWalker" data-dfn-type="attribute" data-export="" id="dom-nodeiterator-expandentityreferences">expandEntityReferences<a class="self-link" href="#dom-nodeiterator-expandentityreferences"></a></dfn> attribute has been removed from the
 <code class="idl"><a data-link-type="idl" href="#nodeiterator">NodeIterator</a></code> and <code class="idl"><a data-link-type="idl" href="#treewalker">TreeWalker</a></code> interfaces for the aforementioned
 reason.

 
    <li>The <code class="idl"><a data-link-type="idl" href="#dom-nodeiterator-referencenode">referenceNode</a></code> and
 <code class="idl"><a data-link-type="idl" href="#dom-nodeiterator-pointerbeforereferencenode">pointerBeforeReferenceNode</a></code>
 attributes have been added to <code class="idl"><a data-link-type="idl" href="#nodeiterator">NodeIterator</a></code> objects to align with proprietary
 extensions of implementations.

 
    <li><code class="idl"><a data-link-type="idl" href="#dom-nodeiterator-nextnode">nextNode()</a></code> and
 <code class="idl"><a data-link-type="idl" href="#dom-nodeiterator-previousnode">previousNode()</a></code> now throw
 when invoked from a <code class="idl"><a data-link-type="idl" href="#callbackdef-nodefilter">NodeFilter</a></code> to align with user agents.

 
    <li><code class="idl"><a data-link-type="idl" href="#dom-nodeiterator-detach">detach()</a></code> is now a no-op.
</ul>



   <h2 class="no-num heading settled" id="acks"><span class="content">Acknowledgments</span><a class="self-link" href="#acks"></a></h2>


   <p>There have been a lot of people that have helped make DOM more interoperable over the
years and thereby furthered the goals of this standard. Likewise many people have helped
making this standard what it is today.</p>


   <p>With that, many thanks to
Adam Klein,
Adrian Bateman,
Alex Russell,
Arkadiusz Michalski,
Arnaud Le Hors,
Arun Ranganathan,
Björn Höhrmann,
Boris Zbarsky,
Brandon Slade,
Brandon Wallace,
Brian Kardell,
Cameron McCormack,
Chris Paris,
Christophe Dumez,
Daniel Glazman,
David Bruant,
David Flanagan,
David Håsäther,
Dethe Elza,
Dimitri Glazkov,
Domenic Denicola,
Dominic Cooney,
Dominique Hazaël-Massieux,
Don Jordan,
Doug Schepers,
Erik Arvidsson,
Gavin Nicol,
Geoffrey Sneddon,
Glen Huang,
Glenn Maynard,
Harald Alvestrand,
Henri Sivonen,
Ian Hickson,
Igor Bukanov,
Jacob Rossi,
Jake Archibald,
Jake Verbaten,
James Graham,
James Greene,
James Robinson,
Jens Lindström,
João Eiras,
Joe Kesselman,
Jonas Sicking,
Jonathan Robie,
Joris van der Wel,
Joshua Bell,
Justin Summerlin,
呂康豪 (Kang-Hao Lu),
Kevin Sweeney,
Lachlan Hunt,
Lauren Wood,
Manish Goregaokar,
Manish Tripathi,
Marcos Caceres,
Mark Miller,
Mats Palmgren,
Mounir Lamouri,
Michael™ Smith,
Mike Champion,
Ojan Vafai,
Olli Pettay,
Ondřej Žára,
Peter Sharpe,
Philip Jägenstedt,
Philippe Le Hégaret,
Rafael Weinstein,
Rick Waldron,
Robbert Broersma,
Robin Berjon,
Rune <span title="Fabulous">F.</span> Halvorsen,
Ryosuke Niwa,
Seo Sanghyeon,
Shiki Okasaka,
Simon Pieters,
Steve Byrne,
Stig Halvorsen,
Tab Atkins,
Timo Tijhof,
Tom Pixley,
Travis Leithead,
Vidur Apparao,
Warren He,
Yehuda Katz,
Yoichi Osato, and
Zack Weinberg
for being awesome!</p>


   <p>This standard is written by
<a href="//annevankesteren.nl/" lang="nl">Anne van Kesteren</a>
(<a href="//www.mozilla.org/">Mozilla</a>,
<a href="mailto:annevk@annevk.nl">annevk@annevk.nl</a>) with substantial contributions from
Aryeh Gregor (<a href="//www.mozilla.org/">Mozilla</a>,
<a href="mailto:ayg@aryeh.name">ayg@aryeh.name</a>)
and Ms2ger (<a href="//www.mozilla.org/">Mozilla</a>,
<a href="mailto:ms2ger@gmail.com">ms2ger@gmail.com</a>).</p>


   <p>Per <a href="//creativecommons.org/publicdomain/zero/1.0/" rel="license">CC0</a>, to
the extent possible under law, the editors have waived all copyright and related or
neighboring rights to this work.</p>


   <script id="head" src="//resources.whatwg.org/dfn.js"></script>


</main>
  


  <h2 class="no-num heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="indexlist">
   <li>acceptNode(node), <a href="#dom-nodefilter-acceptnodenode">6.3</a>
   <li>add(), <a href="#dom-domtokenlist-addtokens">7.1</a>
   <li>addedNodes, <a href="#dom-mutationrecord-addednodes">4.3.3</a>
   <li>addEventListener(type, callback), <a href="#dom-eventtarget-addeventlistenertype-callback-capture">3.6</a>
   <li>addEventListener(type, callback, capture), <a href="#dom-eventtarget-addeventlistenertype-callback-capture">3.6</a>
   <li>add(tokens), <a href="#dom-domtokenlist-addtokens">7.1</a>
   <li>adopt, <a href="#concept-node-adopt">4.5</a>
   <li>adopting steps, <a href="#concept-node-adopt-ext">4.5</a>
   <li>adoptNode(node), <a href="#dom-document-adoptnodenode">4.5</a>
   <li>after, <a href="#concept-range-bp-after">5.2</a>
   <li>after(nodes), <a href="#dom-childnode-afternodes">4.2.5</a>
   <li>after(nodes...), <a href="#dom-childnode-afternodes">4.2.5</a>
   <li>ancestor, <a href="#concept-tree-ancestor">2.1</a>
   <li>append, <a href="#concept-node-append">4.2.1</a>
   <li>append an attribute, <a href="#concept-element-attributes-append">4.8</a>
   <li>appendChild(node), <a href="#dom-node-appendchildnode">4.4</a>
   <li>appendData(data), <a href="#dom-characterdata-appenddatadata">4.9</a>
   <li>append(nodes), <a href="#dom-parentnode-appendnodes">4.2.3</a>
   <li>append(nodes...), <a href="#dom-parentnode-appendnodes">4.2.3</a>
   <li>ASCII case-insensitive, <a href="#ascii-case_insensitive">2.2</a>
   <li>ASCII case-insensitively, <a href="#ascii-case_insensitive">2.2</a>
   <li>AT_TARGET, <a href="#dom-event-at_target">3.2</a>
   <li>Attr, <a href="#attr">4.8.2</a>
   <li>attr
    <ul>
     <li>argument for Element/setAttributeNode(attr), <a href="#dom-element-setattributenodeattr-attr">4.8</a>
     <li>argument for Element/setAttributeNodeNS(attr), <a href="#dom-element-setattributenodensattr-attr">4.8</a>
     <li>argument for Element/removeAttributeNode(attr), <a href="#dom-element-removeattributenodeattr-attr">4.8</a>
     <li>argument for NamedNodeMap/setNamedItem(attr), <a href="#dom-namednodemap-setnameditemattr-attr">4.8.1</a>
     <li>argument for NamedNodeMap/setNamedItemNS(attr), <a href="#dom-namednodemap-setnameditemnsattr-attr">4.8.1</a>
    </ul>
   <li>attribute, <a href="#concept-attribute">4.8.2</a>
   <li>attributeFilter, <a href="#dom-mutationobserverinit-attributefilter">4.3.1</a>
   <li>attribute is added, <a href="#attribute-is-added">4.8</a>
   <li>attribute is changed, <a href="#attribute-is-changed">4.8</a>
   <li>attribute is removed, <a href="#attribute-is-removed">4.8</a>
   <li>attribute is set, <a href="#attribute-is-set">4.8</a>
   <li>attribute list
    <ul>
     <li>dfn for Element, <a href="#concept-element-attribute">4.8</a>
     <li>dfn for NamedNodeMap, <a href="#concept-NamedNodeMap-attribute">4.8.1</a>
    </ul>
   <li>attributeName, <a href="#dom-mutationrecord-attributename">4.3.3</a>
   <li>attributeNamespace, <a href="#dom-mutationrecord-attributenamespace">4.3.3</a>
   <li>ATTRIBUTE_NODE, <a href="#dom-node-attribute_node">4.4</a>
   <li>attributeOldValue, <a href="#dom-mutationobserverinit-attributeoldvalue">4.3.1</a>
   <li>attributes
    <ul>
     <li>dict-member for MutationObserverInit, <a href="#dom-mutationobserverinit-attributes">4.3.1</a>
     <li>attribute for Element, <a href="#dom-element-attributes">4.8</a>
     <li>attribute for Node, <a href="#dom-node-attributes">8.2</a>
    </ul>
   <li>baseURI, <a href="#dom-node-baseuri">4.4</a>
   <li>base URL, <a href="#concept-node-base-url">4.4</a>
   <li>before, <a href="#concept-range-bp-before">5.2</a>
   <li>before(nodes), <a href="#dom-childnode-beforenodes">4.2.5</a>
   <li>before(nodes...), <a href="#dom-childnode-beforenodes">4.2.5</a>
   <li>boundary point, <a href="#concept-range-bp">5.2</a>
   <li>bubbles
    <ul>
     <li>argument for Event/initEvent(type, bubbles, cancelable), <a href="#dom-event-initeventtype-bubbles-cancelable-bubbles">3.2</a>
     <li>dict-member for EventInit, <a href="#dom-eventinit-bubbles">3.2</a>
     <li>attribute for Event, <a href="#dom-event-bubbles">3.2</a>
     <li>argument for CustomEvent/initCustomEvent(type, bubbles, cancelable, detail), <a href="#dom-customevent-initcustomeventtype-bubbles-cancelable-detail-bubbles">3.3</a>
    </ul>
   <li>BUBBLING_PHASE, <a href="#dom-event-bubbling_phase">3.2</a>
   <li>callback, <a href="#concept-MO-callback">4.3.1</a>
   <li>cancelable
    <ul>
     <li>argument for Event/initEvent(type, bubbles, cancelable), <a href="#dom-event-initeventtype-bubbles-cancelable-cancelable">3.2</a>
     <li>dict-member for EventInit, <a href="#dom-eventinit-cancelable">3.2</a>
     <li>attribute for Event, <a href="#dom-event-cancelable">3.2</a>
     <li>argument for CustomEvent/initCustomEvent(type, bubbles, cancelable, detail), <a href="#dom-customevent-initcustomeventtype-bubbles-cancelable-detail-cancelable">3.3</a>
    </ul>
   <li>canceled flag, <a href="#canceled-flag">3.2</a>
   <li>capture
    <ul>
     <li>argument for EventTarget/addEventListener(type, callback, capture), <a href="#dom-eventtarget-addeventlistenertype-callback-capture-capture">3.6</a>
     <li>argument for EventTarget/removeEventListener(type, callback, capture), <a href="#dom-eventtarget-removeeventlistenertype-callback-capture-capture">3.6</a>
    </ul>
   <li>CAPTURING_PHASE, <a href="#dom-event-capturing_phase">3.2</a>
   <li>case-sensitive, <a href="#case_sensitive">2.2</a>
   <li>case-sensitively, <a href="#case_sensitive">2.2</a>
   <li>CDATASection, <a href="#cdatasection">8.2</a>
   <li>CDATA_SECTION_NODE, <a href="#dom-node-cdata_section_node">4.4</a>
   <li>change an attribute, <a href="#concept-element-attributes-change">4.8</a>
   <li>characterData, <a href="#dom-mutationobserverinit-characterdata">4.3.1</a>
   <li>CharacterData, <a href="#characterdata">4.9</a>
   <li>characterDataOldValue, <a href="#dom-mutationobserverinit-characterdataoldvalue">4.3.1</a>
   <li>characterSet, <a href="#dom-document-characterset">4.5</a>
   <li>child
    <ul>
     <li>dfn for tree, <a href="#concept-tree-child">2.1</a>
     <li>argument for Node/insertBefore(node, child), <a href="#dom-node-insertbeforenode-child-child">4.4</a>
     <li>argument for Node/replaceChild(node, child), <a href="#dom-node-replacechildnode-child-child">4.4</a>
     <li>argument for Node/removeChild(child), <a href="#dom-node-removechildchild-child">4.4</a>
    </ul>
   <li>childElementCount, <a href="#dom-parentnode-childelementcount">4.2.3</a>
   <li>childList, <a href="#dom-mutationobserverinit-childlist">4.3.1</a>
   <li>ChildNode, <a href="#childnode">4.2.5</a>
   <li>childNodes, <a href="#dom-node-childnodes">4.4</a>
   <li>children
    <ul>
     <li>dfn for tree, <a href="#concept-tree-child">2.1</a>
     <li>attribute for ParentNode, <a href="#dom-parentnode-children">4.2.3</a>
    </ul>
   <li>class, <a href="#concept-class">4.8</a>
   <li>classList, <a href="#dom-element-classlist">4.8</a>
   <li>className, <a href="#dom-element-classname">4.8</a>
   <li>classNames
    <ul>
     <li>argument for Document/getElementsByClassName(classNames), <a href="#dom-document-getelementsbyclassnameclassnames-classnames">4.5</a>
     <li>argument for Element/getElementsByClassName(classNames), <a href="#dom-element-getelementsbyclassnameclassnames-classnames">4.8</a>
    </ul>
   <li>clone, <a href="#concept-node-clone">4.4</a>
   <li>clone a node, <a href="#concept-node-clone">4.4</a>
   <li>clone a range, <a href="#concept-range-clone">5.2</a>
   <li>cloneContents(), <a href="#dom-range-clonecontents">5.2</a>
   <li>cloneNode(), <a href="#dom-node-clonenodedeep">4.4</a>
   <li>cloneNode(deep), <a href="#dom-node-clonenodedeep">4.4</a>
   <li>cloneRange(), <a href="#dom-range-clonerange">5.2</a>
   <li>cloning steps, <a href="#concept-node-clone-ext">4.4</a>
   <li>closest(selectors), <a href="#dom-element-closestselectors">4.8</a>
   <li>collapse(), <a href="#dom-range-collapsetostart">5.2</a>
   <li>collapsed, <a href="#dom-range-collapsed">5.2</a>
   <li>collapse(toStart), <a href="#dom-range-collapsetostart">5.2</a>
   <li>collect a code point sequence, <a href="#collect-a-code-point-sequence">2.3</a>
   <li>collection, <a href="#concept-collection">4.2.7</a>
   <li>Comment, <a href="#comment">4.12</a>
   <li>Comment(data), <a href="#dom-comment-commentdata">4.12</a>
   <li>COMMENT_NODE, <a href="#dom-node-comment_node">4.4</a>
   <li>commonAncestorContainer, <a href="#dom-range-commonancestorcontainer">5.2</a>
   <li>compareBoundaryPoints(how, sourceRange), <a href="#dom-range-compareboundarypointshow-sourcerange">5.2</a>
   <li>compareDocumentPosition(other), <a href="#dom-node-comparedocumentpositionother">4.4</a>
   <li>comparePoint(node, offset), <a href="#dom-range-comparepointnode-offset">5.2</a>
   <li>compatMode, <a href="#dom-document-compatmode">4.5</a>
   <li>constructor, <a href="#concept-event-constructor">3.4</a>
   <li>contained, <a href="#contained">5.2</a>
   <li>contains(other), <a href="#dom-node-containsother">4.4</a>
   <li>contains(token), <a href="#dom-domtokenlist-containstoken">7.1</a>
   <li>contentType, <a href="#dom-document-contenttype">4.5</a>
   <li>content type, <a href="#concept-document-content-type">4.5</a>
   <li>context object, <a href="#context-object">2</a>
   <li>contiguous Text nodes, <a href="#contiguous-text-nodes">4.10</a>
   <li>converted to ASCII lowercase, <a href="#converted-to-ascii-lowercase">2.2</a>
   <li>converted to ASCII uppercase, <a href="#converted-to-ascii-uppercase">2.2</a>
   <li>count
    <ul>
     <li>argument for CharacterData/substringData(offset, count), <a href="#dom-characterdata-substringdataoffset-count-count">4.9</a>
     <li>argument for CharacterData/deleteData(offset, count), <a href="#dom-characterdata-deletedataoffset-count-count">4.9</a>
     <li>argument for CharacterData/replaceData(offset, count, data), <a href="#dom-characterdata-replacedataoffset-count-data-count">4.9</a>
    </ul>
   <li>createAttribute(localName), <a href="#dom-document-createattributelocalname">4.5</a>
   <li>createAttributeNS(namespace, name), <a href="#dom-document-createattributensnamespace-name">4.5</a>
   <li>createCDATASection(), <a href="#dom-document-createcdatasection">8.2</a>
   <li>createComment(data), <a href="#dom-document-createcommentdata">4.5</a>
   <li>createDocumentFragment(), <a href="#dom-document-createdocumentfragment">4.5</a>
   <li>createDocument(namespace, qualifiedName), <a href="#dom-domimplementation-createdocumentnamespace-qualifiedname-doctype">4.5.1</a>
   <li>createDocument(namespace, qualifiedName, doctype), <a href="#dom-domimplementation-createdocumentnamespace-qualifiedname-doctype">4.5.1</a>
   <li>createDocumentType(qualifiedName, publicId, systemId), <a href="#dom-domimplementation-createdocumenttypequalifiedname-publicid-systemid">4.5.1</a>
   <li>createElement(localName), <a href="#dom-document-createelementlocalname">4.5</a>
   <li>createElementNS(namespace, qualifiedName), <a href="#dom-document-createelementnsnamespace-qualifiedname">4.5</a>
   <li>createEntityReference(), <a href="#dom-document-createentityreference">8.2</a>
   <li>createEvent(interface), <a href="#dom-document-createeventinterface">4.5</a>
   <li>createHTMLDocument(), <a href="#dom-domimplementation-createhtmldocumenttitle">4.5.1</a>
   <li>createHTMLDocument(title), <a href="#dom-domimplementation-createhtmldocumenttitle">4.5.1</a>
   <li>createNodeIterator(root), <a href="#dom-document-createnodeiteratorroot-whattoshow-filter">4.5</a>
   <li>createNodeIterator(root, whatToShow), <a href="#dom-document-createnodeiteratorroot-whattoshow-filter">4.5</a>
   <li>createNodeIterator(root, whatToShow, filter), <a href="#dom-document-createnodeiteratorroot-whattoshow-filter">4.5</a>
   <li>createProcessingInstruction(target, data), <a href="#dom-document-createprocessinginstructiontarget-data">4.5</a>
   <li>createRange(), <a href="#dom-document-createrange">4.5</a>
   <li>createTextNode(data), <a href="#dom-document-createtextnodedata">4.5</a>
   <li>createTreeWalker(root), <a href="#dom-document-createtreewalkerroot-whattoshow-filter">4.5</a>
   <li>createTreeWalker(root, whatToShow), <a href="#dom-document-createtreewalkerroot-whattoshow-filter">4.5</a>
   <li>createTreeWalker(root, whatToShow, filter), <a href="#dom-document-createtreewalkerroot-whattoshow-filter">4.5</a>
   <li>currentNode, <a href="#dom-treewalker-currentnode">6.2</a>
   <li>currentTarget, <a href="#dom-event-currenttarget">3.2</a>
   <li>CustomEvent, <a href="#customevent">3.3</a>
   <li>CustomEventInit, <a href="#dictdef-customeventinit">3.3</a>
   <li>CustomEvent(type, eventInitDict), <a href="#dom-customevent-customeventtype-eventinitdict">3.3</a>
   <li>data
    <ul>
     <li>argument for Document/createTextNode(data), <a href="#dom-document-createtextnodedata-data">4.5</a>
     <li>argument for Document/createComment(data), <a href="#dom-document-createcommentdata-data">4.5</a>
     <li>argument for Document/createProcessingInstruction(target, data), <a href="#dom-document-createprocessinginstructiontarget-data-data">4.5</a>
     <li>argument for CharacterData/appendData(data), <a href="#dom-characterdata-appenddatadata-data">4.9</a>
     <li>argument for CharacterData/insertData(offset, data), <a href="#dom-characterdata-insertdataoffset-data-data">4.9</a>
     <li>argument for CharacterData/replaceData(offset, count, data), <a href="#dom-characterdata-replacedataoffset-count-data-data">4.9</a>
     <li>dfn for CharacterData, Text, Comment, ProcessingInstruction, <a href="#concept-CD-data">4.9</a>
     <li>attribute for CharacterData, <a href="#dom-characterdata-data">4.9</a>
     <li>argument for Text/Text(data), <a href="#dom-text-textdata-data">4.10</a>
     <li>argument for Comment/Comment(data), <a href="#dom-comment-commentdata-data">4.12</a>
    </ul>
   <li>deep
    <ul>
     <li>argument for Node/cloneNode(deep), <a href="#dom-node-clonenodedeep-deep">4.4</a>
     <li>argument for Document/importNode(node, deep), <a href="#dom-document-importnodenode-deep-deep">4.5</a>
    </ul>
   <li>defaultPrevented, <a href="#dom-event-defaultprevented">3.2</a>
   <li>deleteContents(), <a href="#dom-range-deletecontents">5.2</a>
   <li>deleteData(offset, count), <a href="#dom-characterdata-deletedataoffset-count">4.9</a>
   <li>descendant, <a href="#concept-tree-descendant">2.1</a>
   <li>detach()
    <ul>
     <li>method for Range, <a href="#dom-range-detach">5.2</a>
     <li>method for NodeIterator, <a href="#dom-nodeiterator-detach">6.1</a>
    </ul>
   <li>detail
    <ul>
     <li>argument for CustomEvent/initCustomEvent(type, bubbles, cancelable, detail), <a href="#dom-customevent-initcustomeventtype-bubbles-cancelable-detail-detail">3.3</a>
     <li>dict-member for CustomEventInit, <a href="#dom-customeventinit-detail">3.3</a>
     <li>attribute for CustomEvent, <a href="#dom-customevent-detail">3.3</a>
    </ul>
   <li>disconnect(), <a href="#dom-mutationobserver-disconnect">4.3.1</a>
   <li>dispatch, <a href="#concept-event-dispatch">3.7</a>
   <li>dispatchEvent(event), <a href="#dom-eventtarget-dispatcheventevent">3.6</a>
   <li>dispatch flag, <a href="#dispatch-flag">3.2</a>
   <li>doctype
    <ul>
     <li>attribute for Document, <a href="#dom-document-doctype">4.5</a>
     <li>argument for DOMImplementation/createDocument(namespace, qualifiedName, doctype), <a href="#dom-domimplementation-createdocumentnamespace-qualifiedname-doctype-doctype">4.5.1</a>
     <li>definition of, <a href="#concept-doctype">4.7</a>
    </ul>
   <li>Document(), <a href="#dom-document-document">4.5</a>
   <li>document, <a href="#concept-document">4.5</a>
   <li>documentElement, <a href="#dom-document-documentelement">4.5</a>
   <li>document element, <a href="#document-element">4.8</a>
   <li>DocumentFragment, <a href="#documentfragment">4.6</a>
   <li>DocumentFragment(), <a href="#dom-documentfragment-documentfragment">4.6</a>
   <li>DOCUMENT_FRAGMENT_NODE, <a href="#dom-node-document_fragment_node">4.4</a>
   <li>DOCUMENT_NODE, <a href="#dom-node-document_node">4.4</a>
   <li>DOCUMENT_POSITION_CONTAINED_BY, <a href="#dom-node-document_position_contained_by">4.4</a>
   <li>DOCUMENT_POSITION_CONTAINS, <a href="#dom-node-document_position_contains">4.4</a>
   <li>DOCUMENT_POSITION_DISCONNECTED, <a href="#dom-node-document_position_disconnected">4.4</a>
   <li>DOCUMENT_POSITION_FOLLOWING, <a href="#dom-node-document_position_following">4.4</a>
   <li>DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC, <a href="#dom-node-document_position_implementation_specific">4.4</a>
   <li>DOCUMENT_POSITION_PRECEDING, <a href="#dom-node-document_position_preceding">4.4</a>
   <li>DocumentType, <a href="#documenttype">4.7</a>
   <li>DOCUMENT_TYPE_NODE, <a href="#dom-node-document_type_node">4.4</a>
   <li>documentURI, <a href="#dom-document-documenturi">4.5</a>
   <li>domConfig, <a href="#dom-document-domconfig">8.2</a>
   <li>DOMConfiguration, <a href="#domconfiguration">8.2</a>
   <li>DOMError, <a href="#domerror">8.2</a>
   <li>DOMErrorHandler, <a href="#domerrorhandler">8.2</a>
   <li>DOMImplementation, <a href="#domimplementation">4.5.1</a>
   <li>DOMImplementationList, <a href="#domimplementationlist">8.2</a>
   <li>DOMImplementationSource, <a href="#domimplementationsource">8.2</a>
   <li>DOMLocator, <a href="#domlocator">8.2</a>
   <li>DOMObject, <a href="#domobject">8.2</a>
   <li>DOMSettableTokenList, <a href="#domsettabletokenlist">7.2</a>
   <li>DOMStringList, <a href="#domstringlist">8.2</a>
   <li>DOMTokenList, <a href="#domtokenlist">7.1</a>
   <li>DOMUserData, <a href="#domuserdata">8.2</a>
   <li>element
    <ul>
     <li>definition of, <a href="#concept-element">4.8</a>
     <li>dfn for NamedNodeMap, <a href="#concept-NamedNodeMap-element">4.8.1</a>
     <li>dfn for Attr, <a href="#concept-attribute-element">4.8.2</a>
    </ul>
   <li>Element, <a href="#element">4.8</a>
   <li>elementId, <a href="#dom-nonelementparentnode-getelementbyidelementid-elementid">4.2.2</a>
   <li>element interface, <a href="#concept-element-interface">4.5</a>
   <li>ELEMENT_NODE, <a href="#dom-node-element_node">4.4</a>
   <li>empty, <a href="#concept-node-empty">4.2</a>
   <li>encoding, <a href="#concept-document-encoding">4.5</a>
   <li>end, <a href="#concept-range-end">5.2</a>
   <li>endContainer, <a href="#dom-range-endcontainer">5.2</a>
   <li>end node, <a href="#concept-range-end-node">5.2</a>
   <li>end offset, <a href="#concept-range-end-offset">5.2</a>
   <li>endOffset, <a href="#dom-range-endoffset">5.2</a>
   <li>END_TO_END, <a href="#dom-range-end_to_end">5.2</a>
   <li>END_TO_START, <a href="#dom-range-end_to_start">5.2</a>
   <li>ensure pre-insertion validity, <a href="#concept-node-ensure-pre-insertion-validity">4.2.1</a>
   <li>entities, <a href="#dom-documenttype-entities">8.2</a>
   <li>Entity, <a href="#entity">8.2</a>
   <li>ENTITY_NODE, <a href="#dom-node-entity_node">4.4</a>
   <li>EntityReference, <a href="#entityreference">8.2</a>
   <li>ENTITY_REFERENCE_NODE, <a href="#dom-node-entity_reference_node">4.4</a>
   <li>equal, <a href="#concept-range-bp-equal">5.2</a>
   <li>equals, <a href="#concept-node-equals">4.4</a>
   <li>Event, <a href="#event">3.2</a>
   <li>event
    <ul>
     <li>definition of, <a href="#concept-event">3.2</a>
     <li>argument for EventTarget/dispatchEvent(event), <a href="#dom-eventtarget-dispatcheventevent-event">3.6</a>
     <li>argument for EventListener/handleEvent(event), <a href="#dom-eventlistener-handleeventevent-event">3.6</a>
    </ul>
   <li>EventInit, <a href="#dictdef-eventinit">3.2</a>
   <li>eventInitDict
    <ul>
     <li>argument for Event/Event(type, eventInitDict), <a href="#dom-event-eventtype-eventinitdict-eventinitdict">3.2</a>
     <li>argument for CustomEvent/CustomEvent(type, eventInitDict), <a href="#dom-customevent-customeventtype-eventinitdict-eventinitdict">3.3</a>
    </ul>
   <li>event listener, <a href="#concept-event-listener">3.6</a>
   <li>EventListener, <a href="#callbackdef-eventlistener">3.6</a>
   <li>eventPhase, <a href="#dom-event-eventphase">3.2</a>
   <li>EventTarget, <a href="#eventtarget">3.6</a>
   <li>Event(type, eventInitDict), <a href="#dom-event-eventtype-eventinitdict">3.2</a>
   <li>expandEntityReferences, <a href="#dom-nodeiterator-expandentityreferences">8.4</a>
   <li>extract, <a href="#concept-range-extract">5.2</a>
   <li>extract a range, <a href="#concept-range-extract">5.2</a>
   <li>extractContents(), <a href="#dom-range-extractcontents">5.2</a>
   <li>filter
    <ul>
     <li>argument for Document/createNodeIterator(root, whatToShow, filter), <a href="#dom-document-createnodeiteratorroot-whattoshow-filter-filter">4.5</a>
     <li>argument for Document/createTreeWalker(root, whatToShow, filter), <a href="#dom-document-createtreewalkerroot-whattoshow-filter-filter">4.5</a>
     <li>dfn for traversal, <a href="#concept-traversal-filter">6</a>
     <li>dfn for Node, <a href="#concept-node-filter">6</a>
     <li>attribute for NodeIterator, <a href="#dom-nodeiterator-filter">6.1</a>
     <li>attribute for TreeWalker, <a href="#dom-treewalker-filter">6.2</a>
    </ul>
   <li>FILTER_ACCEPT, <a href="#dom-nodefilter-filter_accept">6.3</a>
   <li>FILTER_REJECT, <a href="#dom-nodefilter-filter_reject">6.3</a>
   <li>FILTER_SKIP, <a href="#dom-nodefilter-filter_skip">6.3</a>
   <li>fire an event, <a href="#concept-event-fire">3.8</a>
   <li>firstChild(), <a href="#dom-treewalker-firstchild">6.2</a>
   <li>firstChild, <a href="#dom-node-firstchild">4.4</a>
   <li>first child, <a href="#concept-tree-first-child">2.1</a>
   <li>firstElementChild, <a href="#dom-parentnode-firstelementchild">4.2.3</a>
   <li>following, <a href="#concept-tree-following">2.1</a>
   <li>force, <a href="#dom-domtokenlist-toggletoken-force-force">7.1</a>
   <li>get an attribute by name, <a href="#concept-element-attributes-get-by-name">4.8</a>
   <li>get an attribute by namespace and local name, <a href="#concept-element-attributes-get-by-namespace">4.8</a>
   <li>getAttribute(name), <a href="#dom-element-getattributename">4.8</a>
   <li>getAttributeNode(name), <a href="#dom-element-getattributenodename">4.8</a>
   <li>getAttributeNodeNS(namespace, localName), <a href="#dom-element-getattributenodensnamespace-localname">4.8</a>
   <li>getAttributeNS(namespace, localName), <a href="#dom-element-getattributensnamespace-localname">4.8</a>
   <li>getElementById(elementId), <a href="#dom-nonelementparentnode-getelementbyidelementid">4.2.2</a>
   <li>getElementsByClassName(classNames)
    <ul>
     <li>method for Document, <a href="#dom-document-getelementsbyclassnameclassnames">4.5</a>
     <li>method for Element, <a href="#dom-element-getelementsbyclassnameclassnames">4.8</a>
    </ul>
   <li>getElementsByTagName(localName)
    <ul>
     <li>method for Document, <a href="#dom-document-getelementsbytagnamelocalname">4.5</a>
     <li>method for Element, <a href="#dom-element-getelementsbytagnamelocalname">4.8</a>
    </ul>
   <li>getElementsByTagNameNS(namespace, localName)
    <ul>
     <li>method for Document, <a href="#dom-document-getelementsbytagnamensnamespace-localname">4.5</a>
     <li>method for Element, <a href="#dom-element-getelementsbytagnamensnamespace-localname">4.8</a>
    </ul>
   <li>getFeature()
    <ul>
     <li>method for Node, <a href="#dom-node-getfeature">8.2</a>
     <li>method for DOMImplementation, <a href="#dom-domimplementation-getfeature">8.2</a>
    </ul>
   <li>getNamedItem(name), <a href="#dom-namednodemap-getnameditemname">4.8.1</a>
   <li>getNamedItemNS(namespace, localName), <a href="#dom-namednodemap-getnameditemnsnamespace-localname">4.8.1</a>
   <li>getUserData(), <a href="#dom-node-getuserdata">8.2</a>
   <li>handleEvent(event), <a href="#dom-eventlistener-handleeventevent">3.6</a>
   <li>has an attribute, <a href="#concept-element-attribute-has">4.8</a>
   <li>hasAttribute(name), <a href="#dom-element-hasattributename">4.8</a>
   <li>hasAttributeNS(namespace, localName), <a href="#dom-element-hasattributensnamespace-localname">4.8</a>
   <li>hasAttributes()
    <ul>
     <li>method for Element, <a href="#dom-element-hasattributes">4.8</a>
     <li>method for Node, <a href="#dom-node-hasattributes">8.2</a>
    </ul>
   <li>hasChildNodes(), <a href="#dom-node-haschildnodes">4.4</a>
   <li>hasFeature(), <a href="#dom-domimplementation-hasfeature">4.5.1</a>
   <li>host, <a href="#concept-DocumentFragment-host">4.6</a>
   <li>host-including inclusive ancestor, <a href="#concept-tree-host-including-inclusive-ancestor">4.6</a>
   <li>how, <a href="#dom-range-compareboundarypointshow-sourcerange-how">5.2</a>
   <li>HTMLCollection, <a href="#htmlcollection">4.2.7.2</a>
   <li>HTML document, <a href="#html-document">4.5</a>
   <li>HTML namespace, <a href="#html-namespace">2.4</a>
   <li>id, <a href="#dom-element-id">4.8</a>
   <li>ID, <a href="#concept-id">4.8</a>
   <li>implementation, <a href="#dom-document-implementation">4.5</a>
   <li>importNode(node), <a href="#dom-document-importnodenode-deep">4.5</a>
   <li>importNode(node, deep), <a href="#dom-document-importnodenode-deep">4.5</a>
   <li>in a document, <a href="#in-a-document">4.8</a>
   <li>inclusive ancestor, <a href="#concept-tree-inclusive-ancestor">2.1</a>
   <li>inclusive descendant, <a href="#concept-tree-inclusive-descendant">2.1</a>
   <li>index
    <ul>
     <li>dfn for tree, <a href="#concept-tree-index">2.1</a>
     <li>argument for NodeList/item(index), <a href="#dom-nodelist-itemindex-index">4.2.7.1</a>
     <li>argument for HTMLCollection/item(index), <a href="#dom-htmlcollection-itemindex-index">4.2.7.2</a>
     <li>argument for NamedNodeMap/item(index), <a href="#dom-namednodemap-itemindex-index">4.8.1</a>
     <li>argument for DOMTokenList/item(index), <a href="#dom-domtokenlist-itemindex-index">7.1</a>
    </ul>
   <li>initCustomEvent(type, bubbles, cancelable, detail), <a href="#dom-customevent-initcustomeventtype-bubbles-cancelable-detail">3.3</a>
   <li>initEvent(type, bubbles, cancelable), <a href="#dom-event-initeventtype-bubbles-cancelable">3.2</a>
   <li>initialize, <a href="#concept-event-initialize">3.2</a>
   <li>initialized flag, <a href="#initialized-flag">3.2</a>
   <li>inputEncoding, <a href="#dom-document-inputencoding">4.5</a>
   <li>insert
    <ul>
     <li>dfn for Node, <a href="#concept-node-insert">4.2.1</a>
     <li>dfn for Range, <a href="#concept-range-insert">5.2</a>
    </ul>
   <li>insertBefore(node, child), <a href="#dom-node-insertbeforenode-child">4.4</a>
   <li>insertData(offset, data), <a href="#dom-characterdata-insertdataoffset-data">4.9</a>
   <li>insertion steps, <a href="#concept-node-insert-ext">4.2.1</a>
   <li>insertNode(node), <a href="#dom-range-insertnodenode">5.2</a>
   <li>internalSubset, <a href="#dom-documenttype-internalsubset">8.2</a>
   <li>intersectsNode(node), <a href="#dom-range-intersectsnodenode">5.2</a>
   <li>invoke, <a href="#concept-event-listener-invoke">3.7</a>
   <li>isDefaultNamespace(namespace), <a href="#dom-node-isdefaultnamespacenamespace">4.4</a>
   <li>isElementContentWhitespace, <a href="#dom-text-iselementcontentwhitespace">8.2</a>
   <li>isEqualNode(otherNode), <a href="#dom-node-isequalnodeothernode">4.4</a>
   <li>isPointInRange(node, offset), <a href="#dom-range-ispointinrangenode-offset">5.2</a>
   <li>isSameNode(), <a href="#dom-node-issamenode">8.2</a>
   <li>isSupported, <a href="#dom-node-issupported">8.2</a>
   <li>isTrusted, <a href="#dom-event-istrusted">3.2</a>
   <li>item(index)
    <ul>
     <li>method for NodeList, <a href="#dom-nodelist-itemindex">4.2.7.1</a>
     <li>method for HTMLCollection, <a href="#dom-htmlcollection-itemindex">4.2.7.2</a>
     <li>method for NamedNodeMap, <a href="#dom-namednodemap-itemindex">4.8.1</a>
     <li>method for DOMTokenList, <a href="#dom-domtokenlist-itemindex">7.1</a>
    </ul>
   <li>iterator collection, <a href="#iterator-collection">6.1</a>
   <li>last child, <a href="#concept-tree-last-child">2.1</a>
   <li>lastChild(), <a href="#dom-treewalker-lastchild">6.2</a>
   <li>lastChild, <a href="#dom-node-lastchild">4.4</a>
   <li>lastElementChild, <a href="#dom-parentnode-lastelementchild">4.2.3</a>
   <li>length
    <ul>
     <li>dfn for Node, <a href="#concept-node-length">4.2</a>
     <li>attribute for NodeList, <a href="#dom-nodelist-length">4.2.7.1</a>
     <li>attribute for HTMLCollection, <a href="#dom-htmlcollection-length">4.2.7.2</a>
     <li>attribute for NamedNodeMap, <a href="#dom-namednodemap-length">4.8.1</a>
     <li>attribute for CharacterData, <a href="#dom-characterdata-length">4.9</a>
     <li>attribute for DOMTokenList, <a href="#dom-domtokenlist-length">7.1</a>
    </ul>
   <li>limited-quirks mode, <a href="#concept-document-limited-quirks">4.5</a>
   <li>list of elements with class names classNames, <a href="#concept-getElementsByClassName">4.4</a>
   <li>list of elements with local name localName, <a href="#concept-getElementsByTagName">4.4</a>
   <li>list of elements with namespace
namespace and local name localName, <a href="#concept-getElementsByTagNameNS">4.4</a>
   <li>live, <a href="#concept-collection-live">4.2.7</a>
   <li>live collection, <a href="#concept-collection-live">4.2.7</a>
   <li>localName
    <ul>
     <li>argument for Document/getElementsByTagName(localName), <a href="#dom-document-getelementsbytagnamelocalname-localname">4.5</a>
     <li>argument for Document/getElementsByTagNameNS(namespace, localName), <a href="#dom-document-getelementsbytagnamensnamespace-localname-localname">4.5</a>
     <li>argument for Document/createElement(localName), <a href="#dom-document-createelementlocalname-localname">4.5</a>
     <li>argument for Document/createAttribute(localName), <a href="#dom-document-createattributelocalname-localname">4.5</a>
     <li>argument for Element/getAttributeNS(namespace, localName), <a href="#dom-element-getattributensnamespace-localname-localname">4.8</a>
     <li>argument for Element/removeAttributeNS(namespace, localName), <a href="#dom-element-removeattributensnamespace-localname-localname">4.8</a>
     <li>argument for Element/hasAttributeNS(namespace, localName), <a href="#dom-element-hasattributensnamespace-localname-localname">4.8</a>
     <li>argument for Element/getAttributeNodeNS(namespace, localName), <a href="#dom-element-getattributenodensnamespace-localname-localname">4.8</a>
     <li>argument for Element/getElementsByTagName(localName), <a href="#dom-element-getelementsbytagnamelocalname-localname">4.8</a>
     <li>argument for Element/getElementsByTagNameNS(namespace, localName), <a href="#dom-element-getelementsbytagnamensnamespace-localname-localname">4.8</a>
     <li>attribute for Element, <a href="#dom-element-localname">4.8</a>
     <li>argument for NamedNodeMap/getNamedItemNS(namespace, localName), <a href="#dom-namednodemap-getnameditemnsnamespace-localname-localname">4.8.1</a>
     <li>argument for NamedNodeMap/removeNamedItemNS(namespace, localName), <a href="#dom-namednodemap-removenameditemnsnamespace-localname-localname">4.8.1</a>
     <li>attribute for Attr, <a href="#dom-attr-localname">4.8.2</a>
     <li>attribute for Node, <a href="#dom-node-localname">8.2</a>
    </ul>
   <li>local name
    <ul>
     <li>dfn for Element, <a href="#concept-element-local-name">4.8</a>
     <li>dfn for Attr, <a href="#concept-attribute-local-name">4.8.2</a>
    </ul>
   <li>locate a namespace, <a href="#locate-a-namespace">4.4</a>
   <li>locate a namespace prefix, <a href="#locate-a-namespace-prefix">4.4</a>
   <li>locating a namespace prefix, <a href="#locate-a-namespace-prefix">4.4</a>
   <li>lookupNamespaceURI(prefix), <a href="#dom-node-lookupnamespaceuriprefix">4.4</a>
   <li>lookupPrefix(namespace), <a href="#dom-node-lookupprefixnamespace">4.4</a>
   <li>match a relative selectors string, <a href="#match-a-relative-selectors-string">4.2.3</a>
   <li>matches(selectors), <a href="#dom-element-matchesselectors">4.8</a>
   <li>MutationCallback, <a href="#callbackdef-mutationcallback">4.3.1</a>
   <li>MutationEvent, <a href="#mutationevent">8.1</a>
   <li>mutation method macro, <a href="#mutation-method-macro">4.2.3</a>
   <li>MutationNameEvent, <a href="#mutationnameevent">8.1</a>
   <li>MutationObserver, <a href="#mutationobserver">4.3.1</a>
   <li>MutationObserver(callback), <a href="#dom-mutationobserver-mutationobservercallback">4.3.1</a>
   <li>mutation observer compound microtask queued flag, <a href="#mutation-observer-compound-microtask-queued-flag">4.3</a>
   <li>MutationObserverInit, <a href="#dictdef-mutationobserverinit">4.3.1</a>
   <li>MutationRecord, <a href="#mutationrecord">4.3.3</a>
   <li>mutations, <a href="#dom-mutationcallback-mutations">4.3.1</a>
   <li>name
    <ul>
     <li>argument for HTMLCollection/namedItem(name), <a href="#dom-htmlcollection-nameditemname-name">4.2.7.2</a>
     <li>argument for Document/createAttributeNS(namespace, name), <a href="#dom-document-createattributensnamespace-name-name">4.5</a>
     <li>dfn for DocumentType, <a href="#concept-doctype-name">4.7</a>
     <li>attribute for DocumentType, <a href="#dom-documenttype-name">4.7</a>
     <li>argument for Element/getAttribute(name), <a href="#dom-element-getattributename-name">4.8</a>
     <li>argument for Element/setAttribute(name, value), <a href="#dom-element-setattributename-value-name">4.8</a>
     <li>argument for Element/setAttributeNS(namespace, name, value), <a href="#dom-element-setattributensnamespace-name-value-name">4.8</a>
     <li>argument for Element/removeAttribute(name), <a href="#dom-element-removeattributename-name">4.8</a>
     <li>argument for Element/hasAttribute(name), <a href="#dom-element-hasattributename-name">4.8</a>
     <li>argument for Element/getAttributeNode(name), <a href="#dom-element-getattributenodename-name">4.8</a>
     <li>argument for NamedNodeMap/getNamedItem(name), <a href="#dom-namednodemap-getnameditemname-name">4.8.1</a>
     <li>argument for NamedNodeMap/removeNamedItem(name), <a href="#dom-namednodemap-removenameditemname-name">4.8.1</a>
     <li>dfn for Attr, <a href="#concept-attribute-name">4.8.2</a>
     <li>attribute for Attr, <a href="#dom-attr-name">4.8.2</a>
    </ul>
   <li>named attribute, <a href="#concept-named-attribute">4.8.2</a>
   <li>namedItem(name), <a href="#dom-htmlcollection-nameditemname">4.2.7.2</a>
   <li>NamedNodeMap, <a href="#namednodemap">4.8.1</a>
   <li>NameList, <a href="#namelist">8.2</a>
   <li>namespace
    <ul>
     <li>argument for Node/lookupPrefix(namespace), <a href="#dom-node-lookupprefixnamespace-namespace">4.4</a>
     <li>argument for Node/isDefaultNamespace(namespace), <a href="#dom-node-isdefaultnamespacenamespace-namespace">4.4</a>
     <li>argument for Document/getElementsByTagNameNS(namespace, localName), <a href="#dom-document-getelementsbytagnamensnamespace-localname-namespace">4.5</a>
     <li>argument for Document/createElementNS(namespace, qualifiedName), <a href="#dom-document-createelementnsnamespace-qualifiedname-namespace">4.5</a>
     <li>argument for Document/createAttributeNS(namespace, name), <a href="#dom-document-createattributensnamespace-name-namespace">4.5</a>
     <li>argument for DOMImplementation/createDocument(namespace, qualifiedName, doctype), <a href="#dom-domimplementation-createdocumentnamespace-qualifiedname-doctype-namespace">4.5.1</a>
     <li>argument for Element/getAttributeNS(namespace, localName), <a href="#dom-element-getattributensnamespace-localname-namespace">4.8</a>
     <li>argument for Element/setAttributeNS(namespace, name, value), <a href="#dom-element-setattributensnamespace-name-value-namespace">4.8</a>
     <li>argument for Element/removeAttributeNS(namespace, localName), <a href="#dom-element-removeattributensnamespace-localname-namespace">4.8</a>
     <li>argument for Element/hasAttributeNS(namespace, localName), <a href="#dom-element-hasattributensnamespace-localname-namespace">4.8</a>
     <li>argument for Element/getAttributeNodeNS(namespace, localName), <a href="#dom-element-getattributenodensnamespace-localname-namespace">4.8</a>
     <li>argument for Element/getElementsByTagNameNS(namespace, localName), <a href="#dom-element-getelementsbytagnamensnamespace-localname-namespace">4.8</a>
     <li>dfn for Element, <a href="#concept-element-namespace">4.8</a>
     <li>argument for NamedNodeMap/getNamedItemNS(namespace, localName), <a href="#dom-namednodemap-getnameditemnsnamespace-localname-namespace">4.8.1</a>
     <li>argument for NamedNodeMap/removeNamedItemNS(namespace, localName), <a href="#dom-namednodemap-removenameditemnsnamespace-localname-namespace">4.8.1</a>
     <li>dfn for Attr, <a href="#concept-attribute-namespace">4.8.2</a>
    </ul>
   <li>namespace prefix
    <ul>
     <li>dfn for Element, <a href="#concept-element-namespace-prefix">4.8</a>
     <li>dfn for Attr, <a href="#concept-attribute-namespace-prefix">4.8.2</a>
    </ul>
   <li>namespaceURI
    <ul>
     <li>attribute for Element, <a href="#dom-element-namespaceuri">4.8</a>
     <li>attribute for Attr, <a href="#dom-attr-namespaceuri">4.8.2</a>
     <li>attribute for Node, <a href="#dom-node-namespaceuri">8.2</a>
    </ul>
   <li>newParent, <a href="#dom-range-surroundcontentsnewparent-newparent">5.2</a>
   <li>nextElementSibling, <a href="#dom-nondocumenttypechildnode-nextelementsibling">4.2.4</a>
   <li>nextNode()
    <ul>
     <li>method for NodeIterator, <a href="#dom-nodeiterator-nextnode">6.1</a>
     <li>method for TreeWalker, <a href="#dom-treewalker-nextnode">6.2</a>
    </ul>
   <li>next sibling, <a href="#concept-tree-next-sibling">2.1</a>
   <li>nextSibling(), <a href="#dom-treewalker-nextsibling">6.2</a>
   <li>nextSibling
    <ul>
     <li>attribute for MutationRecord, <a href="#dom-mutationrecord-nextsibling">4.3.3</a>
     <li>attribute for Node, <a href="#dom-node-nextsibling">4.4</a>
    </ul>
   <li>Node, <a href="#node">4.4</a>
   <li>node
    <ul>
     <li>argument for Node/insertBefore(node, child), <a href="#dom-node-insertbeforenode-child-node">4.4</a>
     <li>argument for Node/appendChild(node), <a href="#dom-node-appendchildnode-node">4.4</a>
     <li>argument for Node/replaceChild(node, child), <a href="#dom-node-replacechildnode-child-node">4.4</a>
     <li>argument for Document/importNode(node, deep), <a href="#dom-document-importnodenode-deep-node">4.5</a>
     <li>argument for Document/adoptNode(node), <a href="#dom-document-adoptnodenode-node">4.5</a>
     <li>argument for Range/setStart(node, offset), <a href="#dom-range-setstartnode-offset-node">5.2</a>
     <li>argument for Range/setEnd(node, offset), <a href="#dom-range-setendnode-offset-node">5.2</a>
     <li>argument for Range/setStartBefore(node), <a href="#dom-range-setstartbeforenode-node">5.2</a>
     <li>argument for Range/setStartAfter(node), <a href="#dom-range-setstartafternode-node">5.2</a>
     <li>argument for Range/setEndBefore(node), <a href="#dom-range-setendbeforenode-node">5.2</a>
     <li>argument for Range/setEndAfter(node), <a href="#dom-range-setendafternode-node">5.2</a>
     <li>argument for Range/selectNode(node), <a href="#dom-range-selectnodenode-node">5.2</a>
     <li>argument for Range/selectNodeContents(node), <a href="#dom-range-selectnodecontentsnode-node">5.2</a>
     <li>argument for Range/insertNode(node), <a href="#dom-range-insertnodenode-node">5.2</a>
     <li>argument for Range/isPointInRange(node, offset), <a href="#dom-range-ispointinrangenode-offset-node">5.2</a>
     <li>argument for Range/comparePoint(node, offset), <a href="#dom-range-comparepointnode-offset-node">5.2</a>
     <li>argument for Range/intersectsNode(node), <a href="#dom-range-intersectsnodenode-node">5.2</a>
     <li>argument for NodeFilter/acceptNode(node), <a href="#dom-nodefilter-acceptnodenode-node">6.3</a>
    </ul>
   <li>node document, <a href="#concept-node-document">4.4</a>
   <li>NodeFilter, <a href="#callbackdef-nodefilter">6.3</a>
   <li>NodeIterator, <a href="#nodeiterator">6.1</a>
   <li>NodeList, <a href="#nodelist">4.2.7.1</a>
   <li>nodeName, <a href="#dom-node-nodename">4.4</a>
   <li>nodes
    <ul>
     <li>definition of, <a href="#concept-node">4.2</a>
     <li>argument for ParentNode/prepend(nodes...), <a href="#dom-parentnode-prependnodes-nodes">4.2.3</a>
     <li>argument for ParentNode/append(nodes...), <a href="#dom-parentnode-appendnodes-nodes">4.2.3</a>
     <li>argument for ChildNode/before(nodes...), <a href="#dom-childnode-beforenodes-nodes">4.2.5</a>
     <li>argument for ChildNode/after(nodes...), <a href="#dom-childnode-afternodes-nodes">4.2.5</a>
     <li>argument for ChildNode/replaceWith(nodes...), <a href="#dom-childnode-replacewithnodes-nodes">4.2.5</a>
    </ul>
   <li>node tree, <a href="#concept-node-tree">4.2</a>
   <li>nodeType, <a href="#dom-node-nodetype">4.4</a>
   <li>nodeValue
    <ul>
     <li>attribute for Node, <a href="#dom-node-nodevalue">4.4</a>
     <li>attribute for Attr, <a href="#dom-attr-nodevalue">4.8.2</a>
    </ul>
   <li>NonDocumentTypeChildNode, <a href="#nondocumenttypechildnode">4.2.4</a>
   <li>NONE, <a href="#dom-event-none">3.2</a>
   <li>NonElementParentNode, <a href="#nonelementparentnode">4.2.2</a>
   <li>no-quirks mode, <a href="#concept-document-no-quirks">4.5</a>
   <li>normalize(), <a href="#dom-node-normalize">4.4</a>
   <li>normalizeDocument(), <a href="#dom-document-normalizedocument">8.2</a>
   <li>Notation, <a href="#notation">8.2</a>
   <li>NOTATION_NODE, <a href="#dom-node-notation_node">4.4</a>
   <li>notations, <a href="#dom-documenttype-notations">8.2</a>
   <li>notify mutation observers, <a href="#notify-mutation-observers">4.3</a>
   <li>observer, <a href="#dom-mutationcallback-observer">4.3.1</a>
   <li>observe(target, options), <a href="#dom-mutationobserver-observetarget-options">4.3.1</a>
   <li>offset
    <ul>
     <li>argument for CharacterData/substringData(offset, count), <a href="#dom-characterdata-substringdataoffset-count-offset">4.9</a>
     <li>argument for CharacterData/insertData(offset, data), <a href="#dom-characterdata-insertdataoffset-data-offset">4.9</a>
     <li>argument for CharacterData/deleteData(offset, count), <a href="#dom-characterdata-deletedataoffset-count-offset">4.9</a>
     <li>argument for CharacterData/replaceData(offset, count, data), <a href="#dom-characterdata-replacedataoffset-count-data-offset">4.9</a>
     <li>argument for Text/splitText(offset), <a href="#dom-text-splittextoffset-offset">4.10</a>
     <li>argument for Range/setStart(node, offset), <a href="#dom-range-setstartnode-offset-offset">5.2</a>
     <li>argument for Range/setEnd(node, offset), <a href="#dom-range-setendnode-offset-offset">5.2</a>
     <li>argument for Range/isPointInRange(node, offset), <a href="#dom-range-ispointinrangenode-offset-offset">5.2</a>
     <li>argument for Range/comparePoint(node, offset), <a href="#dom-range-comparepointnode-offset-offset">5.2</a>
     <li>dfn for boundary point, <a href="#concept-range-bp-offset">5.2</a>
    </ul>
   <li>oldValue, <a href="#dom-mutationrecord-oldvalue">4.3.3</a>
   <li>options, <a href="#dom-mutationobserver-observetarget-options-options">4.3.1</a>
   <li>ordered set parser, <a href="#concept-ordered-set-parser">2.3</a>
   <li>ordered set serializer, <a href="#concept-ordered-set-serializer">2.3</a>
   <li>origin, <a href="#dom-document-origin">4.5</a>
   <li>other
    <ul>
     <li>argument for Node/compareDocumentPosition(other), <a href="#dom-node-comparedocumentpositionother-other">4.4</a>
     <li>argument for Node/contains(other), <a href="#dom-node-containsother-other">4.4</a>
    </ul>
   <li>other applicable specifications, <a href="#other-applicable-specifications">1.2</a>
   <li>otherNode, <a href="#dom-node-isequalnodeothernode-othernode">4.4</a>
   <li>ownerDocument, <a href="#dom-node-ownerdocument">4.4</a>
   <li>ownerElement, <a href="#dom-attr-ownerelement">4.8.2</a>
   <li>parent, <a href="#concept-tree-parent">2.1</a>
   <li>parentElement, <a href="#dom-node-parentelement">4.4</a>
   <li>parent element, <a href="#parent-element">4.8</a>
   <li>parentNode, <a href="#dom-node-parentnode">4.4</a>
   <li>ParentNode, <a href="#parentnode">4.2.3</a>
   <li>parentNode(), <a href="#dom-treewalker-parentnode">6.2</a>
   <li>partially contained, <a href="#partially-contained">5.2</a>
   <li>participate, <a href="#concept-tree-participate">2.1</a>
   <li>pointerBeforeReferenceNode, <a href="#dom-nodeiterator-pointerbeforereferencenode">6.1</a>
   <li>position, <a href="#concept-range-bp-position">5.2</a>
   <li>preceding, <a href="#concept-tree-preceding">2.1</a>
   <li>prefix
    <ul>
     <li>argument for Node/lookupNamespaceURI(prefix), <a href="#dom-node-lookupnamespaceuriprefix-prefix">4.4</a>
     <li>attribute for Element, <a href="#dom-element-prefix">4.8</a>
     <li>attribute for Attr, <a href="#dom-attr-prefix">4.8.2</a>
     <li>attribute for Node, <a href="#dom-node-prefix">8.2</a>
    </ul>
   <li>prefix match, <a href="#prefix-match">2.2</a>
   <li>pre-insert, <a href="#concept-node-pre-insert">4.2.1</a>
   <li>prepend(nodes...), <a href="#dom-parentnode-prependnodes">4.2.3</a>
   <li>prepend(nodes), <a href="#dom-parentnode-prependnodes">4.2.3</a>
   <li>pre-remove, <a href="#concept-node-pre-remove">4.2.1</a>
   <li>preventDefault(), <a href="#dom-event-preventdefault">3.2</a>
   <li>previousElementSibling, <a href="#dom-nondocumenttypechildnode-previouselementsibling">4.2.4</a>
   <li>previousNode()
    <ul>
     <li>method for NodeIterator, <a href="#dom-nodeiterator-previousnode">6.1</a>
     <li>method for TreeWalker, <a href="#dom-treewalker-previousnode">6.2</a>
    </ul>
   <li>previousSibling(), <a href="#dom-treewalker-previoussibling">6.2</a>
   <li>previous sibling, <a href="#concept-tree-previous-sibling">2.1</a>
   <li>previousSibling
    <ul>
     <li>attribute for MutationRecord, <a href="#dom-mutationrecord-previoussibling">4.3.3</a>
     <li>attribute for Node, <a href="#dom-node-previoussibling">4.4</a>
    </ul>
   <li>ProcessingInstruction, <a href="#processinginstruction">4.11</a>
   <li>PROCESSING_INSTRUCTION_NODE, <a href="#dom-node-processing_instruction_node">4.4</a>
   <li>publicId
    <ul>
     <li>argument for DOMImplementation/createDocumentType(qualifiedName, publicId, systemId), <a href="#dom-domimplementation-createdocumenttypequalifiedname-publicid-systemid-publicid">4.5.1</a>
     <li>attribute for DocumentType, <a href="#dom-documenttype-publicid">4.7</a>
    </ul>
   <li>public ID, <a href="#concept-doctype-publicid">4.7</a>
   <li>qualifiedName
    <ul>
     <li>argument for Document/createElementNS(namespace, qualifiedName), <a href="#dom-document-createelementnsnamespace-qualifiedname-qualifiedname">4.5</a>
     <li>argument for DOMImplementation/createDocumentType(qualifiedName, publicId, systemId), <a href="#dom-domimplementation-createdocumenttypequalifiedname-publicid-systemid-qualifiedname">4.5.1</a>
     <li>argument for DOMImplementation/createDocument(namespace, qualifiedName, doctype), <a href="#dom-domimplementation-createdocumentnamespace-qualifiedname-doctype-qualifiedname">4.5.1</a>
    </ul>
   <li>queryAll(relativeSelectors)
    <ul>
     <li>method for ParentNode, <a href="#dom-parentnode-queryallrelativeselectors">4.2.3</a>
     <li>method for Elements, <a href="#dom-elements-queryallrelativeselectors">4.2.6</a>
    </ul>
   <li>query(relativeSelectors)
    <ul>
     <li>method for ParentNode, <a href="#dom-parentnode-queryrelativeselectors">4.2.3</a>
     <li>method for Elements, <a href="#dom-elements-queryrelativeselectors">4.2.6</a>
    </ul>
   <li>querySelectorAll(selectors), <a href="#dom-parentnode-queryselectorallselectors">4.2.3</a>
   <li>querySelector(selectors), <a href="#dom-parentnode-queryselectorselectors">4.2.3</a>
   <li>queue a mutation observer compound microtask, <a href="#queue-a-mutation-observer-compound-microtask">4.3</a>
   <li>queue a mutation record, <a href="#queue-a-mutation-record">4.3.2</a>
   <li>quirks mode, <a href="#concept-document-quirks">4.5</a>
   <li>Range, <a href="#range">5.2</a>
   <li>Range(), <a href="#dom-range-range">5.2</a>
   <li>range, <a href="#concept-range">5.2</a>
   <li>RangeException, <a href="#rangeexception">8.3</a>
   <li>record queue, <a href="#concept-MO-queue">4.3.1</a>
   <li>referenceNode, <a href="#dom-nodeiterator-referencenode">6.1</a>
   <li>reflect, <a href="#concept-reflect">4.8</a>
   <li>registered observer, <a href="#registered-observer">4.3</a>
   <li>relativeSelectors
    <ul>
     <li>argument for ParentNode/query(relativeSelectors), <a href="#dom-parentnode-queryrelativeselectors-relativeselectors">4.2.3</a>
     <li>argument for ParentNode/queryAll(relativeSelectors), <a href="#dom-parentnode-queryallrelativeselectors-relativeselectors">4.2.3</a>
    </ul>
   <li>remove()
    <ul>
     <li>method for ChildNode, <a href="#dom-childnode-remove">4.2.5</a>
     <li>method for DOMTokenList, <a href="#dom-domtokenlist-removetokens">7.1</a>
    </ul>
   <li>remove, <a href="#concept-node-remove">4.2.1</a>
   <li>remove an attribute, <a href="#concept-element-attributes-remove">4.8</a>
   <li>remove an attribute by name, <a href="#concept-element-attributes-remove-by-name">4.8</a>
   <li>remove an attribute by namespace and local name, <a href="#concept-element-attributes-remove-by-namespace">4.8</a>
   <li>removeAttribute(name), <a href="#dom-element-removeattributename">4.8</a>
   <li>removeAttributeNode(attr), <a href="#dom-element-removeattributenodeattr">4.8</a>
   <li>removeAttributeNS(namespace, localName), <a href="#dom-element-removeattributensnamespace-localname">4.8</a>
   <li>removeChild(child), <a href="#dom-node-removechildchild">4.4</a>
   <li>removedNodes, <a href="#dom-mutationrecord-removednodes">4.3.3</a>
   <li>removeEventListener(type, callback), <a href="#dom-eventtarget-removeeventlistenertype-callback-capture">3.6</a>
   <li>removeEventListener(type, callback, capture), <a href="#dom-eventtarget-removeeventlistenertype-callback-capture">3.6</a>
   <li>removeNamedItem(name), <a href="#dom-namednodemap-removenameditemname">4.8.1</a>
   <li>removeNamedItemNS(namespace, localName), <a href="#dom-namednodemap-removenameditemnsnamespace-localname">4.8.1</a>
   <li>remove(tokens), <a href="#dom-domtokenlist-removetokens">7.1</a>
   <li>removing steps, <a href="#concept-node-remove-ext">4.2.1</a>
   <li>renameNode(), <a href="#dom-document-renamenode">8.2</a>
   <li>replace, <a href="#concept-node-replace">4.2.1</a>
   <li>replace all, <a href="#concept-node-replace-all">4.2.1</a>
   <li>replaceChild(node, child), <a href="#dom-node-replacechildnode-child">4.4</a>
   <li>replace data, <a href="#concept-CD-replace">4.9</a>
   <li>replaceData(offset, count, data), <a href="#dom-characterdata-replacedataoffset-count-data">4.9</a>
   <li>replaceWholeText(), <a href="#dom-text-replacewholetext">8.2</a>
   <li>replaceWith(nodes...), <a href="#dom-childnode-replacewithnodes">4.2.5</a>
   <li>replaceWith(nodes), <a href="#dom-childnode-replacewithnodes">4.2.5</a>
   <li>represented by the collection, <a href="#represented-by-the-collection">4.2.7</a>
   <li>root
    <ul>
     <li>dfn for tree, <a href="#concept-tree-root">2.1</a>
     <li>argument for Document/createNodeIterator(root, whatToShow, filter), <a href="#dom-document-createnodeiteratorroot-whattoshow-filter-root">4.5</a>
     <li>argument for Document/createTreeWalker(root, whatToShow, filter), <a href="#dom-document-createtreewalkerroot-whattoshow-filter-root">4.5</a>
     <li>dfn for Range, <a href="#concept-range-root">5.2</a>
     <li>dfn for traversal, <a href="#concept-traversal-root">6</a>
     <li>attribute for NodeIterator, <a href="#dom-nodeiterator-root">6.1</a>
     <li>attribute for TreeWalker, <a href="#dom-treewalker-root">6.2</a>
    </ul>
   <li>schemaTypeInfo, <a href="#dom-element-schematypeinfo">8.2</a>
   <li>scope-match a selectors string, <a href="#scope_match-a-selectors-string">4.2.3</a>
   <li>select, <a href="#concept-range-select">5.2</a>
   <li>selectNodeContents(node), <a href="#dom-range-selectnodecontentsnode">5.2</a>
   <li>selectNode(node), <a href="#dom-range-selectnodenode">5.2</a>
   <li>selectors
    <ul>
     <li>argument for ParentNode/querySelector(selectors), <a href="#dom-parentnode-queryselectorselectors-selectors">4.2.3</a>
     <li>argument for ParentNode/querySelectorAll(selectors), <a href="#dom-parentnode-queryselectorallselectors-selectors">4.2.3</a>
     <li>argument for Element/closest(selectors), <a href="#dom-element-closestselectors-selectors">4.8</a>
     <li>argument for Element/matches(selectors), <a href="#dom-element-matchesselectors-selectors">4.8</a>
    </ul>
   <li>set an attribute, <a href="#concept-element-attributes-set">4.8</a>
   <li>set an attribute value, <a href="#concept-element-attributes-set-value">4.8</a>
   <li>setAttribute(name, value), <a href="#dom-element-setattributename-value">4.8</a>
   <li>setAttributeNode(attr), <a href="#dom-element-setattributenodeattr">4.8</a>
   <li>setAttributeNodeNS(attr), <a href="#dom-element-setattributenodensattr">4.8</a>
   <li>setAttributeNS(namespace, name, value), <a href="#dom-element-setattributensnamespace-name-value">4.8</a>
   <li>setEndAfter(node), <a href="#dom-range-setendafternode">5.2</a>
   <li>setEndBefore(node), <a href="#dom-range-setendbeforenode">5.2</a>
   <li>setEnd(node, offset), <a href="#dom-range-setendnode-offset">5.2</a>
   <li>setIdAttribute(), <a href="#dom-element-setidattribute">8.2</a>
   <li>setIdAttributeNode(), <a href="#dom-element-setidattributenode">8.2</a>
   <li>setIdAttributeNS(), <a href="#dom-element-setidattributens">8.2</a>
   <li>setNamedItem(attr), <a href="#dom-namednodemap-setnameditemattr">4.8.1</a>
   <li>setNamedItemNS(attr), <a href="#dom-namednodemap-setnameditemnsattr">4.8.1</a>
   <li>setStartAfter(node), <a href="#dom-range-setstartafternode">5.2</a>
   <li>setStartBefore(node), <a href="#dom-range-setstartbeforenode">5.2</a>
   <li>setStart(node, offset), <a href="#dom-range-setstartnode-offset">5.2</a>
   <li>set the end, <a href="#concept-range-bp-set">5.2</a>
   <li>set the start, <a href="#concept-range-bp-set">5.2</a>
   <li>setUserData(), <a href="#dom-node-setuserdata">8.2</a>
   <li>SHOW_ALL, <a href="#dom-nodefilter-show_all">6.3</a>
   <li>SHOW_ATTRIBUTE, <a href="#dom-nodefilter-show_attribute">6.3</a>
   <li>SHOW_CDATA_SECTION, <a href="#dom-nodefilter-show_cdata_section">6.3</a>
   <li>SHOW_COMMENT, <a href="#dom-nodefilter-show_comment">6.3</a>
   <li>SHOW_DOCUMENT, <a href="#dom-nodefilter-show_document">6.3</a>
   <li>SHOW_DOCUMENT_FRAGMENT, <a href="#dom-nodefilter-show_document_fragment">6.3</a>
   <li>SHOW_DOCUMENT_TYPE, <a href="#dom-nodefilter-show_document_type">6.3</a>
   <li>SHOW_ELEMENT, <a href="#dom-nodefilter-show_element">6.3</a>
   <li>SHOW_ENTITY, <a href="#dom-nodefilter-show_entity">6.3</a>
   <li>SHOW_ENTITY_REFERENCE, <a href="#dom-nodefilter-show_entity_reference">6.3</a>
   <li>SHOW_NOTATION, <a href="#dom-nodefilter-show_notation">6.3</a>
   <li>SHOW_PROCESSING_INSTRUCTION, <a href="#dom-nodefilter-show_processing_instruction">6.3</a>
   <li>SHOW_TEXT, <a href="#dom-nodefilter-show_text">6.3</a>
   <li>sibling, <a href="#concept-tree-sibling">2.1</a>
   <li>skip ASCII whitespace, <a href="#skip-ascii-whitespace">2.3</a>
   <li>sourceRange, <a href="#dom-range-compareboundarypointshow-sourcerange-sourcerange">5.2</a>
   <li>specified, <a href="#dom-attr-specified">4.8.2</a>
   <li>split a Text node, <a href="#concept-Text-split">4.10</a>
   <li>splitText(offset), <a href="#dom-text-splittextoffset">4.10</a>
   <li>start, <a href="#concept-range-start">5.2</a>
   <li>startContainer, <a href="#dom-range-startcontainer">5.2</a>
   <li>start node, <a href="#concept-range-start-node">5.2</a>
   <li>start offset, <a href="#concept-range-start-offset">5.2</a>
   <li>startOffset, <a href="#dom-range-startoffset">5.2</a>
   <li>START_TO_END, <a href="#dom-range-start_to_end">5.2</a>
   <li>START_TO_START, <a href="#dom-range-start_to_start">5.2</a>
   <li>static collection, <a href="#concept-collection-static">4.2.7</a>
   <li>stopImmediatePropagation(), <a href="#dom-event-stopimmediatepropagation">3.2</a>
   <li>stop immediate propagation flag, <a href="#stop-immediate-propagation-flag">3.2</a>
   <li>stopPropagation(), <a href="#dom-event-stoppropagation">3.2</a>
   <li>stop propagation flag, <a href="#stop-propagation-flag">3.2</a>
   <li>strictErrorChecking, <a href="#dom-document-stricterrorchecking">8.2</a>
   <li>stringification behavior
    <ul>
     <li>dfn for Range, <a href="#dom-Range-toString">5.2</a>
     <li>dfn for DOMTokenList, <a href="#stringification-behavior">7.1</a>
    </ul>
   <li>substring data, <a href="#concept-CD-substring">4.9</a>
   <li>substringData(offset, count), <a href="#dom-characterdata-substringdataoffset-count">4.9</a>
   <li>subtree, <a href="#dom-mutationobserverinit-subtree">4.3.1</a>
   <li>surroundContents(newParent), <a href="#dom-range-surroundcontentsnewparent">5.2</a>
   <li>systemId
    <ul>
     <li>argument for DOMImplementation/createDocumentType(qualifiedName, publicId, systemId), <a href="#dom-domimplementation-createdocumenttypequalifiedname-publicid-systemid-systemid">4.5.1</a>
     <li>attribute for DocumentType, <a href="#dom-documenttype-systemid">4.7</a>
    </ul>
   <li>system ID, <a href="#concept-doctype-systemid">4.7</a>
   <li>tagName, <a href="#dom-element-tagname">4.8</a>
   <li>takeRecords(), <a href="#dom-mutationobserver-takerecords">4.3.1</a>
   <li>target
    <ul>
     <li>attribute for Event, <a href="#dom-event-target">3.2</a>
     <li>argument for MutationObserver/observe(target, options), <a href="#dom-mutationobserver-observetarget-options-target">4.3.1</a>
     <li>attribute for MutationRecord, <a href="#dom-mutationrecord-target">4.3.3</a>
     <li>argument for Document/createProcessingInstruction(target, data), <a href="#dom-document-createprocessinginstructiontarget-data-target">4.5</a>
     <li>dfn for ProcessingInstruction, <a href="#concept-PI-target">4.11</a>
     <li>attribute for ProcessingInstruction, <a href="#dom-processinginstruction-target">4.11</a>
    </ul>
   <li>Text, <a href="#text">4.10</a>
   <li>textContent
    <ul>
     <li>attribute for Node, <a href="#dom-node-textcontent">4.4</a>
     <li>attribute for Attr, <a href="#dom-attr-textcontent">4.8.2</a>
    </ul>
   <li>Text(data), <a href="#dom-text-textdata">4.10</a>
   <li>TEXT_NODE, <a href="#dom-node-text_node">4.4</a>
   <li>timeStamp, <a href="#dom-event-timestamp">3.2</a>
   <li>title, <a href="#dom-domimplementation-createhtmldocumenttitle-title">4.5.1</a>
   <li>toggle(token), <a href="#dom-domtokenlist-toggletoken-force">7.1</a>
   <li>toggle(token, force), <a href="#dom-domtokenlist-toggletoken-force">7.1</a>
   <li>token
    <ul>
     <li>argument for DOMTokenList/contains(token), <a href="#dom-domtokenlist-containstoken-token">7.1</a>
     <li>argument for DOMTokenList/toggle(token, force), <a href="#dom-domtokenlist-toggletoken-force-token">7.1</a>
    </ul>
   <li>tokens
    <ul>
     <li>argument for DOMTokenList/add(tokens...), <a href="#dom-domtokenlist-addtokens-tokens">7.1</a>
     <li>argument for DOMTokenList/remove(tokens...), <a href="#dom-domtokenlist-removetokens-tokens">7.1</a>
     <li>dfn for DOMTokenList, <a href="#concept-DTL-tokens">7.1</a>
    </ul>
   <li>toStart, <a href="#dom-range-collapsetostart-tostart">5.2</a>
   <li>transient registered observer, <a href="#transient-registered-observer">4.3</a>
   <li>traverse, <a href="#concept-NodeIterator-traverse">6.1</a>
   <li>traverse children, <a href="#concept-traverse-children">6.2</a>
   <li>Traverse children main step, <a href="#concept-traverse-children-main">6.2</a>
   <li>traverse siblings, <a href="#concept-traverse-siblings">6.2</a>
   <li>tree, <a href="#concept-tree">2.1</a>
   <li>tree order, <a href="#concept-tree-order">2.1</a>
   <li>TreeWalker, <a href="#treewalker">6.2</a>
   <li>type
    <ul>
     <li>argument for Event/Event(type, eventInitDict), <a href="#dom-event-eventtype-eventinitdict-type">3.2</a>
     <li>argument for Event/initEvent(type, bubbles, cancelable), <a href="#dom-event-initeventtype-bubbles-cancelable-type">3.2</a>
     <li>attribute for Event, <a href="#dom-event-type">3.2</a>
     <li>argument for CustomEvent/CustomEvent(type, eventInitDict), <a href="#dom-customevent-customeventtype-eventinitdict-type">3.3</a>
     <li>argument for CustomEvent/initCustomEvent(type, bubbles, cancelable, detail), <a href="#dom-customevent-initcustomeventtype-bubbles-cancelable-detail-type">3.3</a>
     <li>argument for EventTarget/addEventListener(type, callback, capture), <a href="#dom-eventtarget-addeventlistenertype-callback-capture-type">3.6</a>
     <li>argument for EventTarget/removeEventListener(type, callback, capture), <a href="#dom-eventtarget-removeeventlistenertype-callback-capture-type">3.6</a>
     <li>attribute for MutationRecord, <a href="#dom-mutationrecord-type">4.3.3</a>
    </ul>
   <li>TypeInfo, <a href="#typeinfo">8.2</a>
   <li>update steps, <a href="#concept-DTL-update">7.1</a>
   <li>URL
    <ul>
     <li>dfn for Document, <a href="#concept-document-url">4.5</a>
     <li>attribute for Document, <a href="#dom-document-url">4.5</a>
    </ul>
   <li>UserDataHandler, <a href="#userdatahandler">8.2</a>
   <li>validate, <a href="#validate">2.4</a>
   <li>validate and extract, <a href="#validate-and-extract">2.4</a>
   <li>value
    <ul>
     <li>argument for Element/setAttribute(name, value), <a href="#dom-element-setattributename-value-value">4.8</a>
     <li>argument for Element/setAttributeNS(namespace, name, value), <a href="#dom-element-setattributensnamespace-name-value-value">4.8</a>
     <li>dfn for Attr, <a href="#concept-attribute-value">4.8.2</a>
     <li>attribute for Attr, <a href="#dom-attr-value">4.8.2</a>
     <li>attribute for DOMSettableTokenList, <a href="#dom-domsettabletokenlist-value">7.2</a>
    </ul>
   <li>whatToShow
    <ul>
     <li>argument for Document/createNodeIterator(root, whatToShow, filter), <a href="#dom-document-createnodeiteratorroot-whattoshow-filter-whattoshow">4.5</a>
     <li>argument for Document/createTreeWalker(root, whatToShow, filter), <a href="#dom-document-createtreewalkerroot-whattoshow-filter-whattoshow">4.5</a>
     <li>dfn for traversal, <a href="#concept-traversal-whatToShow">6</a>
     <li>attribute for NodeIterator, <a href="#dom-nodeiterator-whattoshow">6.1</a>
     <li>attribute for TreeWalker, <a href="#dom-treewalker-whattoshow">6.2</a>
    </ul>
   <li>wholeText, <a href="#dom-text-wholetext">4.10</a>
   <li>XMLDocument, <a href="#xmldocument">4.5</a>
   <li>XML document, <a href="#xml-document">4.5</a>
   <li>xmlEncoding, <a href="#dom-document-xmlencoding">8.2</a>
   <li>XML namespace, <a href="#xml-namespace">2.4</a>
   <li>XMLNS namespace, <a href="#xmlns-namespace">2.4</a>
   <li>xmlStandalone, <a href="#dom-document-xmlstandalone">8.2</a>
   <li>xmlVersion, <a href="#dom-document-xmlversion">8.2</a></ul>
  <h3 class="no-num heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="indexlist">
   <li><a data-link-type="biblio" href="#biblio-cssom-view-1">[cssom-view-1]</a> defines the following terms:
    <ul>
     <li><a href="http://dev.w3.org/csswg/cssom-view-1/#dom-range-getboundingclientrect">getBoundingClientRect()</a>
     <li><a href="http://dev.w3.org/csswg/cssom-view-1/#dom-range-getclientrects">getClientRects()</a>
    </ul>
   <li><a data-link-type="biblio" href="#biblio-html">[HTML]</a> defines the following terms:
    <ul>
     <li><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document">Document</a>
     <li><a href="https://html.spec.whatwg.org/multipage/semantics.html#htmlhtmlelement">HTMLHtmlElement</a>
     <li><a href="https://html.spec.whatwg.org/multipage/comms.html#messageevent">MessageEvent</a>
     <li><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-eventtarget-addeventlistener">addEventListener()</a>
     <li><a href="https://html.spec.whatwg.org/multipage/semantics.html#the-body-element">body</a>
     <li><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-domimplementation-createdocument">createDocument()</a>
     <li><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document-createelementns">createElementNS()</a>
     <li><a href="https://html.spec.whatwg.org/multipage/semantics.html#the-head-element">head</a>
     <li><a href="https://html.spec.whatwg.org/multipage/semantics.html#the-html-element">html</a>
     <li><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document-importnode">importNode()</a>
     <li><a href="https://html.spec.whatwg.org/multipage/forms.html#the-input-element">input</a>
     <li><a href="https://html.spec.whatwg.org/multipage/dom.html#dom-xmldocument-load">load(url)
</a>
     <li><a href="https://html.spec.whatwg.org/multipage/scripting.html#script">script</a>
     <li><a href="https://html.spec.whatwg.org/multipage/scripting.html#the-template-element">template</a>
     <li><a href="https://html.spec.whatwg.org/multipage/semantics.html#the-title-element">title</a>
    </ul>
   <li><a data-link-type="biblio" href="#biblio-selectors-4">[selectors-4]</a> defines the following terms:
    <ul>
     <li><a href="http://dev.w3.org/csswg/selectors-4/#scope-element">:scope element</a>
     <li><a href="http://dev.w3.org/csswg/selectors-4/#evaluate-a-selector">evaluate a selector</a>
     <li><a href="http://dev.w3.org/csswg/selectors-4/#match-a-selector-against-an-element">match a selector against an element</a>
     <li><a href="http://dev.w3.org/csswg/selectors-4/#parse-a-relative-selector">parse a relative selector</a>
     <li><a href="http://dev.w3.org/csswg/selectors-4/#parse-a-selector">parse a selector</a>
     <li><a href="http://dev.w3.org/csswg/selectors-4/#scope_filtered">scope-filtered</a>
     <li><a href="http://dev.w3.org/csswg/selectors-4/#scoping-root">scoping root</a>
    </ul>
   <li><a data-link-type="biblio" href="#biblio-webidl">[WebIDL]</a> defines the following terms:
    <ul>
     <li><a href="http://heycam.github.io/webidl/#idl-DOMString">DOMString</a>
    </ul></ul>
  <h2 class="no-num heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-html"><a class="self-link" href="#biblio-html"></a>[HTML]
   <dd>Ian Hickson. <a href="https://html.spec.whatwg.org/multipage/">HTML</a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-webidl"><a class="self-link" href="#biblio-webidl"></a>[WebIDL]
   <dd>Cameron McCormack. <a href="https://heycam.github.io/webidl/">Web IDL</a>. 19 April 2012. CR. URL: <a href="https://heycam.github.io/webidl/">https://heycam.github.io/webidl/</a>
   <dt id="biblio-cssom-view-1"><a class="self-link" href="#biblio-cssom-view-1"></a>[CSSOM-VIEW-1]
   <dd>CSS Object Model View Module Level 1 URL: <a href="http://dev.w3.org/csswg/cssom-view-1/">http://dev.w3.org/csswg/cssom-view-1/</a>
   <dt id="biblio-encoding"><a class="self-link" href="#biblio-encoding"></a>[ENCODING]
   <dd>Anne van Kesteren; Joshua Bell; Addison Phillips. <a href="https://encoding.spec.whatwg.org/">Encoding</a>. 16 September 2014. CR. URL: <a href="https://encoding.spec.whatwg.org/">https://encoding.spec.whatwg.org/</a>
   <dt id="biblio-rfc2119"><a class="self-link" href="#biblio-rfc2119"></a>[RFC2119]
   <dd>S. Bradner. <a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
   <dt id="biblio-selectors-4"><a class="self-link" href="#biblio-selectors-4"></a>[SELECTORS-4]
   <dd>Selectors Level 4 URL: <a href="http://dev.w3.org/csswg/selectors-4/">http://dev.w3.org/csswg/selectors-4/</a>
   <dt id="biblio-selectors4"><a class="self-link" href="#biblio-selectors4"></a>[SELECTORS4]
   <dd>Elika Etemad; Tab Atkins Jr.. <a href="http://www.w3.org/TR/selectors4/">Selectors Level 4</a>. 2 May 2013. WD. URL: <a href="http://www.w3.org/TR/selectors4/">http://www.w3.org/TR/selectors4/</a>
   <dt id="biblio-uievents"><a class="self-link" href="#biblio-uievents"></a>[UIEVENTS]
   <dd>Gary Kacmarcik; Travis Leithead. <a href="https://w3c.github.io/uievents/">UI Events (formerly DOM Level 3 Events)</a>. 28 April 2015. WD. URL: <a href="https://w3c.github.io/uievents/">https://w3c.github.io/uievents/</a>
   <dt id="biblio-url"><a class="self-link" href="#biblio-url"></a>[URL]
   <dd>Anne van Kesteren; Sam Ruby. <a href="https://url.spec.whatwg.org/">URL</a>. 9 December 2014. WD. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
   <dt id="biblio-xml"><a class="self-link" href="#biblio-xml"></a>[XML]
   <dd>Tim Bray; et al. <a href="http://www.w3.org/TR/xml">Extensible Markup Language (XML) 1.0 (Fifth Edition)</a>. 26 November 2008. REC. URL: <a href="http://www.w3.org/TR/xml">http://www.w3.org/TR/xml</a>
   <dt id="biblio-xml-names"><a class="self-link" href="#biblio-xml-names"></a>[XML-NAMES]
   <dd>Tim Bray; et al. <a href="http://www.w3.org/TR/xml-names">Namespaces in XML 1.0 (Third Edition)</a>. 8 December 2009. REC. URL: <a href="http://www.w3.org/TR/xml-names">http://www.w3.org/TR/xml-names</a></dl>
  <h3 class="no-num heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-dom-level-2-traversal-range"><a class="self-link" href="#biblio-dom-level-2-traversal-range"></a>[DOM-Level-2-Traversal-Range]
   <dd>Joseph Kesselman; et al. <a href="http://www.w3.org/TR/DOM-Level-2-Traversal-Range/">Document Object Model (DOM) Level 2 Traversal and Range Specification</a>. 13 November 2000. REC. URL: <a href="http://www.w3.org/TR/DOM-Level-2-Traversal-Range/">http://www.w3.org/TR/DOM-Level-2-Traversal-Range/</a>
   <dt id="biblio-dom-level-3-core"><a class="self-link" href="#biblio-dom-level-3-core"></a>[DOM-Level-3-Core]
   <dd>Arnaud Le Hors; et al. <a href="http://www.w3.org/TR/DOM-Level-3-Core/">Document Object Model (DOM) Level 3 Core Specification</a>. 7 April 2004. REC. URL: <a href="http://www.w3.org/TR/DOM-Level-3-Core/">http://www.w3.org/TR/DOM-Level-3-Core/</a>
   <dt id="biblio-dom-parsing"><a class="self-link" href="#biblio-dom-parsing"></a>[DOM-Parsing]
   <dd>Travis Leithead. <a href="https://dvcs.w3.org/hg/innerhtml/raw-file/tip/index.html">DOM Parsing and Serialization</a>. 17 June 2014. CR. URL: <a href="https://dvcs.w3.org/hg/innerhtml/raw-file/tip/index.html">https://dvcs.w3.org/hg/innerhtml/raw-file/tip/index.html</a>
   <dt id="biblio-elementtraversal"><a class="self-link" href="#biblio-elementtraversal"></a>[ElementTraversal]
   <dd>Doug Schepers; Robin Berjon. <a href="http://www.w3.org/TR/ElementTraversal/">Element Traversal Specification</a>. 22 December 2008. REC. URL: <a href="http://www.w3.org/TR/ElementTraversal/">http://www.w3.org/TR/ElementTraversal/</a>
   <dt id="biblio-cssom-view"><a class="self-link" href="#biblio-cssom-view"></a>[CSSOM-VIEW]
   <dd>Simon Pieters; Glenn Adams. <a href="http://dev.w3.org/csswg/cssom-view/">CSSOM View Module</a>. 17 December 2013. WD. URL: <a href="http://dev.w3.org/csswg/cssom-view/">http://dev.w3.org/csswg/cssom-view/</a>
   <dt id="biblio-selectors-api2"><a class="self-link" href="#biblio-selectors-api2"></a>[SELECTORS-API2]
   <dd>Lachlan Hunt. <a href="http://dev.w3.org/2006/webapi/selectors-api2/">Selectors API Level 2</a>. 17 October 2013. NOTE. URL: <a href="http://dev.w3.org/2006/webapi/selectors-api2/">http://dev.w3.org/2006/webapi/selectors-api2/</a>
   <dt id="biblio-uievents-20031107"><a class="self-link" href="#biblio-uievents-20031107"></a>[UIEVENTS-20031107]
   <dd>Gary Kacmarcik; Travis Leithead. <a href="https://w3c.github.io/uievents/">UI Events (formerly DOM Level 3 Events)</a>. 7 November 2003. NOTE. URL: <a href="https://w3c.github.io/uievents/">https://w3c.github.io/uievents/</a></dl>
  <h2 class="no-num heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
  <pre class="idl">[<a data-global-name="Event<interface>/Event(type, eventInitDict)<constructor>" href="#dom-event-eventtype-eventinitdict">Constructor</a>(DOMString <a data-global-name="Event<interface>/Event(type, eventInitDict)<method>/type<argument>" href="#dom-event-eventtype-eventinitdict-type">type</a>, optional <a data-link-type="idl-name" href="#dictdef-eventinit">EventInit</a> <a data-global-name="Event<interface>/Event(type, eventInitDict)<method>/eventInitDict<argument>" href="#dom-event-eventtype-eventinitdict-eventinitdict">eventInitDict</a>),
 Exposed=(Window,Worker)]
interface <a data-global-name="" href="#event">Event</a> {
  readonly attribute DOMString <a class="idl-code" data-global-name="Event<interface>/type<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-event-type">type</a>;
  readonly attribute <a data-link-type="idl-name" href="#eventtarget">EventTarget</a>? <a class="idl-code" data-global-name="Event<interface>/target<attribute>" data-link-type="attribute" data-readonly="" data-type="EventTarget? " href="#dom-event-target">target</a>;
  readonly attribute <a data-link-type="idl-name" href="#eventtarget">EventTarget</a>? <a class="idl-code" data-global-name="Event<interface>/currentTarget<attribute>" data-link-type="attribute" data-readonly="" data-type="EventTarget? " href="#dom-event-currenttarget">currentTarget</a>;

  const unsigned short <a class="idl-code" data-global-name="Event<interface>/NONE<const>" data-link-type="const" href="#dom-event-none">NONE</a> = 0;
  const unsigned short <a class="idl-code" data-global-name="Event<interface>/CAPTURING_PHASE<const>" data-link-type="const" href="#dom-event-capturing_phase">CAPTURING_PHASE</a> = 1;
  const unsigned short <a class="idl-code" data-global-name="Event<interface>/AT_TARGET<const>" data-link-type="const" href="#dom-event-at_target">AT_TARGET</a> = 2;
  const unsigned short <a class="idl-code" data-global-name="Event<interface>/BUBBLING_PHASE<const>" data-link-type="const" href="#dom-event-bubbling_phase">BUBBLING_PHASE</a> = 3;
  readonly attribute unsigned short <a class="idl-code" data-global-name="Event<interface>/eventPhase<attribute>" data-link-type="attribute" data-readonly="" data-type="unsigned short " href="#dom-event-eventphase">eventPhase</a>;

  void <a class="idl-code" data-global-name="Event<interface>/stopPropagation()<method>" data-link-type="method" href="#dom-event-stoppropagation">stopPropagation</a>();
  void <a class="idl-code" data-global-name="Event<interface>/stopImmediatePropagation()<method>" data-link-type="method" href="#dom-event-stopimmediatepropagation">stopImmediatePropagation</a>();

  readonly attribute boolean <a class="idl-code" data-global-name="Event<interface>/bubbles<attribute>" data-link-type="attribute" data-readonly="" data-type="boolean " href="#dom-event-bubbles">bubbles</a>;
  readonly attribute boolean <a class="idl-code" data-global-name="Event<interface>/cancelable<attribute>" data-link-type="attribute" data-readonly="" data-type="boolean " href="#dom-event-cancelable">cancelable</a>;
  void <a class="idl-code" data-global-name="Event<interface>/preventDefault()<method>" data-link-type="method" href="#dom-event-preventdefault">preventDefault</a>();
  readonly attribute boolean <a class="idl-code" data-global-name="Event<interface>/defaultPrevented<attribute>" data-link-type="attribute" data-readonly="" data-type="boolean " href="#dom-event-defaultprevented">defaultPrevented</a>;

  [Unforgeable] readonly attribute boolean <a class="idl-code" data-global-name="Event<interface>/isTrusted<attribute>" data-link-type="attribute" data-readonly="" data-type="boolean " href="#dom-event-istrusted">isTrusted</a>;
  readonly attribute <a data-link-type="idl-name" href="https://heycam.github.io/webidl/#common-domtimestamp">DOMTimeStamp</a> <a class="idl-code" data-global-name="Event<interface>/timeStamp<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMTimeStamp " href="#dom-event-timestamp">timeStamp</a>;

  void <a class="idl-code" data-global-name="Event<interface>/initEvent(type, bubbles, cancelable)<method>" data-link-type="method" href="#dom-event-initeventtype-bubbles-cancelable">initEvent</a>(DOMString <a data-global-name="Event<interface>/initEvent(type, bubbles, cancelable)<method>/type<argument>" href="#dom-event-initeventtype-bubbles-cancelable-type">type</a>, boolean <a data-global-name="Event<interface>/initEvent(type, bubbles, cancelable)<method>/bubbles<argument>" href="#dom-event-initeventtype-bubbles-cancelable-bubbles">bubbles</a>, boolean <a data-global-name="Event<interface>/initEvent(type, bubbles, cancelable)<method>/cancelable<argument>" href="#dom-event-initeventtype-bubbles-cancelable-cancelable">cancelable</a>);
};

dictionary <a data-global-name="" href="#dictdef-eventinit">EventInit</a> {
  boolean <a data-default="false" data-global-name="EventInit<dictionary>/bubbles<dict-member>" data-type="boolean " href="#dom-eventinit-bubbles">bubbles</a> = false;
  boolean <a data-default="false" data-global-name="EventInit<dictionary>/cancelable<dict-member>" data-type="boolean " href="#dom-eventinit-cancelable">cancelable</a> = false;
};

[<a data-global-name="CustomEvent<interface>/CustomEvent(type, eventInitDict)<constructor>" href="#dom-customevent-customeventtype-eventinitdict">Constructor</a>(DOMString <a data-global-name="CustomEvent<interface>/CustomEvent(type, eventInitDict)<method>/type<argument>" href="#dom-customevent-customeventtype-eventinitdict-type">type</a>, optional <a data-link-type="idl-name" href="#dictdef-customeventinit">CustomEventInit</a> <a data-global-name="CustomEvent<interface>/CustomEvent(type, eventInitDict)<method>/eventInitDict<argument>" href="#dom-customevent-customeventtype-eventinitdict-eventinitdict">eventInitDict</a>),
 Exposed=(Window,Worker)]
interface <a data-global-name="" href="#customevent">CustomEvent</a> : <a data-link-type="idl-name" href="#event">Event</a> {
  readonly attribute any <a class="idl-code" data-global-name="CustomEvent<interface>/detail<attribute>" data-link-type="attribute" data-readonly="" data-type="any " href="#dom-customevent-detail">detail</a>;

  void <a class="idl-code" data-global-name="CustomEvent<interface>/initCustomEvent(type, bubbles, cancelable, detail)<method>" data-link-type="method" href="#dom-customevent-initcustomeventtype-bubbles-cancelable-detail">initCustomEvent</a>(DOMString <a data-global-name="CustomEvent<interface>/initCustomEvent(type, bubbles, cancelable, detail)<method>/type<argument>" href="#dom-customevent-initcustomeventtype-bubbles-cancelable-detail-type">type</a>, boolean <a data-global-name="CustomEvent<interface>/initCustomEvent(type, bubbles, cancelable, detail)<method>/bubbles<argument>" href="#dom-customevent-initcustomeventtype-bubbles-cancelable-detail-bubbles">bubbles</a>, boolean <a data-global-name="CustomEvent<interface>/initCustomEvent(type, bubbles, cancelable, detail)<method>/cancelable<argument>" href="#dom-customevent-initcustomeventtype-bubbles-cancelable-detail-cancelable">cancelable</a>, any <a data-global-name="CustomEvent<interface>/initCustomEvent(type, bubbles, cancelable, detail)<method>/detail<argument>" href="#dom-customevent-initcustomeventtype-bubbles-cancelable-detail-detail">detail</a>);
};

dictionary <a data-global-name="" href="#dictdef-customeventinit">CustomEventInit</a> : <a data-link-type="idl-name" href="#dictdef-eventinit">EventInit</a> {
  any <a data-default="null" data-global-name="CustomEventInit<dictionary>/detail<dict-member>" data-type="any " href="#dom-customeventinit-detail">detail</a> = null;
};

[Exposed=(Window,Worker)]
interface <a data-global-name="" href="#eventtarget">EventTarget</a> {
  void <a class="idl-code" data-global-name="EventTarget<interface>/addEventListener(type, callback, capture)<method>/addEventListener(type, callback)<method>" data-link-type="method" href="#dom-eventtarget-addeventlistenertype-callback-capture">addEventListener</a>(DOMString <a data-global-name="EventTarget<interface>/addEventListener(type, callback, capture)<method>/type<argument>" href="#dom-eventtarget-addeventlistenertype-callback-capture-type">type</a>, <a data-link-type="idl-name" href="#callbackdef-eventlistener">EventListener</a>? callback, optional boolean <a data-global-name="EventTarget<interface>/addEventListener(type, callback, capture)<method>/capture<argument>" href="#dom-eventtarget-addeventlistenertype-callback-capture-capture">capture</a> = false);
  void <a class="idl-code" data-global-name="EventTarget<interface>/removeEventListener(type, callback, capture)<method>/removeEventListener(type, callback)<method>" data-link-type="method" href="#dom-eventtarget-removeeventlistenertype-callback-capture">removeEventListener</a>(DOMString <a data-global-name="EventTarget<interface>/removeEventListener(type, callback, capture)<method>/type<argument>" href="#dom-eventtarget-removeeventlistenertype-callback-capture-type">type</a>, <a data-link-type="idl-name" href="#callbackdef-eventlistener">EventListener</a>? callback, optional boolean <a data-global-name="EventTarget<interface>/removeEventListener(type, callback, capture)<method>/capture<argument>" href="#dom-eventtarget-removeeventlistenertype-callback-capture-capture">capture</a> = false);
  boolean <a class="idl-code" data-global-name="EventTarget<interface>/dispatchEvent(event)<method>" data-link-type="method" href="#dom-eventtarget-dispatcheventevent">dispatchEvent</a>(<a data-link-type="idl-name" href="#event">Event</a> <a data-global-name="EventTarget<interface>/dispatchEvent(event)<method>/event<argument>" href="#dom-eventtarget-dispatcheventevent-event">event</a>);
};

callback interface <a data-global-name="" href="#callbackdef-eventlistener">EventListener</a> {
  void <a data-global-name="EventListener<interface>/handleEvent(event)<method>" href="#dom-eventlistener-handleeventevent">handleEvent</a>(<a data-link-type="idl-name" href="#event">Event</a> <a data-global-name="EventListener<interface>/handleEvent(event)<method>/event<argument>" href="#dom-eventlistener-handleeventevent-event">event</a>);
};

[NoInterfaceObject,
 Exposed=Window]
interface <a data-global-name="" href="#nonelementparentnode">NonElementParentNode</a> {
  <a data-link-type="idl-name" href="#element">Element</a>? <a class="idl-code" data-global-name="NonElementParentNode<interface>/getElementById(elementId)<method>" data-link-type="method" href="#dom-nonelementparentnode-getelementbyidelementid">getElementById</a>(DOMString <a data-global-name="NonElementParentNode<interface>/getElementById(elementId)<method>/elementId<argument>" href="#dom-nonelementparentnode-getelementbyidelementid-elementid">elementId</a>);
};
<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document">Document</a> implements <a data-link-type="idl-name" href="#nonelementparentnode">NonElementParentNode</a>;
<a data-link-type="idl-name" href="#documentfragment">DocumentFragment</a> implements <a data-link-type="idl-name" href="#nonelementparentnode">NonElementParentNode</a>;

[NoInterfaceObject,
 Exposed=Window]
interface <a data-global-name="" href="#parentnode">ParentNode</a> {
  [SameObject] readonly attribute <a data-link-type="idl-name" href="#htmlcollection">HTMLCollection</a> <a class="idl-code" data-global-name="ParentNode<interface>/children<attribute>" data-link-type="attribute" data-readonly="" data-type="HTMLCollection " href="#dom-parentnode-children">children</a>;
  readonly attribute <a data-link-type="idl-name" href="#element">Element</a>? <a class="idl-code" data-global-name="ParentNode<interface>/firstElementChild<attribute>" data-link-type="attribute" data-readonly="" data-type="Element? " href="#dom-parentnode-firstelementchild">firstElementChild</a>;
  readonly attribute <a data-link-type="idl-name" href="#element">Element</a>? <a class="idl-code" data-global-name="ParentNode<interface>/lastElementChild<attribute>" data-link-type="attribute" data-readonly="" data-type="Element? " href="#dom-parentnode-lastelementchild">lastElementChild</a>;
  readonly attribute unsigned long <a class="idl-code" data-global-name="ParentNode<interface>/childElementCount<attribute>" data-link-type="attribute" data-readonly="" data-type="unsigned long " href="#dom-parentnode-childelementcount">childElementCount</a>;

  [Unscopeable] void <a class="idl-code" data-global-name="ParentNode<interface>/prepend(nodes...)<method>/prepend()<method>" data-link-type="method" href="#dom-parentnode-prependnodes">prepend</a>((<a data-link-type="idl-name" href="#node">Node</a> or DOMString)... <a data-global-name="ParentNode<interface>/prepend(nodes...)<method>/nodes<argument>" href="#dom-parentnode-prependnodes-nodes">nodes</a>);
  [Unscopeable] void <a class="idl-code" data-global-name="ParentNode<interface>/append(nodes...)<method>/append()<method>" data-link-type="method" href="#dom-parentnode-appendnodes">append</a>((<a data-link-type="idl-name" href="#node">Node</a> or DOMString)... <a data-global-name="ParentNode<interface>/append(nodes...)<method>/nodes<argument>" href="#dom-parentnode-appendnodes-nodes">nodes</a>);

  [Unscopeable] <a data-link-type="idl-name" href="#element">Element</a>? <a class="idl-code" data-global-name="ParentNode<interface>/query(relativeSelectors)<method>" data-link-type="method" href="#dom-parentnode-queryrelativeselectors">query</a>(DOMString <a data-global-name="ParentNode<interface>/query(relativeSelectors)<method>/relativeSelectors<argument>" href="#dom-parentnode-queryrelativeselectors-relativeselectors">relativeSelectors</a>);
  [NewObject, Unscopeable] <a data-link-type="idl-name">Elements</a> <a class="idl-code" data-global-name="ParentNode<interface>/queryAll(relativeSelectors)<method>" data-link-type="method" href="#dom-parentnode-queryallrelativeselectors">queryAll</a>(DOMString <a data-global-name="ParentNode<interface>/queryAll(relativeSelectors)<method>/relativeSelectors<argument>" href="#dom-parentnode-queryallrelativeselectors-relativeselectors">relativeSelectors</a>);
  <a data-link-type="idl-name" href="#element">Element</a>? <a class="idl-code" data-global-name="ParentNode<interface>/querySelector(selectors)<method>" data-link-type="method" href="#dom-parentnode-queryselectorselectors">querySelector</a>(DOMString <a data-global-name="ParentNode<interface>/querySelector(selectors)<method>/selectors<argument>" href="#dom-parentnode-queryselectorselectors-selectors">selectors</a>);
  [NewObject] <a data-link-type="idl-name" href="#nodelist">NodeList</a> <a class="idl-code" data-global-name="ParentNode<interface>/querySelectorAll(selectors)<method>" data-link-type="method" href="#dom-parentnode-queryselectorallselectors">querySelectorAll</a>(DOMString <a data-global-name="ParentNode<interface>/querySelectorAll(selectors)<method>/selectors<argument>" href="#dom-parentnode-queryselectorallselectors-selectors">selectors</a>);
};
<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document">Document</a> implements <a data-link-type="idl-name" href="#parentnode">ParentNode</a>;
<a data-link-type="idl-name" href="#documentfragment">DocumentFragment</a> implements <a data-link-type="idl-name" href="#parentnode">ParentNode</a>;
<a data-link-type="idl-name" href="#element">Element</a> implements <a data-link-type="idl-name" href="#parentnode">ParentNode</a>;

[NoInterfaceObject,
 Exposed=Window]
interface <a data-global-name="" href="#nondocumenttypechildnode">NonDocumentTypeChildNode</a> {
  readonly attribute <a data-link-type="idl-name" href="#element">Element</a>? <a class="idl-code" data-global-name="NonDocumentTypeChildNode<interface>/previousElementSibling<attribute>" data-link-type="attribute" data-readonly="" data-type="Element? " href="#dom-nondocumenttypechildnode-previouselementsibling">previousElementSibling</a>;
  readonly attribute <a data-link-type="idl-name" href="#element">Element</a>? <a class="idl-code" data-global-name="NonDocumentTypeChildNode<interface>/nextElementSibling<attribute>" data-link-type="attribute" data-readonly="" data-type="Element? " href="#dom-nondocumenttypechildnode-nextelementsibling">nextElementSibling</a>;
};
<a data-link-type="idl-name" href="#element">Element</a> implements <a data-link-type="idl-name" href="#nondocumenttypechildnode">NonDocumentTypeChildNode</a>;
<a data-link-type="idl-name" href="#characterdata">CharacterData</a> implements <a data-link-type="idl-name" href="#nondocumenttypechildnode">NonDocumentTypeChildNode</a>;

[NoInterfaceObject,
 Exposed=Window]
interface <a data-global-name="" href="#childnode">ChildNode</a> {
  [Unscopeable] void <a class="idl-code" data-global-name="ChildNode<interface>/before(nodes...)<method>/before()<method>" data-link-type="method" href="#dom-childnode-beforenodes">before</a>((<a data-link-type="idl-name" href="#node">Node</a> or DOMString)... <a data-global-name="ChildNode<interface>/before(nodes...)<method>/nodes<argument>" href="#dom-childnode-beforenodes-nodes">nodes</a>);
  [Unscopeable] void <a class="idl-code" data-global-name="ChildNode<interface>/after(nodes...)<method>/after()<method>" data-link-type="method" href="#dom-childnode-afternodes">after</a>((<a data-link-type="idl-name" href="#node">Node</a> or DOMString)... <a data-global-name="ChildNode<interface>/after(nodes...)<method>/nodes<argument>" href="#dom-childnode-afternodes-nodes">nodes</a>);
  [Unscopeable] void <a class="idl-code" data-global-name="ChildNode<interface>/replaceWith(nodes...)<method>/replaceWith()<method>" data-link-type="method" href="#dom-childnode-replacewithnodes">replaceWith</a>((<a data-link-type="idl-name" href="#node">Node</a> or DOMString)... <a data-global-name="ChildNode<interface>/replaceWith(nodes...)<method>/nodes<argument>" href="#dom-childnode-replacewithnodes-nodes">nodes</a>);
  [Unscopeable] void <a class="idl-code" data-global-name="ChildNode<interface>/remove()<method>" data-link-type="method" href="#dom-childnode-remove">remove</a>();
};
<a data-link-type="idl-name" href="#documenttype">DocumentType</a> implements <a data-link-type="idl-name" href="#childnode">ChildNode</a>;
<a data-link-type="idl-name" href="#element">Element</a> implements <a data-link-type="idl-name" href="#childnode">ChildNode</a>;
<a data-link-type="idl-name" href="#characterdata">CharacterData</a> implements <a data-link-type="idl-name" href="#childnode">ChildNode</a>;

class Elements extends Array {
  Element? query(DOMString relativeSelectors);
  Elements queryAll(DOMString relativeSelectors);
};

[Exposed=Window]
interface <a data-global-name="" href="#nodelist">NodeList</a> {
  getter <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="NodeList<interface>/item(index)<method>" data-link-type="method" href="#dom-nodelist-itemindex">item</a>(unsigned long <a data-global-name="NodeList<interface>/item(index)<method>/index<argument>" href="#dom-nodelist-itemindex-index">index</a>);
  readonly attribute unsigned long <a class="idl-code" data-global-name="NodeList<interface>/length<attribute>" data-link-type="attribute" data-readonly="" data-type="unsigned long " href="#dom-nodelist-length">length</a>;
  iterable&lt;<a data-link-type="idl-name" href="#node">Node</a>>;
};

[Exposed=Window]
interface <a data-global-name="" href="#htmlcollection">HTMLCollection</a> {
  readonly attribute unsigned long <a class="idl-code" data-global-name="HTMLCollection<interface>/length<attribute>" data-link-type="attribute" data-readonly="" data-type="unsigned long " href="#dom-htmlcollection-length">length</a>;
  getter <a data-link-type="idl-name" href="#element">Element</a>? <a class="idl-code" data-global-name="HTMLCollection<interface>/item(index)<method>" data-link-type="method" href="#dom-htmlcollection-itemindex">item</a>(unsigned long <a data-global-name="HTMLCollection<interface>/item(index)<method>/index<argument>" href="#dom-htmlcollection-itemindex-index">index</a>);
  getter <a data-link-type="idl-name" href="#element">Element</a>? <a class="idl-code" data-global-name="HTMLCollection<interface>/namedItem(name)<method>" data-link-type="method" href="#dom-htmlcollection-nameditemname">namedItem</a>(DOMString <a data-global-name="HTMLCollection<interface>/namedItem(name)<method>/name<argument>" href="#dom-htmlcollection-nameditemname-name">name</a>);
};

[<a class="idl-code" data-global-name="MutationObserver<interface>/MutationObserver(callback)<constructor>" data-link-type="constructor" href="#dom-mutationobserver-mutationobservercallback">Constructor</a>(<a data-link-type="idl-name" href="#callbackdef-mutationcallback">MutationCallback</a> callback)]
interface <a data-global-name="" href="#mutationobserver">MutationObserver</a> {
  void <a class="idl-code" data-global-name="MutationObserver<interface>/observe(target, options)<method>" data-link-type="method" href="#dom-mutationobserver-observetarget-options">observe</a>(<a data-link-type="idl-name" href="#node">Node</a> <a data-global-name="MutationObserver<interface>/observe(target, options)<method>/target<argument>" href="#dom-mutationobserver-observetarget-options-target">target</a>, <a data-link-type="idl-name" href="#dictdef-mutationobserverinit">MutationObserverInit</a> <a data-global-name="MutationObserver<interface>/observe(target, options)<method>/options<argument>" href="#dom-mutationobserver-observetarget-options-options">options</a>);
  void <a class="idl-code" data-global-name="MutationObserver<interface>/disconnect()<method>" data-link-type="method" href="#dom-mutationobserver-disconnect">disconnect</a>();
  sequence&lt;<a data-link-type="idl-name" href="#mutationrecord">MutationRecord</a>> <a class="idl-code" data-global-name="MutationObserver<interface>/takeRecords()<method>" data-link-type="method" href="#dom-mutationobserver-takerecords">takeRecords</a>();
};

callback <a data-global-name="" href="#callbackdef-mutationcallback">MutationCallback</a> = void (sequence&lt;<a data-link-type="idl-name" href="#mutationrecord">MutationRecord</a>> <a data-global-name="MutationCallback/mutations<argument>" href="#dom-mutationcallback-mutations">mutations</a>, <a data-link-type="idl-name" href="#mutationobserver">MutationObserver</a> <a data-global-name="MutationCallback/observer<argument>" href="#dom-mutationcallback-observer">observer</a>);

dictionary <a data-global-name="" href="#dictdef-mutationobserverinit">MutationObserverInit</a> {
  boolean <a data-default="false" data-global-name="MutationObserverInit<dictionary>/childList<dict-member>" data-type="boolean " href="#dom-mutationobserverinit-childlist">childList</a> = false;
  boolean <a data-global-name="MutationObserverInit<dictionary>/attributes<dict-member>" data-type="boolean " href="#dom-mutationobserverinit-attributes">attributes</a>;
  boolean <a data-global-name="MutationObserverInit<dictionary>/characterData<dict-member>" data-type="boolean " href="#dom-mutationobserverinit-characterdata">characterData</a>;
  boolean <a data-default="false" data-global-name="MutationObserverInit<dictionary>/subtree<dict-member>" data-type="boolean " href="#dom-mutationobserverinit-subtree">subtree</a> = false;
  boolean <a data-global-name="MutationObserverInit<dictionary>/attributeOldValue<dict-member>" data-type="boolean " href="#dom-mutationobserverinit-attributeoldvalue">attributeOldValue</a>;
  boolean <a data-global-name="MutationObserverInit<dictionary>/characterDataOldValue<dict-member>" data-type="boolean " href="#dom-mutationobserverinit-characterdataoldvalue">characterDataOldValue</a>;
  sequence&lt;DOMString> <a data-global-name="MutationObserverInit<dictionary>/attributeFilter<dict-member>" data-type="sequence<DOMString> " href="#dom-mutationobserverinit-attributefilter">attributeFilter</a>;
};

[Exposed=Window]
interface <a data-global-name="" href="#mutationrecord">MutationRecord</a> {
  readonly attribute DOMString <a class="idl-code" data-global-name="MutationRecord<interface>/type<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-mutationrecord-type">type</a>;
  readonly attribute <a data-link-type="idl-name" href="#node">Node</a> <a class="idl-code" data-global-name="MutationRecord<interface>/target<attribute>" data-link-type="attribute" data-readonly="" data-type="Node " href="#dom-mutationrecord-target">target</a>;
  [SameObject] readonly attribute <a data-link-type="idl-name" href="#nodelist">NodeList</a> <a class="idl-code" data-global-name="MutationRecord<interface>/addedNodes<attribute>" data-link-type="attribute" data-readonly="" data-type="NodeList " href="#dom-mutationrecord-addednodes">addedNodes</a>;
  [SameObject] readonly attribute <a data-link-type="idl-name" href="#nodelist">NodeList</a> <a class="idl-code" data-global-name="MutationRecord<interface>/removedNodes<attribute>" data-link-type="attribute" data-readonly="" data-type="NodeList " href="#dom-mutationrecord-removednodes">removedNodes</a>;
  readonly attribute <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="MutationRecord<interface>/previousSibling<attribute>" data-link-type="attribute" data-readonly="" data-type="Node? " href="#dom-mutationrecord-previoussibling">previousSibling</a>;
  readonly attribute <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="MutationRecord<interface>/nextSibling<attribute>" data-link-type="attribute" data-readonly="" data-type="Node? " href="#dom-mutationrecord-nextsibling">nextSibling</a>;
  readonly attribute DOMString? <a class="idl-code" data-global-name="MutationRecord<interface>/attributeName<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString? " href="#dom-mutationrecord-attributename">attributeName</a>;
  readonly attribute DOMString? <a class="idl-code" data-global-name="MutationRecord<interface>/attributeNamespace<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString? " href="#dom-mutationrecord-attributenamespace">attributeNamespace</a>;
  readonly attribute DOMString? <a class="idl-code" data-global-name="MutationRecord<interface>/oldValue<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString? " href="#dom-mutationrecord-oldvalue">oldValue</a>;
};

[Exposed=Window]
interface <a data-global-name="" href="#node">Node</a> : <a data-link-type="idl-name" href="#eventtarget">EventTarget</a> {
  const unsigned short <a class="idl-code" data-global-name="Node<interface>/ELEMENT_NODE<const>" data-link-type="const" href="#dom-node-element_node">ELEMENT_NODE</a> = 1;
  const unsigned short <a data-global-name="Node<interface>/ATTRIBUTE_NODE<const>" href="#dom-node-attribute_node">ATTRIBUTE_NODE</a> = 2; // historical
  const unsigned short <a class="idl-code" data-global-name="Node<interface>/TEXT_NODE<const>" data-link-type="const" href="#dom-node-text_node">TEXT_NODE</a> = 3;
  const unsigned short <a data-global-name="Node<interface>/CDATA_SECTION_NODE<const>" href="#dom-node-cdata_section_node">CDATA_SECTION_NODE</a> = 4; // historical
  const unsigned short <a data-global-name="Node<interface>/ENTITY_REFERENCE_NODE<const>" href="#dom-node-entity_reference_node">ENTITY_REFERENCE_NODE</a> = 5; // historical
  const unsigned short <a data-global-name="Node<interface>/ENTITY_NODE<const>" href="#dom-node-entity_node">ENTITY_NODE</a> = 6; // historical
  const unsigned short <a class="idl-code" data-global-name="Node<interface>/PROCESSING_INSTRUCTION_NODE<const>" data-link-type="const" href="#dom-node-processing_instruction_node">PROCESSING_INSTRUCTION_NODE</a> = 7;
  const unsigned short <a class="idl-code" data-global-name="Node<interface>/COMMENT_NODE<const>" data-link-type="const" href="#dom-node-comment_node">COMMENT_NODE</a> = 8;
  const unsigned short <a class="idl-code" data-global-name="Node<interface>/DOCUMENT_NODE<const>" data-link-type="const" href="#dom-node-document_node">DOCUMENT_NODE</a> = 9;
  const unsigned short <a class="idl-code" data-global-name="Node<interface>/DOCUMENT_TYPE_NODE<const>" data-link-type="const" href="#dom-node-document_type_node">DOCUMENT_TYPE_NODE</a> = 10;
  const unsigned short <a class="idl-code" data-global-name="Node<interface>/DOCUMENT_FRAGMENT_NODE<const>" data-link-type="const" href="#dom-node-document_fragment_node">DOCUMENT_FRAGMENT_NODE</a> = 11;
  const unsigned short <a data-global-name="Node<interface>/NOTATION_NODE<const>" href="#dom-node-notation_node">NOTATION_NODE</a> = 12; // historical
  readonly attribute unsigned short <a class="idl-code" data-global-name="Node<interface>/nodeType<attribute>" data-link-type="attribute" data-readonly="" data-type="unsigned short " href="#dom-node-nodetype">nodeType</a>;
  readonly attribute DOMString <a class="idl-code" data-global-name="Node<interface>/nodeName<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-node-nodename">nodeName</a>;

  readonly attribute DOMString? <a class="idl-code" data-global-name="Node<interface>/baseURI<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString? " href="#dom-node-baseuri">baseURI</a>;

  readonly attribute <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document">Document</a>? <a class="idl-code" data-global-name="Node<interface>/ownerDocument<attribute>" data-link-type="attribute" data-readonly="" data-type="Document? " href="#dom-node-ownerdocument">ownerDocument</a>;
  readonly attribute <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="Node<interface>/parentNode<attribute>" data-link-type="attribute" data-readonly="" data-type="Node? " href="#dom-node-parentnode">parentNode</a>;
  readonly attribute <a data-link-type="idl-name" href="#element">Element</a>? <a class="idl-code" data-global-name="Node<interface>/parentElement<attribute>" data-link-type="attribute" data-readonly="" data-type="Element? " href="#dom-node-parentelement">parentElement</a>;
  boolean <a class="idl-code" data-global-name="Node<interface>/hasChildNodes()<method>" data-link-type="method" href="#dom-node-haschildnodes">hasChildNodes</a>();
  [SameObject] readonly attribute <a data-link-type="idl-name" href="#nodelist">NodeList</a> <a class="idl-code" data-global-name="Node<interface>/childNodes<attribute>" data-link-type="attribute" data-readonly="" data-type="NodeList " href="#dom-node-childnodes">childNodes</a>;
  readonly attribute <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="Node<interface>/firstChild<attribute>" data-link-type="attribute" data-readonly="" data-type="Node? " href="#dom-node-firstchild">firstChild</a>;
  readonly attribute <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="Node<interface>/lastChild<attribute>" data-link-type="attribute" data-readonly="" data-type="Node? " href="#dom-node-lastchild">lastChild</a>;
  readonly attribute <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="Node<interface>/previousSibling<attribute>" data-link-type="attribute" data-readonly="" data-type="Node? " href="#dom-node-previoussibling">previousSibling</a>;
  readonly attribute <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="Node<interface>/nextSibling<attribute>" data-link-type="attribute" data-readonly="" data-type="Node? " href="#dom-node-nextsibling">nextSibling</a>;

           attribute DOMString? <a class="idl-code" data-global-name="Node<interface>/nodeValue<attribute>" data-link-type="attribute" data-type="DOMString? " href="#dom-node-nodevalue">nodeValue</a>;
           attribute DOMString? <a class="idl-code" data-global-name="Node<interface>/textContent<attribute>" data-link-type="attribute" data-type="DOMString? " href="#dom-node-textcontent">textContent</a>;
  void <a class="idl-code" data-global-name="Node<interface>/normalize()<method>" data-link-type="method" href="#dom-node-normalize">normalize</a>();

  [NewObject] <a data-link-type="idl-name" href="#node">Node</a> <a class="idl-code" data-global-name="Node<interface>/cloneNode(deep)<method>/cloneNode()<method>" data-link-type="method" href="#dom-node-clonenodedeep">cloneNode</a>(optional boolean <a data-global-name="Node<interface>/cloneNode(deep)<method>/deep<argument>" href="#dom-node-clonenodedeep-deep">deep</a> = false);
  boolean <a class="idl-code" data-global-name="Node<interface>/isEqualNode(otherNode)<method>" data-link-type="method" href="#dom-node-isequalnodeothernode">isEqualNode</a>(<a data-link-type="idl-name" href="#node">Node</a>? <a data-global-name="Node<interface>/isEqualNode(otherNode)<method>/otherNode<argument>" href="#dom-node-isequalnodeothernode-othernode">otherNode</a>);

  const unsigned short <a class="idl-code" data-global-name="Node<interface>/DOCUMENT_POSITION_DISCONNECTED<const>" data-link-type="const" href="#dom-node-document_position_disconnected">DOCUMENT_POSITION_DISCONNECTED</a> = 0x01;
  const unsigned short <a class="idl-code" data-global-name="Node<interface>/DOCUMENT_POSITION_PRECEDING<const>" data-link-type="const" href="#dom-node-document_position_preceding">DOCUMENT_POSITION_PRECEDING</a> = 0x02;
  const unsigned short <a class="idl-code" data-global-name="Node<interface>/DOCUMENT_POSITION_FOLLOWING<const>" data-link-type="const" href="#dom-node-document_position_following">DOCUMENT_POSITION_FOLLOWING</a> = 0x04;
  const unsigned short <a class="idl-code" data-global-name="Node<interface>/DOCUMENT_POSITION_CONTAINS<const>" data-link-type="const" href="#dom-node-document_position_contains">DOCUMENT_POSITION_CONTAINS</a> = 0x08;
  const unsigned short <a class="idl-code" data-global-name="Node<interface>/DOCUMENT_POSITION_CONTAINED_BY<const>" data-link-type="const" href="#dom-node-document_position_contained_by">DOCUMENT_POSITION_CONTAINED_BY</a> = 0x10;
  const unsigned short <a class="idl-code" data-global-name="Node<interface>/DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC<const>" data-link-type="const" href="#dom-node-document_position_implementation_specific">DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC</a> = 0x20;
  unsigned short <a class="idl-code" data-global-name="Node<interface>/compareDocumentPosition(other)<method>" data-link-type="method" href="#dom-node-comparedocumentpositionother">compareDocumentPosition</a>(<a data-link-type="idl-name" href="#node">Node</a> <a data-global-name="Node<interface>/compareDocumentPosition(other)<method>/other<argument>" href="#dom-node-comparedocumentpositionother-other">other</a>);
  boolean <a class="idl-code" data-global-name="Node<interface>/contains(other)<method>" data-link-type="method" href="#dom-node-containsother">contains</a>(<a data-link-type="idl-name" href="#node">Node</a>? <a data-global-name="Node<interface>/contains(other)<method>/other<argument>" href="#dom-node-containsother-other">other</a>);

  DOMString? <a class="idl-code" data-global-name="Node<interface>/lookupPrefix(namespace)<method>" data-link-type="method" href="#dom-node-lookupprefixnamespace">lookupPrefix</a>(DOMString? <a data-global-name="Node<interface>/lookupPrefix(namespace)<method>/namespace<argument>" href="#dom-node-lookupprefixnamespace-namespace">namespace</a>);
  DOMString? <a class="idl-code" data-global-name="Node<interface>/lookupNamespaceURI(prefix)<method>" data-link-type="method" href="#dom-node-lookupnamespaceuriprefix">lookupNamespaceURI</a>(DOMString? <a data-global-name="Node<interface>/lookupNamespaceURI(prefix)<method>/prefix<argument>" href="#dom-node-lookupnamespaceuriprefix-prefix">prefix</a>);
  boolean <a class="idl-code" data-global-name="Node<interface>/isDefaultNamespace(namespace)<method>" data-link-type="method" href="#dom-node-isdefaultnamespacenamespace">isDefaultNamespace</a>(DOMString? <a data-global-name="Node<interface>/isDefaultNamespace(namespace)<method>/namespace<argument>" href="#dom-node-isdefaultnamespacenamespace-namespace">namespace</a>);

  <a data-link-type="idl-name" href="#node">Node</a> <a class="idl-code" data-global-name="Node<interface>/insertBefore(node, child)<method>" data-link-type="method" href="#dom-node-insertbeforenode-child">insertBefore</a>(<a data-link-type="idl-name" href="#node">Node</a> <a data-global-name="Node<interface>/insertBefore(node, child)<method>/node<argument>" href="#dom-node-insertbeforenode-child-node">node</a>, <a data-link-type="idl-name" href="#node">Node</a>? <a data-global-name="Node<interface>/insertBefore(node, child)<method>/child<argument>" href="#dom-node-insertbeforenode-child-child">child</a>);
  <a data-link-type="idl-name" href="#node">Node</a> <a class="idl-code" data-global-name="Node<interface>/appendChild(node)<method>" data-link-type="method" href="#dom-node-appendchildnode">appendChild</a>(<a data-link-type="idl-name" href="#node">Node</a> <a data-global-name="Node<interface>/appendChild(node)<method>/node<argument>" href="#dom-node-appendchildnode-node">node</a>);
  <a data-link-type="idl-name" href="#node">Node</a> <a class="idl-code" data-global-name="Node<interface>/replaceChild(node, child)<method>" data-link-type="method" href="#dom-node-replacechildnode-child">replaceChild</a>(<a data-link-type="idl-name" href="#node">Node</a> <a data-global-name="Node<interface>/replaceChild(node, child)<method>/node<argument>" href="#dom-node-replacechildnode-child-node">node</a>, <a data-link-type="idl-name" href="#node">Node</a> <a data-global-name="Node<interface>/replaceChild(node, child)<method>/child<argument>" href="#dom-node-replacechildnode-child-child">child</a>);
  <a data-link-type="idl-name" href="#node">Node</a> <a class="idl-code" data-global-name="Node<interface>/removeChild(child)<method>" data-link-type="method" href="#dom-node-removechildchild">removeChild</a>(<a data-link-type="idl-name" href="#node">Node</a> <a data-global-name="Node<interface>/removeChild(child)<method>/child<argument>" href="#dom-node-removechildchild-child">child</a>);
};

[<a class="idl-code" data-global-name="Document<interface>/Document()<constructor>" data-link-type="constructor" href="#dom-document-document">Constructor</a>,
 Exposed=Window]
interface <a class="idl-code" data-global-name="" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document">Document</a> : <a data-link-type="idl-name" href="#node">Node</a> {
  [SameObject] readonly attribute <a data-link-type="idl-name" href="#domimplementation">DOMImplementation</a> <a class="idl-code" data-global-name="Document<interface>/implementation<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMImplementation " href="#dom-document-implementation">implementation</a>;
  readonly attribute DOMString <a class="idl-code" data-global-name="Document<interface>/URL<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-document-url">URL</a>;
  readonly attribute DOMString <a class="idl-code" data-global-name="Document<interface>/documentURI<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-document-documenturi">documentURI</a>;
  readonly attribute DOMString <a class="idl-code" data-global-name="Document<interface>/origin<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-document-origin">origin</a>;
  readonly attribute DOMString <a class="idl-code" data-global-name="Document<interface>/compatMode<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-document-compatmode">compatMode</a>;
  readonly attribute DOMString <a class="idl-code" data-global-name="Document<interface>/characterSet<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-document-characterset">characterSet</a>;
  readonly attribute DOMString <a class="idl-code" data-global-name="Document<interface>/inputEncoding<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-document-inputencoding">inputEncoding</a>; // legacy alias of .characterSet
  readonly attribute DOMString <a class="idl-code" data-global-name="Document<interface>/contentType<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-document-contenttype">contentType</a>;

  readonly attribute <a data-link-type="idl-name" href="#documenttype">DocumentType</a>? <a class="idl-code" data-global-name="Document<interface>/doctype<attribute>" data-link-type="attribute" data-readonly="" data-type="DocumentType? " href="#dom-document-doctype">doctype</a>;
  readonly attribute <a data-link-type="idl-name" href="#element">Element</a>? <a class="idl-code" data-global-name="Document<interface>/documentElement<attribute>" data-link-type="attribute" data-readonly="" data-type="Element? " href="#dom-document-documentelement">documentElement</a>;
  <a data-link-type="idl-name" href="#htmlcollection">HTMLCollection</a> <a class="idl-code" data-global-name="Document<interface>/getElementsByTagName(localName)<method>" data-link-type="method" href="#dom-document-getelementsbytagnamelocalname">getElementsByTagName</a>(DOMString <a data-global-name="Document<interface>/getElementsByTagName(localName)<method>/localName<argument>" href="#dom-document-getelementsbytagnamelocalname-localname">localName</a>);
  <a data-link-type="idl-name" href="#htmlcollection">HTMLCollection</a> <a class="idl-code" data-global-name="Document<interface>/getElementsByTagNameNS(namespace, localName)<method>" data-link-type="method" href="#dom-document-getelementsbytagnamensnamespace-localname">getElementsByTagNameNS</a>(DOMString? <a data-global-name="Document<interface>/getElementsByTagNameNS(namespace, localName)<method>/namespace<argument>" href="#dom-document-getelementsbytagnamensnamespace-localname-namespace">namespace</a>, DOMString <a data-global-name="Document<interface>/getElementsByTagNameNS(namespace, localName)<method>/localName<argument>" href="#dom-document-getelementsbytagnamensnamespace-localname-localname">localName</a>);
  <a data-link-type="idl-name" href="#htmlcollection">HTMLCollection</a> <a class="idl-code" data-global-name="Document<interface>/getElementsByClassName(classNames)<method>" data-link-type="method" href="#dom-document-getelementsbyclassnameclassnames">getElementsByClassName</a>(DOMString <a data-global-name="Document<interface>/getElementsByClassName(classNames)<method>/classNames<argument>" href="#dom-document-getelementsbyclassnameclassnames-classnames">classNames</a>);

  [NewObject] <a data-link-type="idl-name" href="#element">Element</a> <a class="idl-code" data-global-name="Document<interface>/createElement(localName)<method>" data-link-type="method" href="#dom-document-createelementlocalname">createElement</a>(DOMString <a data-global-name="Document<interface>/createElement(localName)<method>/localName<argument>" href="#dom-document-createelementlocalname-localname">localName</a>);
  [NewObject] <a data-link-type="idl-name" href="#element">Element</a> <a class="idl-code" data-global-name="Document<interface>/createElementNS(namespace, qualifiedName)<method>" data-link-type="method" href="#dom-document-createelementnsnamespace-qualifiedname">createElementNS</a>(DOMString? <a data-global-name="Document<interface>/createElementNS(namespace, qualifiedName)<method>/namespace<argument>" href="#dom-document-createelementnsnamespace-qualifiedname-namespace">namespace</a>, DOMString <a data-global-name="Document<interface>/createElementNS(namespace, qualifiedName)<method>/qualifiedName<argument>" href="#dom-document-createelementnsnamespace-qualifiedname-qualifiedname">qualifiedName</a>);
  [NewObject] <a data-link-type="idl-name" href="#documentfragment">DocumentFragment</a> <a class="idl-code" data-global-name="Document<interface>/createDocumentFragment()<method>" data-link-type="method" href="#dom-document-createdocumentfragment">createDocumentFragment</a>();
  [NewObject] <a data-link-type="idl-name" href="#text">Text</a> <a class="idl-code" data-global-name="Document<interface>/createTextNode(data)<method>" data-link-type="method" href="#dom-document-createtextnodedata">createTextNode</a>(DOMString <a data-global-name="Document<interface>/createTextNode(data)<method>/data<argument>" href="#dom-document-createtextnodedata-data">data</a>);
  [NewObject] <a data-link-type="idl-name" href="#comment">Comment</a> <a class="idl-code" data-global-name="Document<interface>/createComment(data)<method>" data-link-type="method" href="#dom-document-createcommentdata">createComment</a>(DOMString <a data-global-name="Document<interface>/createComment(data)<method>/data<argument>" href="#dom-document-createcommentdata-data">data</a>);
  [NewObject] <a data-link-type="idl-name" href="#processinginstruction">ProcessingInstruction</a> <a class="idl-code" data-global-name="Document<interface>/createProcessingInstruction(target, data)<method>" data-link-type="method" href="#dom-document-createprocessinginstructiontarget-data">createProcessingInstruction</a>(DOMString <a data-global-name="Document<interface>/createProcessingInstruction(target, data)<method>/target<argument>" href="#dom-document-createprocessinginstructiontarget-data-target">target</a>, DOMString <a data-global-name="Document<interface>/createProcessingInstruction(target, data)<method>/data<argument>" href="#dom-document-createprocessinginstructiontarget-data-data">data</a>);

  [NewObject] <a data-link-type="idl-name" href="#node">Node</a> <a class="idl-code" data-global-name="Document<interface>/importNode(node, deep)<method>/importNode(node)<method>" data-link-type="method" href="#dom-document-importnodenode-deep">importNode</a>(<a data-link-type="idl-name" href="#node">Node</a> <a data-global-name="Document<interface>/importNode(node, deep)<method>/node<argument>" href="#dom-document-importnodenode-deep-node">node</a>, optional boolean <a data-global-name="Document<interface>/importNode(node, deep)<method>/deep<argument>" href="#dom-document-importnodenode-deep-deep">deep</a> = false);
  <a data-link-type="idl-name" href="#node">Node</a> <a class="idl-code" data-global-name="Document<interface>/adoptNode(node)<method>" data-link-type="method" href="#dom-document-adoptnodenode">adoptNode</a>(<a data-link-type="idl-name" href="#node">Node</a> <a data-global-name="Document<interface>/adoptNode(node)<method>/node<argument>" href="#dom-document-adoptnodenode-node">node</a>);

  [NewObject] <a data-link-type="idl-name" href="#attr">Attr</a> <a class="idl-code" data-global-name="Document<interface>/createAttribute(localName)<method>" data-link-type="method" href="#dom-document-createattributelocalname">createAttribute</a>(DOMString <a data-global-name="Document<interface>/createAttribute(localName)<method>/localName<argument>" href="#dom-document-createattributelocalname-localname">localName</a>);
  [NewObject] <a data-link-type="idl-name" href="#attr">Attr</a> <a class="idl-code" data-global-name="Document<interface>/createAttributeNS(namespace, name)<method>" data-link-type="method" href="#dom-document-createattributensnamespace-name">createAttributeNS</a>(DOMString? <a data-global-name="Document<interface>/createAttributeNS(namespace, name)<method>/namespace<argument>" href="#dom-document-createattributensnamespace-name-namespace">namespace</a>, DOMString <a data-global-name="Document<interface>/createAttributeNS(namespace, name)<method>/name<argument>" href="#dom-document-createattributensnamespace-name-name">name</a>);

  [NewObject] <a data-link-type="idl-name" href="#event">Event</a> <a class="idl-code" data-global-name="Document<interface>/createEvent(interface)<method>" data-link-type="method" href="#dom-document-createeventinterface">createEvent</a>(DOMString interface);

  [NewObject] <a data-link-type="idl-name" href="#range">Range</a> <a class="idl-code" data-global-name="Document<interface>/createRange()<method>" data-link-type="method" href="#dom-document-createrange">createRange</a>();

  // NodeFilter.SHOW_ALL = 0xFFFFFFFF
  [NewObject] <a data-link-type="idl-name" href="#nodeiterator">NodeIterator</a> <a class="idl-code" data-global-name="Document<interface>/createNodeIterator(root, whatToShow, filter)<method>/createNodeIterator(root, whatToShow)<method>/createNodeIterator(root)<method>" data-link-type="method" href="#dom-document-createnodeiteratorroot-whattoshow-filter">createNodeIterator</a>(<a data-link-type="idl-name" href="#node">Node</a> <a data-global-name="Document<interface>/createNodeIterator(root, whatToShow, filter)<method>/root<argument>" href="#dom-document-createnodeiteratorroot-whattoshow-filter-root">root</a>, optional unsigned long <a data-global-name="Document<interface>/createNodeIterator(root, whatToShow, filter)<method>/whatToShow<argument>" href="#dom-document-createnodeiteratorroot-whattoshow-filter-whattoshow">whatToShow</a> = 0xFFFFFFFF, optional <a data-link-type="idl-name" href="#callbackdef-nodefilter">NodeFilter</a>? <a data-global-name="Document<interface>/createNodeIterator(root, whatToShow, filter)<method>/filter<argument>" href="#dom-document-createnodeiteratorroot-whattoshow-filter-filter">filter</a> = null);
  [NewObject] <a data-link-type="idl-name" href="#treewalker">TreeWalker</a> <a class="idl-code" data-global-name="Document<interface>/createTreeWalker(root, whatToShow, filter)<method>/createTreeWalker(root, whatToShow)<method>/createTreeWalker(root)<method>" data-link-type="method" href="#dom-document-createtreewalkerroot-whattoshow-filter">createTreeWalker</a>(<a data-link-type="idl-name" href="#node">Node</a> <a data-global-name="Document<interface>/createTreeWalker(root, whatToShow, filter)<method>/root<argument>" href="#dom-document-createtreewalkerroot-whattoshow-filter-root">root</a>, optional unsigned long <a data-global-name="Document<interface>/createTreeWalker(root, whatToShow, filter)<method>/whatToShow<argument>" href="#dom-document-createtreewalkerroot-whattoshow-filter-whattoshow">whatToShow</a> = 0xFFFFFFFF, optional <a data-link-type="idl-name" href="#callbackdef-nodefilter">NodeFilter</a>? <a data-global-name="Document<interface>/createTreeWalker(root, whatToShow, filter)<method>/filter<argument>" href="#dom-document-createtreewalkerroot-whattoshow-filter-filter">filter</a> = null);
};

[Exposed=Window]
interface <a data-global-name="" href="#xmldocument">XMLDocument</a> : <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document">Document</a> {};

[Exposed=Window]
interface <a data-global-name="" href="#domimplementation">DOMImplementation</a> {
  [NewObject] <a data-link-type="idl-name" href="#documenttype">DocumentType</a> <a class="idl-code" data-global-name="DOMImplementation<interface>/createDocumentType(qualifiedName, publicId, systemId)<method>" data-link-type="method" href="#dom-domimplementation-createdocumenttypequalifiedname-publicid-systemid">createDocumentType</a>(DOMString <a data-global-name="DOMImplementation<interface>/createDocumentType(qualifiedName, publicId, systemId)<method>/qualifiedName<argument>" href="#dom-domimplementation-createdocumenttypequalifiedname-publicid-systemid-qualifiedname">qualifiedName</a>, DOMString <a data-global-name="DOMImplementation<interface>/createDocumentType(qualifiedName, publicId, systemId)<method>/publicId<argument>" href="#dom-domimplementation-createdocumenttypequalifiedname-publicid-systemid-publicid">publicId</a>, DOMString <a data-global-name="DOMImplementation<interface>/createDocumentType(qualifiedName, publicId, systemId)<method>/systemId<argument>" href="#dom-domimplementation-createdocumenttypequalifiedname-publicid-systemid-systemid">systemId</a>);
  [NewObject] <a data-link-type="idl-name" href="#xmldocument">XMLDocument</a> <a class="idl-code" data-global-name="DOMImplementation<interface>/createDocument(namespace, qualifiedName, doctype)<method>/createDocument(namespace, qualifiedName)<method>" data-link-type="method" href="#dom-domimplementation-createdocumentnamespace-qualifiedname-doctype">createDocument</a>(DOMString? <a data-global-name="DOMImplementation<interface>/createDocument(namespace, qualifiedName, doctype)<method>/namespace<argument>" href="#dom-domimplementation-createdocumentnamespace-qualifiedname-doctype-namespace">namespace</a>, [TreatNullAs=<a data-link-type="idl-name">EmptyString</a>] DOMString <a data-global-name="DOMImplementation<interface>/createDocument(namespace, qualifiedName, doctype)<method>/qualifiedName<argument>" href="#dom-domimplementation-createdocumentnamespace-qualifiedname-doctype-qualifiedname">qualifiedName</a>, optional <a data-link-type="idl-name" href="#documenttype">DocumentType</a>? <a data-global-name="DOMImplementation<interface>/createDocument(namespace, qualifiedName, doctype)<method>/doctype<argument>" href="#dom-domimplementation-createdocumentnamespace-qualifiedname-doctype-doctype">doctype</a> = null);
  [NewObject] <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/infrastructure.html#dom-document">Document</a> <a class="idl-code" data-global-name="DOMImplementation<interface>/createHTMLDocument(title)<method>/createHTMLDocument()<method>" data-link-type="method" href="#dom-domimplementation-createhtmldocumenttitle">createHTMLDocument</a>(optional DOMString <a data-global-name="DOMImplementation<interface>/createHTMLDocument(title)<method>/title<argument>" href="#dom-domimplementation-createhtmldocumenttitle-title">title</a>);

  boolean <a class="idl-code" data-global-name="DOMImplementation<interface>/hasFeature()<method>" data-link-type="method" href="#dom-domimplementation-hasfeature">hasFeature</a>(); // useless; always returns true
};

[<a class="idl-code" data-global-name="DocumentFragment<interface>/DocumentFragment()<constructor>" data-link-type="constructor" href="#dom-documentfragment-documentfragment">Constructor</a>,
 Exposed=Window]
interface <a data-global-name="" href="#documentfragment">DocumentFragment</a> : <a data-link-type="idl-name" href="#node">Node</a> {
};

[Exposed=Window]
interface <a data-global-name="" href="#documenttype">DocumentType</a> : <a data-link-type="idl-name" href="#node">Node</a> {
  readonly attribute DOMString <a class="idl-code" data-global-name="DocumentType<interface>/name<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-documenttype-name">name</a>;
  readonly attribute DOMString <a class="idl-code" data-global-name="DocumentType<interface>/publicId<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-documenttype-publicid">publicId</a>;
  readonly attribute DOMString <a class="idl-code" data-global-name="DocumentType<interface>/systemId<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-documenttype-systemid">systemId</a>;
};

[Exposed=Window]
interface <a data-global-name="" href="#element">Element</a> : <a data-link-type="idl-name" href="#node">Node</a> {
  readonly attribute DOMString? <a class="idl-code" data-global-name="Element<interface>/namespaceURI<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString? " href="#dom-element-namespaceuri">namespaceURI</a>;
  readonly attribute DOMString? <a class="idl-code" data-global-name="Element<interface>/prefix<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString? " href="#dom-element-prefix">prefix</a>;
  readonly attribute DOMString <a class="idl-code" data-global-name="Element<interface>/localName<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-element-localname">localName</a>;
  readonly attribute DOMString <a class="idl-code" data-global-name="Element<interface>/tagName<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-element-tagname">tagName</a>;

           attribute DOMString <a class="idl-code" data-global-name="Element<interface>/id<attribute>" data-link-type="attribute" data-type="DOMString " href="#dom-element-id">id</a>;
           attribute DOMString <a class="idl-code" data-global-name="Element<interface>/className<attribute>" data-link-type="attribute" data-type="DOMString " href="#dom-element-classname">className</a>;
  [SameObject] readonly attribute <a data-link-type="idl-name" href="#domtokenlist">DOMTokenList</a> <a class="idl-code" data-global-name="Element<interface>/classList<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMTokenList " href="#dom-element-classlist">classList</a>;

  boolean <a class="idl-code" data-global-name="Element<interface>/hasAttributes()<method>" data-link-type="method" href="#dom-element-hasattributes">hasAttributes</a>();
  [SameObject] readonly attribute <a data-link-type="idl-name" href="#namednodemap">NamedNodeMap</a> <a class="idl-code" data-global-name="Element<interface>/attributes<attribute>" data-link-type="attribute" data-readonly="" data-type="NamedNodeMap " href="#dom-element-attributes">attributes</a>;
  DOMString? <a class="idl-code" data-global-name="Element<interface>/getAttribute(name)<method>" data-link-type="method" href="#dom-element-getattributename">getAttribute</a>(DOMString <a data-global-name="Element<interface>/getAttribute(name)<method>/name<argument>" href="#dom-element-getattributename-name">name</a>);
  DOMString? <a class="idl-code" data-global-name="Element<interface>/getAttributeNS(namespace, localName)<method>" data-link-type="method" href="#dom-element-getattributensnamespace-localname">getAttributeNS</a>(DOMString? <a data-global-name="Element<interface>/getAttributeNS(namespace, localName)<method>/namespace<argument>" href="#dom-element-getattributensnamespace-localname-namespace">namespace</a>, DOMString <a data-global-name="Element<interface>/getAttributeNS(namespace, localName)<method>/localName<argument>" href="#dom-element-getattributensnamespace-localname-localname">localName</a>);
  void <a class="idl-code" data-global-name="Element<interface>/setAttribute(name, value)<method>" data-link-type="method" href="#dom-element-setattributename-value">setAttribute</a>(DOMString <a data-global-name="Element<interface>/setAttribute(name, value)<method>/name<argument>" href="#dom-element-setattributename-value-name">name</a>, DOMString <a data-global-name="Element<interface>/setAttribute(name, value)<method>/value<argument>" href="#dom-element-setattributename-value-value">value</a>);
  void <a class="idl-code" data-global-name="Element<interface>/setAttributeNS(namespace, name, value)<method>" data-link-type="method" href="#dom-element-setattributensnamespace-name-value">setAttributeNS</a>(DOMString? <a data-global-name="Element<interface>/setAttributeNS(namespace, name, value)<method>/namespace<argument>" href="#dom-element-setattributensnamespace-name-value-namespace">namespace</a>, DOMString <a data-global-name="Element<interface>/setAttributeNS(namespace, name, value)<method>/name<argument>" href="#dom-element-setattributensnamespace-name-value-name">name</a>, DOMString <a data-global-name="Element<interface>/setAttributeNS(namespace, name, value)<method>/value<argument>" href="#dom-element-setattributensnamespace-name-value-value">value</a>);
  void <a class="idl-code" data-global-name="Element<interface>/removeAttribute(name)<method>" data-link-type="method" href="#dom-element-removeattributename">removeAttribute</a>(DOMString <a data-global-name="Element<interface>/removeAttribute(name)<method>/name<argument>" href="#dom-element-removeattributename-name">name</a>);
  void <a class="idl-code" data-global-name="Element<interface>/removeAttributeNS(namespace, localName)<method>" data-link-type="method" href="#dom-element-removeattributensnamespace-localname">removeAttributeNS</a>(DOMString? <a data-global-name="Element<interface>/removeAttributeNS(namespace, localName)<method>/namespace<argument>" href="#dom-element-removeattributensnamespace-localname-namespace">namespace</a>, DOMString <a data-global-name="Element<interface>/removeAttributeNS(namespace, localName)<method>/localName<argument>" href="#dom-element-removeattributensnamespace-localname-localname">localName</a>);
  boolean <a class="idl-code" data-global-name="Element<interface>/hasAttribute(name)<method>" data-link-type="method" href="#dom-element-hasattributename">hasAttribute</a>(DOMString <a data-global-name="Element<interface>/hasAttribute(name)<method>/name<argument>" href="#dom-element-hasattributename-name">name</a>);
  boolean <a class="idl-code" data-global-name="Element<interface>/hasAttributeNS(namespace, localName)<method>" data-link-type="method" href="#dom-element-hasattributensnamespace-localname">hasAttributeNS</a>(DOMString? <a data-global-name="Element<interface>/hasAttributeNS(namespace, localName)<method>/namespace<argument>" href="#dom-element-hasattributensnamespace-localname-namespace">namespace</a>, DOMString <a data-global-name="Element<interface>/hasAttributeNS(namespace, localName)<method>/localName<argument>" href="#dom-element-hasattributensnamespace-localname-localname">localName</a>);

  <a data-link-type="idl-name" href="#attr">Attr</a>? <a class="idl-code" data-global-name="Element<interface>/getAttributeNode(name)<method>" data-link-type="method" href="#dom-element-getattributenodename">getAttributeNode</a>(DOMString <a data-global-name="Element<interface>/getAttributeNode(name)<method>/name<argument>" href="#dom-element-getattributenodename-name">name</a>);
  <a data-link-type="idl-name" href="#attr">Attr</a>? <a class="idl-code" data-global-name="Element<interface>/getAttributeNodeNS(namespace, localName)<method>" data-link-type="method" href="#dom-element-getattributenodensnamespace-localname">getAttributeNodeNS</a>(DOMString? <a data-global-name="Element<interface>/getAttributeNodeNS(namespace, localName)<method>/namespace<argument>" href="#dom-element-getattributenodensnamespace-localname-namespace">namespace</a>, DOMString <a data-global-name="Element<interface>/getAttributeNodeNS(namespace, localName)<method>/localName<argument>" href="#dom-element-getattributenodensnamespace-localname-localname">localName</a>);
  <a data-link-type="idl-name" href="#attr">Attr</a>? <a class="idl-code" data-global-name="Element<interface>/setAttributeNode(attr)<method>" data-link-type="method" href="#dom-element-setattributenodeattr">setAttributeNode</a>(<a data-link-type="idl-name" href="#attr">Attr</a> <a data-global-name="Element<interface>/setAttributeNode(attr)<method>/attr<argument>" href="#dom-element-setattributenodeattr-attr">attr</a>);
  <a data-link-type="idl-name" href="#attr">Attr</a>? <a class="idl-code" data-global-name="Element<interface>/setAttributeNodeNS(attr)<method>" data-link-type="method" href="#dom-element-setattributenodensattr">setAttributeNodeNS</a>(<a data-link-type="idl-name" href="#attr">Attr</a> <a data-global-name="Element<interface>/setAttributeNodeNS(attr)<method>/attr<argument>" href="#dom-element-setattributenodensattr-attr">attr</a>);
  <a data-link-type="idl-name" href="#attr">Attr</a> <a class="idl-code" data-global-name="Element<interface>/removeAttributeNode(attr)<method>" data-link-type="method" href="#dom-element-removeattributenodeattr">removeAttributeNode</a>(<a data-link-type="idl-name" href="#attr">Attr</a> <a data-global-name="Element<interface>/removeAttributeNode(attr)<method>/attr<argument>" href="#dom-element-removeattributenodeattr-attr">attr</a>);

  <a data-link-type="idl-name" href="#element">Element</a>? <a class="idl-code" data-global-name="Element<interface>/closest(selectors)<method>" data-link-type="method" href="#dom-element-closestselectors">closest</a>(DOMString <a data-global-name="Element<interface>/closest(selectors)<method>/selectors<argument>" href="#dom-element-closestselectors-selectors">selectors</a>);
  boolean <a class="idl-code" data-global-name="Element<interface>/matches(selectors)<method>" data-link-type="method" href="#dom-element-matchesselectors">matches</a>(DOMString <a data-global-name="Element<interface>/matches(selectors)<method>/selectors<argument>" href="#dom-element-matchesselectors-selectors">selectors</a>);

  <a data-link-type="idl-name" href="#htmlcollection">HTMLCollection</a> <a class="idl-code" data-global-name="Element<interface>/getElementsByTagName(localName)<method>" data-link-type="method" href="#dom-element-getelementsbytagnamelocalname">getElementsByTagName</a>(DOMString <a data-global-name="Element<interface>/getElementsByTagName(localName)<method>/localName<argument>" href="#dom-element-getelementsbytagnamelocalname-localname">localName</a>);
  <a data-link-type="idl-name" href="#htmlcollection">HTMLCollection</a> <a class="idl-code" data-global-name="Element<interface>/getElementsByTagNameNS(namespace, localName)<method>" data-link-type="method" href="#dom-element-getelementsbytagnamensnamespace-localname">getElementsByTagNameNS</a>(DOMString? <a data-global-name="Element<interface>/getElementsByTagNameNS(namespace, localName)<method>/namespace<argument>" href="#dom-element-getelementsbytagnamensnamespace-localname-namespace">namespace</a>, DOMString <a data-global-name="Element<interface>/getElementsByTagNameNS(namespace, localName)<method>/localName<argument>" href="#dom-element-getelementsbytagnamensnamespace-localname-localname">localName</a>);
  <a data-link-type="idl-name" href="#htmlcollection">HTMLCollection</a> <a class="idl-code" data-global-name="Element<interface>/getElementsByClassName(classNames)<method>" data-link-type="method" href="#dom-element-getelementsbyclassnameclassnames">getElementsByClassName</a>(DOMString <a data-global-name="Element<interface>/getElementsByClassName(classNames)<method>/classNames<argument>" href="#dom-element-getelementsbyclassnameclassnames-classnames">classNames</a>);
};
[Exposed=Window]
interface <a data-global-name="" href="#namednodemap">NamedNodeMap</a> {
  readonly attribute unsigned long <a class="idl-code" data-global-name="NamedNodeMap<interface>/length<attribute>" data-link-type="attribute" data-readonly="" data-type="unsigned long " href="#dom-namednodemap-length">length</a>;
  getter <a data-link-type="idl-name" href="#attr">Attr</a>? <a class="idl-code" data-global-name="NamedNodeMap<interface>/item(index)<method>" data-link-type="method" href="#dom-namednodemap-itemindex">item</a>(unsigned long <a data-global-name="NamedNodeMap<interface>/item(index)<method>/index<argument>" href="#dom-namednodemap-itemindex-index">index</a>);
  getter <a data-link-type="idl-name" href="#attr">Attr</a>? <a class="idl-code" data-global-name="NamedNodeMap<interface>/getNamedItem(name)<method>" data-link-type="method" href="#dom-namednodemap-getnameditemname">getNamedItem</a>(DOMString <a data-global-name="NamedNodeMap<interface>/getNamedItem(name)<method>/name<argument>" href="#dom-namednodemap-getnameditemname-name">name</a>);
  <a data-link-type="idl-name" href="#attr">Attr</a>? <a class="idl-code" data-global-name="NamedNodeMap<interface>/getNamedItemNS(namespace, localName)<method>" data-link-type="method" href="#dom-namednodemap-getnameditemnsnamespace-localname">getNamedItemNS</a>(DOMString? <a data-global-name="NamedNodeMap<interface>/getNamedItemNS(namespace, localName)<method>/namespace<argument>" href="#dom-namednodemap-getnameditemnsnamespace-localname-namespace">namespace</a>, DOMString <a data-global-name="NamedNodeMap<interface>/getNamedItemNS(namespace, localName)<method>/localName<argument>" href="#dom-namednodemap-getnameditemnsnamespace-localname-localname">localName</a>);
  <a data-link-type="idl-name" href="#attr">Attr</a>? <a class="idl-code" data-global-name="NamedNodeMap<interface>/setNamedItem(attr)<method>" data-link-type="method" href="#dom-namednodemap-setnameditemattr">setNamedItem</a>(<a data-link-type="idl-name" href="#attr">Attr</a> <a data-global-name="NamedNodeMap<interface>/setNamedItem(attr)<method>/attr<argument>" href="#dom-namednodemap-setnameditemattr-attr">attr</a>);
  <a data-link-type="idl-name" href="#attr">Attr</a>? <a class="idl-code" data-global-name="NamedNodeMap<interface>/setNamedItemNS(attr)<method>" data-link-type="method" href="#dom-namednodemap-setnameditemnsattr">setNamedItemNS</a>(<a data-link-type="idl-name" href="#attr">Attr</a> <a data-global-name="NamedNodeMap<interface>/setNamedItemNS(attr)<method>/attr<argument>" href="#dom-namednodemap-setnameditemnsattr-attr">attr</a>);
  <a data-link-type="idl-name" href="#attr">Attr</a> <a class="idl-code" data-global-name="NamedNodeMap<interface>/removeNamedItem(name)<method>" data-link-type="method" href="#dom-namednodemap-removenameditemname">removeNamedItem</a>(DOMString <a data-global-name="NamedNodeMap<interface>/removeNamedItem(name)<method>/name<argument>" href="#dom-namednodemap-removenameditemname-name">name</a>);
  <a data-link-type="idl-name" href="#attr">Attr</a> <a class="idl-code" data-global-name="NamedNodeMap<interface>/removeNamedItemNS(namespace, localName)<method>" data-link-type="method" href="#dom-namednodemap-removenameditemnsnamespace-localname">removeNamedItemNS</a>(DOMString? <a data-global-name="NamedNodeMap<interface>/removeNamedItemNS(namespace, localName)<method>/namespace<argument>" href="#dom-namednodemap-removenameditemnsnamespace-localname-namespace">namespace</a>, DOMString <a data-global-name="NamedNodeMap<interface>/removeNamedItemNS(namespace, localName)<method>/localName<argument>" href="#dom-namednodemap-removenameditemnsnamespace-localname-localname">localName</a>);
};

[Exposed=Window]
interface <a data-global-name="" href="#attr">Attr</a> {
  readonly attribute DOMString? <a class="idl-code" data-global-name="Attr<interface>/namespaceURI<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString? " href="#dom-attr-namespaceuri">namespaceURI</a>;
  readonly attribute DOMString? <a class="idl-code" data-global-name="Attr<interface>/prefix<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString? " href="#dom-attr-prefix">prefix</a>;
  readonly attribute DOMString <a class="idl-code" data-global-name="Attr<interface>/localName<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-attr-localname">localName</a>;
  readonly attribute DOMString <a class="idl-code" data-global-name="Attr<interface>/name<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-attr-name">name</a>;
           attribute DOMString <a class="idl-code" data-global-name="Attr<interface>/value<attribute>" data-link-type="attribute" data-type="DOMString " href="#dom-attr-value">value</a>;
           attribute DOMString <a class="idl-code" data-global-name="Attr<interface>/nodeValue<attribute>" data-link-type="attribute" data-type="DOMString " href="#dom-attr-nodevalue">nodeValue</a>; // legacy alias of .value
           attribute DOMString <a class="idl-code" data-global-name="Attr<interface>/textContent<attribute>" data-link-type="attribute" data-type="DOMString " href="#dom-attr-textcontent">textContent</a>; // legacy alias of .value

  readonly attribute <a data-link-type="idl-name" href="#element">Element</a>? <a class="idl-code" data-global-name="Attr<interface>/ownerElement<attribute>" data-link-type="attribute" data-readonly="" data-type="Element? " href="#dom-attr-ownerelement">ownerElement</a>;

  readonly attribute boolean <a class="idl-code" data-global-name="Attr<interface>/specified<attribute>" data-link-type="attribute" data-readonly="" data-type="boolean " href="#dom-attr-specified">specified</a>; // useless; always returns true
};
[Exposed=Window]
interface <a data-global-name="" href="#characterdata">CharacterData</a> : <a data-link-type="idl-name" href="#node">Node</a> {
  [TreatNullAs=<a data-link-type="idl-name">EmptyString</a>] attribute DOMString <a class="idl-code" data-global-name="CharacterData<interface>/data<attribute>" data-link-type="attribute" data-type="DOMString " href="#dom-characterdata-data">data</a>;
  readonly attribute unsigned long <a class="idl-code" data-global-name="CharacterData<interface>/length<attribute>" data-link-type="attribute" data-readonly="" data-type="unsigned long " href="#dom-characterdata-length">length</a>;
  DOMString <a class="idl-code" data-global-name="CharacterData<interface>/substringData(offset, count)<method>" data-link-type="method" href="#dom-characterdata-substringdataoffset-count">substringData</a>(unsigned long <a data-global-name="CharacterData<interface>/substringData(offset, count)<method>/offset<argument>" href="#dom-characterdata-substringdataoffset-count-offset">offset</a>, unsigned long <a data-global-name="CharacterData<interface>/substringData(offset, count)<method>/count<argument>" href="#dom-characterdata-substringdataoffset-count-count">count</a>);
  void <a class="idl-code" data-global-name="CharacterData<interface>/appendData(data)<method>" data-link-type="method" href="#dom-characterdata-appenddatadata">appendData</a>(DOMString <a data-global-name="CharacterData<interface>/appendData(data)<method>/data<argument>" href="#dom-characterdata-appenddatadata-data">data</a>);
  void <a class="idl-code" data-global-name="CharacterData<interface>/insertData(offset, data)<method>" data-link-type="method" href="#dom-characterdata-insertdataoffset-data">insertData</a>(unsigned long <a data-global-name="CharacterData<interface>/insertData(offset, data)<method>/offset<argument>" href="#dom-characterdata-insertdataoffset-data-offset">offset</a>, DOMString <a data-global-name="CharacterData<interface>/insertData(offset, data)<method>/data<argument>" href="#dom-characterdata-insertdataoffset-data-data">data</a>);
  void <a class="idl-code" data-global-name="CharacterData<interface>/deleteData(offset, count)<method>" data-link-type="method" href="#dom-characterdata-deletedataoffset-count">deleteData</a>(unsigned long <a data-global-name="CharacterData<interface>/deleteData(offset, count)<method>/offset<argument>" href="#dom-characterdata-deletedataoffset-count-offset">offset</a>, unsigned long <a data-global-name="CharacterData<interface>/deleteData(offset, count)<method>/count<argument>" href="#dom-characterdata-deletedataoffset-count-count">count</a>);
  void <a class="idl-code" data-global-name="CharacterData<interface>/replaceData(offset, count, data)<method>" data-link-type="method" href="#dom-characterdata-replacedataoffset-count-data">replaceData</a>(unsigned long <a data-global-name="CharacterData<interface>/replaceData(offset, count, data)<method>/offset<argument>" href="#dom-characterdata-replacedataoffset-count-data-offset">offset</a>, unsigned long <a data-global-name="CharacterData<interface>/replaceData(offset, count, data)<method>/count<argument>" href="#dom-characterdata-replacedataoffset-count-data-count">count</a>, DOMString <a data-global-name="CharacterData<interface>/replaceData(offset, count, data)<method>/data<argument>" href="#dom-characterdata-replacedataoffset-count-data-data">data</a>);
};

[<a class="idl-code" data-global-name="Text<interface>/Text(data)<constructor>" data-link-type="constructor" href="#dom-text-textdata">Constructor</a>(optional DOMString <a data-global-name="Text<interface>/Text(data)<method>/data<argument>" href="#dom-text-textdata-data">data</a> = ""),
 Exposed=Window]
interface <a data-global-name="" href="#text">Text</a> : <a data-link-type="idl-name" href="#characterdata">CharacterData</a> {
  [NewObject] <a data-link-type="idl-name" href="#text">Text</a> <a class="idl-code" data-global-name="Text<interface>/splitText(offset)<method>" data-link-type="method" href="#dom-text-splittextoffset">splitText</a>(unsigned long <a data-global-name="Text<interface>/splitText(offset)<method>/offset<argument>" href="#dom-text-splittextoffset-offset">offset</a>);
  readonly attribute DOMString <a class="idl-code" data-global-name="Text<interface>/wholeText<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-text-wholetext">wholeText</a>;
};
[Exposed=Window]
interface <a data-global-name="" href="#processinginstruction">ProcessingInstruction</a> : <a data-link-type="idl-name" href="#characterdata">CharacterData</a> {
  readonly attribute DOMString <a class="idl-code" data-global-name="ProcessingInstruction<interface>/target<attribute>" data-link-type="attribute" data-readonly="" data-type="DOMString " href="#dom-processinginstruction-target">target</a>;
};
[<a class="idl-code" data-global-name="Comment<interface>/Comment(data)<constructor>" data-link-type="constructor" href="#dom-comment-commentdata">Constructor</a>(optional DOMString <a data-global-name="Comment<interface>/Comment(data)<method>/data<argument>" href="#dom-comment-commentdata-data">data</a> = ""),
 Exposed=Window]
interface <a data-global-name="" href="#comment">Comment</a> : <a data-link-type="idl-name" href="#characterdata">CharacterData</a> {
};

[<a class="idl-code" data-global-name="Range<interface>/Range()<constructor>" data-link-type="constructor" href="#dom-range-range">Constructor</a>,
 Exposed=Window]
interface <a data-global-name="" href="#range">Range</a> {
  readonly attribute <a data-link-type="idl-name" href="#node">Node</a> <a class="idl-code" data-global-name="Range<interface>/startContainer<attribute>" data-link-type="attribute" data-readonly="" data-type="Node " href="#dom-range-startcontainer">startContainer</a>;
  readonly attribute unsigned long <a class="idl-code" data-global-name="Range<interface>/startOffset<attribute>" data-link-type="attribute" data-readonly="" data-type="unsigned long " href="#dom-range-startoffset">startOffset</a>;
  readonly attribute <a data-link-type="idl-name" href="#node">Node</a> <a class="idl-code" data-global-name="Range<interface>/endContainer<attribute>" data-link-type="attribute" data-readonly="" data-type="Node " href="#dom-range-endcontainer">endContainer</a>;
  readonly attribute unsigned long <a class="idl-code" data-global-name="Range<interface>/endOffset<attribute>" data-link-type="attribute" data-readonly="" data-type="unsigned long " href="#dom-range-endoffset">endOffset</a>;
  readonly attribute boolean <a class="idl-code" data-global-name="Range<interface>/collapsed<attribute>" data-link-type="attribute" data-readonly="" data-type="boolean " href="#dom-range-collapsed">collapsed</a>;
  readonly attribute <a data-link-type="idl-name" href="#node">Node</a> <a class="idl-code" data-global-name="Range<interface>/commonAncestorContainer<attribute>" data-link-type="attribute" data-readonly="" data-type="Node " href="#dom-range-commonancestorcontainer">commonAncestorContainer</a>;

  void <a class="idl-code" data-global-name="Range<interface>/setStart(node, offset)<method>" data-link-type="method" href="#dom-range-setstartnode-offset">setStart</a>(<a data-link-type="idl-name" href="#node">Node</a> <a data-global-name="Range<interface>/setStart(node, offset)<method>/node<argument>" href="#dom-range-setstartnode-offset-node">node</a>, unsigned long <a data-global-name="Range<interface>/setStart(node, offset)<method>/offset<argument>" href="#dom-range-setstartnode-offset-offset">offset</a>);
  void <a class="idl-code" data-global-name="Range<interface>/setEnd(node, offset)<method>" data-link-type="method" href="#dom-range-setendnode-offset">setEnd</a>(<a data-link-type="idl-name" href="#node">Node</a> <a data-global-name="Range<interface>/setEnd(node, offset)<method>/node<argument>" href="#dom-range-setendnode-offset-node">node</a>, unsigned long <a data-global-name="Range<interface>/setEnd(node, offset)<method>/offset<argument>" href="#dom-range-setendnode-offset-offset">offset</a>);
  void <a class="idl-code" data-global-name="Range<interface>/setStartBefore(node)<method>" data-link-type="method" href="#dom-range-setstartbeforenode">setStartBefore</a>(<a data-link-type="idl-name" href="#node">Node</a> <a data-global-name="Range<interface>/setStartBefore(node)<method>/node<argument>" href="#dom-range-setstartbeforenode-node">node</a>);
  void <a class="idl-code" data-global-name="Range<interface>/setStartAfter(node)<method>" data-link-type="method" href="#dom-range-setstartafternode">setStartAfter</a>(<a data-link-type="idl-name" href="#node">Node</a> <a data-global-name="Range<interface>/setStartAfter(node)<method>/node<argument>" href="#dom-range-setstartafternode-node">node</a>);
  void <a class="idl-code" data-global-name="Range<interface>/setEndBefore(node)<method>" data-link-type="method" href="#dom-range-setendbeforenode">setEndBefore</a>(<a data-link-type="idl-name" href="#node">Node</a> <a data-global-name="Range<interface>/setEndBefore(node)<method>/node<argument>" href="#dom-range-setendbeforenode-node">node</a>);
  void <a class="idl-code" data-global-name="Range<interface>/setEndAfter(node)<method>" data-link-type="method" href="#dom-range-setendafternode">setEndAfter</a>(<a data-link-type="idl-name" href="#node">Node</a> <a data-global-name="Range<interface>/setEndAfter(node)<method>/node<argument>" href="#dom-range-setendafternode-node">node</a>);
  void <a class="idl-code" data-global-name="Range<interface>/collapse(toStart)<method>/collapse()<method>" data-link-type="method" href="#dom-range-collapsetostart">collapse</a>(optional boolean <a data-global-name="Range<interface>/collapse(toStart)<method>/toStart<argument>" href="#dom-range-collapsetostart-tostart">toStart</a> = false);
  void <a class="idl-code" data-global-name="Range<interface>/selectNode(node)<method>" data-link-type="method" href="#dom-range-selectnodenode">selectNode</a>(<a data-link-type="idl-name" href="#node">Node</a> <a data-global-name="Range<interface>/selectNode(node)<method>/node<argument>" href="#dom-range-selectnodenode-node">node</a>);
  void <a class="idl-code" data-global-name="Range<interface>/selectNodeContents(node)<method>" data-link-type="method" href="#dom-range-selectnodecontentsnode">selectNodeContents</a>(<a data-link-type="idl-name" href="#node">Node</a> <a data-global-name="Range<interface>/selectNodeContents(node)<method>/node<argument>" href="#dom-range-selectnodecontentsnode-node">node</a>);

  const unsigned short <a data-global-name="Range<interface>/START_TO_START<const>" href="#dom-range-start_to_start">START_TO_START</a> = 0;
  const unsigned short <a data-global-name="Range<interface>/START_TO_END<const>" href="#dom-range-start_to_end">START_TO_END</a> = 1;
  const unsigned short <a data-global-name="Range<interface>/END_TO_END<const>" href="#dom-range-end_to_end">END_TO_END</a> = 2;
  const unsigned short <a data-global-name="Range<interface>/END_TO_START<const>" href="#dom-range-end_to_start">END_TO_START</a> = 3;
  short <a class="idl-code" data-global-name="Range<interface>/compareBoundaryPoints(how, sourceRange)<method>" data-link-type="method" href="#dom-range-compareboundarypointshow-sourcerange">compareBoundaryPoints</a>(unsigned short <a data-global-name="Range<interface>/compareBoundaryPoints(how, sourceRange)<method>/how<argument>" href="#dom-range-compareboundarypointshow-sourcerange-how">how</a>, <a data-link-type="idl-name" href="#range">Range</a> <a data-global-name="Range<interface>/compareBoundaryPoints(how, sourceRange)<method>/sourceRange<argument>" href="#dom-range-compareboundarypointshow-sourcerange-sourcerange">sourceRange</a>);

  void <a class="idl-code" data-global-name="Range<interface>/deleteContents()<method>" data-link-type="method" href="#dom-range-deletecontents">deleteContents</a>();
  [NewObject] <a data-link-type="idl-name" href="#documentfragment">DocumentFragment</a> <a class="idl-code" data-global-name="Range<interface>/extractContents()<method>" data-link-type="method" href="#dom-range-extractcontents">extractContents</a>();
  [NewObject] <a data-link-type="idl-name" href="#documentfragment">DocumentFragment</a> <a class="idl-code" data-global-name="Range<interface>/cloneContents()<method>" data-link-type="method" href="#dom-range-clonecontents">cloneContents</a>();
  void <a class="idl-code" data-global-name="Range<interface>/insertNode(node)<method>" data-link-type="method" href="#dom-range-insertnodenode">insertNode</a>(<a data-link-type="idl-name" href="#node">Node</a> <a data-global-name="Range<interface>/insertNode(node)<method>/node<argument>" href="#dom-range-insertnodenode-node">node</a>);
  void <a class="idl-code" data-global-name="Range<interface>/surroundContents(newParent)<method>" data-link-type="method" href="#dom-range-surroundcontentsnewparent">surroundContents</a>(<a data-link-type="idl-name" href="#node">Node</a> <a data-global-name="Range<interface>/surroundContents(newParent)<method>/newParent<argument>" href="#dom-range-surroundcontentsnewparent-newparent">newParent</a>);

  [NewObject] <a data-link-type="idl-name" href="#range">Range</a> <a class="idl-code" data-global-name="Range<interface>/cloneRange()<method>" data-link-type="method" href="#dom-range-clonerange">cloneRange</a>();
  void <a class="idl-code" data-global-name="Range<interface>/detach()<method>" data-link-type="method" href="#dom-range-detach">detach</a>();

  boolean <a class="idl-code" data-global-name="Range<interface>/isPointInRange(node, offset)<method>" data-link-type="method" href="#dom-range-ispointinrangenode-offset">isPointInRange</a>(<a data-link-type="idl-name" href="#node">Node</a> <a data-global-name="Range<interface>/isPointInRange(node, offset)<method>/node<argument>" href="#dom-range-ispointinrangenode-offset-node">node</a>, unsigned long <a data-global-name="Range<interface>/isPointInRange(node, offset)<method>/offset<argument>" href="#dom-range-ispointinrangenode-offset-offset">offset</a>);
  short <a class="idl-code" data-global-name="Range<interface>/comparePoint(node, offset)<method>" data-link-type="method" href="#dom-range-comparepointnode-offset">comparePoint</a>(<a data-link-type="idl-name" href="#node">Node</a> <a data-global-name="Range<interface>/comparePoint(node, offset)<method>/node<argument>" href="#dom-range-comparepointnode-offset-node">node</a>, unsigned long <a data-global-name="Range<interface>/comparePoint(node, offset)<method>/offset<argument>" href="#dom-range-comparepointnode-offset-offset">offset</a>);

  boolean <a class="idl-code" data-global-name="Range<interface>/intersectsNode(node)<method>" data-link-type="method" href="#dom-range-intersectsnodenode">intersectsNode</a>(<a data-link-type="idl-name" href="#node">Node</a> <a data-global-name="Range<interface>/intersectsNode(node)<method>/node<argument>" href="#dom-range-intersectsnodenode-node">node</a>);

  <a data-global-name="Range/stringification behavior<dfn>" data-link-type="dfn" href="#dom-Range-toString">stringifier</a>;
};

[Exposed=Window]
interface <a data-global-name="" href="#nodeiterator">NodeIterator</a> {
  [SameObject] readonly attribute <a data-link-type="idl-name" href="#node">Node</a> <a class="idl-code" data-global-name="NodeIterator<interface>/root<attribute>" data-link-type="attribute" data-readonly="" data-type="Node " href="#dom-nodeiterator-root">root</a>;
  readonly attribute <a data-link-type="idl-name" href="#node">Node</a> <a class="idl-code" data-global-name="NodeIterator<interface>/referenceNode<attribute>" data-link-type="attribute" data-readonly="" data-type="Node " href="#dom-nodeiterator-referencenode">referenceNode</a>;
  readonly attribute boolean <a class="idl-code" data-global-name="NodeIterator<interface>/pointerBeforeReferenceNode<attribute>" data-link-type="attribute" data-readonly="" data-type="boolean " href="#dom-nodeiterator-pointerbeforereferencenode">pointerBeforeReferenceNode</a>;
  readonly attribute unsigned long <a class="idl-code" data-global-name="NodeIterator<interface>/whatToShow<attribute>" data-link-type="attribute" data-readonly="" data-type="unsigned long " href="#dom-nodeiterator-whattoshow">whatToShow</a>;
  readonly attribute <a data-link-type="idl-name" href="#callbackdef-nodefilter">NodeFilter</a>? <a class="idl-code" data-global-name="NodeIterator<interface>/filter<attribute>" data-link-type="attribute" data-readonly="" data-type="NodeFilter? " href="#dom-nodeiterator-filter">filter</a>;

  <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="NodeIterator<interface>/nextNode()<method>" data-link-type="method" href="#dom-nodeiterator-nextnode">nextNode</a>();
  <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="NodeIterator<interface>/previousNode()<method>" data-link-type="method" href="#dom-nodeiterator-previousnode">previousNode</a>();

  void <a class="idl-code" data-global-name="NodeIterator<interface>/detach()<method>" data-link-type="method" href="#dom-nodeiterator-detach">detach</a>();
};

[Exposed=Window]
interface <a data-global-name="" href="#treewalker">TreeWalker</a> {
  [SameObject] readonly attribute <a data-link-type="idl-name" href="#node">Node</a> <a class="idl-code" data-global-name="TreeWalker<interface>/root<attribute>" data-link-type="attribute" data-readonly="" data-type="Node " href="#dom-treewalker-root">root</a>;
  readonly attribute unsigned long <a class="idl-code" data-global-name="TreeWalker<interface>/whatToShow<attribute>" data-link-type="attribute" data-readonly="" data-type="unsigned long " href="#dom-treewalker-whattoshow">whatToShow</a>;
  readonly attribute <a data-link-type="idl-name" href="#callbackdef-nodefilter">NodeFilter</a>? <a class="idl-code" data-global-name="TreeWalker<interface>/filter<attribute>" data-link-type="attribute" data-readonly="" data-type="NodeFilter? " href="#dom-treewalker-filter">filter</a>;
           attribute <a data-link-type="idl-name" href="#node">Node</a> <a class="idl-code" data-global-name="TreeWalker<interface>/currentNode<attribute>" data-link-type="attribute" data-type="Node " href="#dom-treewalker-currentnode">currentNode</a>;

  <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="TreeWalker<interface>/parentNode()<method>" data-link-type="method" href="#dom-treewalker-parentnode">parentNode</a>();
  <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="TreeWalker<interface>/firstChild()<method>" data-link-type="method" href="#dom-treewalker-firstchild">firstChild</a>();
  <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="TreeWalker<interface>/lastChild()<method>" data-link-type="method" href="#dom-treewalker-lastchild">lastChild</a>();
  <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="TreeWalker<interface>/previousSibling()<method>" data-link-type="method" href="#dom-treewalker-previoussibling">previousSibling</a>();
  <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="TreeWalker<interface>/nextSibling()<method>" data-link-type="method" href="#dom-treewalker-nextsibling">nextSibling</a>();
  <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="TreeWalker<interface>/previousNode()<method>" data-link-type="method" href="#dom-treewalker-previousnode">previousNode</a>();
  <a data-link-type="idl-name" href="#node">Node</a>? <a class="idl-code" data-global-name="TreeWalker<interface>/nextNode()<method>" data-link-type="method" href="#dom-treewalker-nextnode">nextNode</a>();
};
[Exposed=Window]
callback interface <a data-global-name="" href="#callbackdef-nodefilter">NodeFilter</a> {
  // Constants for acceptNode()
  const unsigned short <a class="idl-code" data-global-name="NodeFilter<interface>/FILTER_ACCEPT<const>" data-link-type="const" href="#dom-nodefilter-filter_accept">FILTER_ACCEPT</a> = 1;
  const unsigned short <a class="idl-code" data-global-name="NodeFilter<interface>/FILTER_REJECT<const>" data-link-type="const" href="#dom-nodefilter-filter_reject">FILTER_REJECT</a> = 2;
  const unsigned short <a class="idl-code" data-global-name="NodeFilter<interface>/FILTER_SKIP<const>" data-link-type="const" href="#dom-nodefilter-filter_skip">FILTER_SKIP</a> = 3;

  // Constants for whatToShow
  const unsigned long <a class="idl-code" data-global-name="NodeFilter<interface>/SHOW_ALL<const>" data-link-type="const" href="#dom-nodefilter-show_all">SHOW_ALL</a> = 0xFFFFFFFF;
  const unsigned long <a class="idl-code" data-global-name="NodeFilter<interface>/SHOW_ELEMENT<const>" data-link-type="const" href="#dom-nodefilter-show_element">SHOW_ELEMENT</a> = 0x1;
  const unsigned long <a data-global-name="NodeFilter<interface>/SHOW_ATTRIBUTE<const>" href="#dom-nodefilter-show_attribute">SHOW_ATTRIBUTE</a> = 0x2; // historical
  const unsigned long <a class="idl-code" data-global-name="NodeFilter<interface>/SHOW_TEXT<const>" data-link-type="const" href="#dom-nodefilter-show_text">SHOW_TEXT</a> = 0x4;
  const unsigned long <a data-global-name="NodeFilter<interface>/SHOW_CDATA_SECTION<const>" href="#dom-nodefilter-show_cdata_section">SHOW_CDATA_SECTION</a> = 0x8; // historical
  const unsigned long <a data-global-name="NodeFilter<interface>/SHOW_ENTITY_REFERENCE<const>" href="#dom-nodefilter-show_entity_reference">SHOW_ENTITY_REFERENCE</a> = 0x10; // historical
  const unsigned long <a data-global-name="NodeFilter<interface>/SHOW_ENTITY<const>" href="#dom-nodefilter-show_entity">SHOW_ENTITY</a> = 0x20; // historical
  const unsigned long <a class="idl-code" data-global-name="NodeFilter<interface>/SHOW_PROCESSING_INSTRUCTION<const>" data-link-type="const" href="#dom-nodefilter-show_processing_instruction">SHOW_PROCESSING_INSTRUCTION</a> = 0x40;
  const unsigned long <a class="idl-code" data-global-name="NodeFilter<interface>/SHOW_COMMENT<const>" data-link-type="const" href="#dom-nodefilter-show_comment">SHOW_COMMENT</a> = 0x80;
  const unsigned long <a class="idl-code" data-global-name="NodeFilter<interface>/SHOW_DOCUMENT<const>" data-link-type="const" href="#dom-nodefilter-show_document">SHOW_DOCUMENT</a> = 0x100;
  const unsigned long <a class="idl-code" data-global-name="NodeFilter<interface>/SHOW_DOCUMENT_TYPE<const>" data-link-type="const" href="#dom-nodefilter-show_document_type">SHOW_DOCUMENT_TYPE</a> = 0x200;
  const unsigned long <a class="idl-code" data-global-name="NodeFilter<interface>/SHOW_DOCUMENT_FRAGMENT<const>" data-link-type="const" href="#dom-nodefilter-show_document_fragment">SHOW_DOCUMENT_FRAGMENT</a> = 0x400;
  const unsigned long <a data-global-name="NodeFilter<interface>/SHOW_NOTATION<const>" href="#dom-nodefilter-show_notation">SHOW_NOTATION</a> = 0x800; // historical

  unsigned short <a data-global-name="NodeFilter<interface>/acceptNode(node)<method>" href="#dom-nodefilter-acceptnodenode">acceptNode</a>(<a data-link-type="idl-name" href="#node">Node</a> <a data-global-name="NodeFilter<interface>/acceptNode(node)<method>/node<argument>" href="#dom-nodefilter-acceptnodenode-node">node</a>);
};

interface <a data-global-name="" href="#domtokenlist">DOMTokenList</a> {
  readonly attribute unsigned long <a class="idl-code" data-global-name="DOMTokenList<interface>/length<attribute>" data-link-type="attribute" data-readonly="" data-type="unsigned long " href="#dom-domtokenlist-length">length</a>;
  getter DOMString? <a class="idl-code" data-global-name="DOMTokenList<interface>/item(index)<method>" data-link-type="method" href="#dom-domtokenlist-itemindex">item</a>(unsigned long <a data-global-name="DOMTokenList<interface>/item(index)<method>/index<argument>" href="#dom-domtokenlist-itemindex-index">index</a>);
  boolean <a class="idl-code" data-global-name="DOMTokenList<interface>/contains(token)<method>" data-link-type="method" href="#dom-domtokenlist-containstoken">contains</a>(DOMString <a data-global-name="DOMTokenList<interface>/contains(token)<method>/token<argument>" href="#dom-domtokenlist-containstoken-token">token</a>);
  void <a class="idl-code" data-global-name="DOMTokenList<interface>/add(tokens...)<method>/add()<method>" data-link-type="method" href="#dom-domtokenlist-addtokens">add</a>(DOMString... <a data-global-name="DOMTokenList<interface>/add(tokens...)<method>/tokens<argument>" href="#dom-domtokenlist-addtokens-tokens">tokens</a>);
  void <a class="idl-code" data-global-name="DOMTokenList<interface>/remove(tokens...)<method>/remove()<method>" data-link-type="method" href="#dom-domtokenlist-removetokens">remove</a>(DOMString... <a data-global-name="DOMTokenList<interface>/remove(tokens...)<method>/tokens<argument>" href="#dom-domtokenlist-removetokens-tokens">tokens</a>);
  boolean <a class="idl-code" data-global-name="DOMTokenList<interface>/toggle(token, force)<method>/toggle(token)<method>" data-link-type="method" href="#dom-domtokenlist-toggletoken-force">toggle</a>(DOMString <a data-global-name="DOMTokenList<interface>/toggle(token, force)<method>/token<argument>" href="#dom-domtokenlist-toggletoken-force-token">token</a>, optional boolean <a data-global-name="DOMTokenList<interface>/toggle(token, force)<method>/force<argument>" href="#dom-domtokenlist-toggletoken-force-force">force</a>);
  <a data-global-name="DOMTokenList/stringification behavior<dfn>" data-link-type="dfn" href="#stringification-behavior">stringifier</a>;
  iterable&lt;DOMString>;
};

interface <a data-global-name="" href="#domsettabletokenlist">DOMSettableTokenList</a> : <a data-link-type="idl-name" href="#domtokenlist">DOMTokenList</a> {
            attribute DOMString <a class="idl-code" data-global-name="DOMSettableTokenList<interface>/value<attribute>" data-link-type="attribute" data-type="DOMString " href="#dom-domsettabletokenlist-value">value</a>;
};

</pre>
  <script>self = (typeof window !== 'undefined')
	? window   // if in browser
	: (
		(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)
		? self // if in worker
		: {}   // if in node js
	);

/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 * MIT license http://www.opensource.org/licenses/mit-license.php/
 * @author Lea Verou http://lea.verou.me
 */

var Prism = (function(){

// Private helper vars
var lang = /\blang(?:uage)?-(?!\*)(\w+)\b/i;

var _ = self.Prism = {
	util: {
		encode: function (tokens) {
			if (tokens instanceof Token) {
				return new Token(tokens.type, _.util.encode(tokens.content), tokens.alias);
			} else if (_.util.type(tokens) === 'Array') {
				return tokens.map(_.util.encode);
			} else {
				return tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\u00a0/g, ' ');
			}
		},

		type: function (o) {
			return Object.prototype.toString.call(o).match(/\[object (\w+)\]/)[1];
		},

		// Deep clone a language definition (e.g. to extend it)
		clone: function (o) {
			var type = _.util.type(o);

			switch (type) {
				case 'Object':
					var clone = {};

					for (var key in o) {
						if (o.hasOwnProperty(key)) {
							clone[key] = _.util.clone(o[key]);
						}
					}

					return clone;

				case 'Array':
					return o.slice();
			}

			return o;
		}
	},

	languages: {
		extend: function (id, redef) {
			var lang = _.util.clone(_.languages[id]);

			for (var key in redef) {
				lang[key] = redef[key];
			}

			return lang;
		},

		// Insert a token before another token in a language literal
		insertBefore: function (inside, before, insert, root) {
			root = root || _.languages;
			var grammar = root[inside];
			var ret = {};

			for (var token in grammar) {

				if (grammar.hasOwnProperty(token)) {

					if (token == before) {

						for (var newToken in insert) {

							if (insert.hasOwnProperty(newToken)) {
								ret[newToken] = insert[newToken];
							}
						}
					}

					ret[token] = grammar[token];
				}
			}

			return root[inside] = ret;
		},

		// Traverse a language definition with Depth First Search
		DFS: function(o, callback, type) {
			for (var i in o) {
				if (o.hasOwnProperty(i)) {
					callback.call(o, i, o[i], type || i);

					if (_.util.type(o[i]) === 'Object') {
						_.languages.DFS(o[i], callback);
					} else if (_.util.type(o[i]) === 'Array') {
						_.languages.DFS(o[i], callback, i);
					}
				}
			}
		}
	},

	highlightAll: function(async, callback) {
		var elements = document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code');
		for (var i=0, element; element = elements[i++];) {
			if (element.classList.contains("idl")) {
				// Bikeshed handles IDL blocks already.
				continue;
			}
			_.highlightElement(element, async === true, callback);
		}

		var elements = document.querySelectorAll('pre[class*="language-"], [class*="language-"] pre, pre[class*="lang-"], [class*="lang-"] pre');
		for (var i=0, element; element = elements[i++];) {
			if (element.firstElementChild && element.firstElementChild.tagName.toLowerCase() == "code") {
				// Already handled by the previous loop
				continue;
			}
			if (element.classList.contains("idl")) {
				// Bikeshed handles IDL blocks already.
				continue;
			}
			_.highlightElement(element, async === true, callback);
		}
	},

	highlightElement: function(element, async, callback) {
		// Find language
		var language, grammar, parent = element;

		while (parent && !lang.test(parent.className)) {
			parent = parent.parentNode;
		}

		if (parent) {
			language = (parent.className.match(lang) || [,''])[1];
			grammar = _.languages[language];
		}

		if (!grammar) {
			return;
		}

		// Set language on the element, if not present
		element.className = element.className.replace(lang, '').replace(/\s+/g, ' ') + ' language-' + language;

		// Set language on the parent, for styling
		parent = element.parentNode;

		if (/pre/i.test(parent.nodeName)) {
			parent.className = parent.className.replace(lang, '').replace(/\s+/g, ' ') + ' language-' + language;
		}

		var code = element.textContent;

		if(!code) {
			return;
		}

		var env = {
			element: element,
			language: language,
			grammar: grammar,
			code: code
		};

		_.hooks.run('before-highlight', env);

		if (async && self.Worker) {
			var worker = new Worker(_.filename);

			worker.onmessage = function(evt) {
				env.highlightedCode = Token.stringify(JSON.parse(evt.data), language);

				_.hooks.run('before-insert', env);

				env.element.innerHTML = env.highlightedCode;

				callback && callback.call(env.element);
				_.hooks.run('after-highlight', env);
			};

			worker.postMessage(JSON.stringify({
				language: env.language,
				code: env.code
			}));
		}
		else {
			env.highlightedCode = _.highlight(env.code, env.grammar, env.language)

			_.hooks.run('before-insert', env);

			env.element.innerHTML = env.highlightedCode;

			callback && callback.call(element);

			_.hooks.run('after-highlight', env);
		}
	},

	highlight: function (text, grammar, language) {
		var tokens = _.tokenize(text, grammar);
		return Token.stringify(_.util.encode(tokens), language);
	},

	tokenize: function(text, grammar, language) {
		var Token = _.Token;

		var strarr = [text];

		var rest = grammar.rest;

		if (rest) {
			for (var token in rest) {
				grammar[token] = rest[token];
			}

			delete grammar.rest;
		}

		tokenloop: for (var token in grammar) {
			if(!grammar.hasOwnProperty(token) || !grammar[token]) {
				continue;
			}

			var patterns = grammar[token];
			patterns = (_.util.type(patterns) === "Array") ? patterns : [patterns];

			for (var j = 0; j < patterns.length; ++j) {
				var pattern = patterns[j],
					inside = pattern.inside,
					lookbehind = !!pattern.lookbehind,
					lookbehindLength = 0,
					alias = pattern.alias;

				pattern = pattern.pattern || pattern;

				for (var i=0; i<strarr.length; i++) { // Don’t cache length as it changes during the loop

					var str = strarr[i];

					if (strarr.length > text.length) {
						// Something went terribly wrong, ABORT, ABORT!
						break tokenloop;
					}

					if (str instanceof Token) {
						continue;
					}

					pattern.lastIndex = 0;

					var match = pattern.exec(str);

					if (match) {
						if(lookbehind) {
							lookbehindLength = match[1].length;
						}

						var from = match.index - 1 + lookbehindLength,
							match = match[0].slice(lookbehindLength),
							len = match.length,
							to = from + len,
							before = str.slice(0, from + 1),
							after = str.slice(to + 1);

						var args = [i, 1];

						if (before) {
							args.push(before);
						}

						var wrapped = new Token(token, inside? _.tokenize(match, inside) : match, alias);

						args.push(wrapped);

						if (after) {
							args.push(after);
						}

						Array.prototype.splice.apply(strarr, args);
					}
				}
			}
		}

		return strarr;
	},

	hooks: {
		all: {},

		add: function (name, callback) {
			var hooks = _.hooks.all;

			hooks[name] = hooks[name] || [];

			hooks[name].push(callback);
		},

		run: function (name, env) {
			var callbacks = _.hooks.all[name];

			if (!callbacks || !callbacks.length) {
				return;
			}

			for (var i=0, callback; callback = callbacks[i++];) {
				callback(env);
			}
		}
	}
};

var Token = _.Token = function(type, content, alias) {
	this.type = type;
	this.content = content;
	this.alias = alias;
};

Token.stringify = function(o, language, parent) {
	if (typeof o == 'string') {
		return o;
	}

	if (Object.prototype.toString.call(o) == '[object Array]') {
		return o.map(function(element) {
			return Token.stringify(element, language, o);
		}).join('');
	}

	var env = {
		type: o.type,
		content: Token.stringify(o.content, language, parent),
		tag: 'span',
		classes: ['token', o.type],
		attributes: {},
		language: language,
		parent: parent
	};

	if (env.type == 'comment') {
		env.attributes['spellcheck'] = 'true';
	}

	if (o.alias) {
		var aliases = _.util.type(o.alias) === 'Array' ? o.alias : [o.alias];
		Array.prototype.push.apply(env.classes, aliases);
	}

	_.hooks.run('wrap', env);

	var attributes = '';

	for (var name in env.attributes) {
		attributes += name + '="' + (env.attributes[name] || '') + '"';
	}

	return '<' + env.tag + ' class="' + env.classes.join(' ') + '" ' + attributes + '>' + env.content + '</' + env.tag + '>';

};

if (!self.document) {
	if (!self.addEventListener) {
		// in Node.js
		return self.Prism;
	}
 	// In worker
	self.addEventListener('message', function(evt) {
		var message = JSON.parse(evt.data),
		    lang = message.language,
		    code = message.code;

		self.postMessage(JSON.stringify(_.util.encode(_.tokenize(code, _.languages[lang]))));
		self.close();
	}, false);

	return self.Prism;
}

// Get current script and highlight
var script = document.getElementsByTagName('script');

script = script[script.length - 1];

if (script) {
	_.filename = script.src;

	if (document.addEventListener && !script.hasAttribute('data-manual')) {
		document.addEventListener('DOMContentLoaded', _.highlightAll);
	}
}

return self.Prism;

})();

if (typeof module !== 'undefined' && module.exports) {
	module.exports = Prism;
}
;
Prism.languages.clike = {
	'comment': [
		{
			pattern: /(^|[^\\])\/\*[\w\W]*?\*\//g,
			lookbehind: true
		},
		{
			pattern: /(^|[^\\:])\/\/.*?(\r?\n|$)/g,
			lookbehind: true
		}
	],
	'string': /("|')(\\?.)*?\1/g,
	'class-name': {
		pattern: /((?:(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/ig,
		lookbehind: true,
		inside: {
			punctuation: /(\.|\\)/
		}
	},
	'keyword': /\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/g,
	'boolean': /\b(true|false)\b/g,
	'function': {
		pattern: /[a-z0-9_]+\(/ig,
		inside: {
			punctuation: /\(/
		}
	},
	'number': /\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?)\b/g,
	'operator': /[-+]{1,2}|!|<=?|>=?|={1,3}|&{1,2}|\|?\||\?|\*|\/|\~|\^|\%/g,
	'ignore': /&(lt|gt|amp);/gi,
	'punctuation': /[{}[\];(),.:]/g
};
;
Prism.languages.markup = {
	'comment': /<!--[\w\W]*?-->/g,
	'prolog': /<\?.+?\?>/,
	'doctype': /<!DOCTYPE.+?>/,
	'cdata': /<!\[CDATA\[[\w\W]*?]]>/i,
	'tag': {
		pattern: /<\/?[\w:-]+\s*(?:\s+[\w:-]+(?:=(?:("|')(\\?[\w\W])*?\1|[^\s'">=]+))?\s*)*\/?>/gi,
		inside: {
			'tag': {
				pattern: /^<\/?[\w:-]+/i,
				inside: {
					'punctuation': /^<\/?/,
					'namespace': /^[\w-]+?:/
				}
			},
			'attr-value': {
				pattern: /=(?:('|")[\w\W]*?(\1)|[^\s>]+)/gi,
				inside: {
					'punctuation': /=|>|"/g
				}
			},
			'punctuation': /\/?>/g,
			'attr-name': {
				pattern: /[\w:-]+/g,
				inside: {
					'namespace': /^[\w-]+?:/
				}
			}

		}
	},
	'entity': /\&#?[\da-z]{1,8};/gi
};

// Plugin to make entity title show the real entity, idea by Roman Komarov
Prism.hooks.add('wrap', function(env) {

	if (env.type === 'entity') {
		env.attributes['title'] = env.content.replace(/&amp;/, '&');
	}
});
;
Prism.languages.javascript = Prism.languages.extend('clike', {
	'keyword': /\b(break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|function|get|if|implements|import|in|instanceof|interface|let|new|null|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/g,
	'number': /\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?|NaN|-?Infinity)\b/g
});

Prism.languages.insertBefore('javascript', 'keyword', {
	'regex': {
		pattern: /(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,
		lookbehind: true
	}
});

if (Prism.languages.markup) {
	Prism.languages.insertBefore('markup', 'tag', {
		'script': {
			pattern: /<script[\w\W]*?>[\w\W]*?<\/script>/ig,
			inside: {
				'tag': {
					pattern: /<script[\w\W]*?>|<\/script>/ig,
					inside: Prism.languages.markup.tag.inside
				},
				rest: Prism.languages.javascript
			}
		}
	});
}
;
</script>
 </body>
</html>